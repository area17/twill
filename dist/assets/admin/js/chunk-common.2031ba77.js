(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"0429":function(e,t,i){"use strict";i.d(t,"h",(function(){return n["g"]})),i.d(t,"j",(function(){return a["a"]})),i.d(t,"f",(function(){return r["i"]})),i.d(t,"b",(function(){return s["e"]})),i.d(t,"d",(function(){return m})),i.d(t,"l",(function(){return _})),i.d(t,"i",(function(){return O})),i.d(t,"g",(function(){return b["b"]})),i.d(t,"c",(function(){return L})),i.d(t,"n",(function(){return F})),i.d(t,"m",(function(){return K})),i.d(t,"e",(function(){return pe})),i.d(t,"k",(function(){return be})),i.d(t,"a",(function(){return _e}));var n=i("5589"),a=i("22f7"),r=i("9788"),s=i("d675"),o="addBlock",l="moveBlock",c="deleteBlock",u="duplicateBlock",d="reorderBlocks",f="activateBlock",h="addBlockPreview",p="updateBlockPreviewLoading",m={ADD_BLOCK:o,MOVE_BLOCK:l,DELETE_BLOCK:c,DUPLICATE_BLOCK:u,REORDER_BLOCKS:d,ACTIVATE_BLOCK:f,ADD_BLOCK_PREVIEW:h,UPDATE_PREVIEW_LOADING:p},b=i("9aba"),g=[r["f"],r["d"],r["a"],r["b"],r["c"],r["e"],b["a"],n["e"],n["f"],n["d"],n["a"],n["b"],n["c"],s["d"],s["b"],s["a"],s["c"]],v=[b["a"]],_={REFRESH_BLOCK_PREVIEW:g,REFRESH_BLOCK_PREVIEW_ALL:v},y="updateModalAction",w="updateModalMode",O={UPDATE_MODAL_ACTION:y,UPDATE_MODAL_MODE:w},E="addToBucket",T="deleteFromBucket",C="toggleFeaturedInBucket",A="reorderBucketList",D="updateBucketsDataSource",S="updateBucketsData",P="updateBucketsFilter",x="updateBucketsDataOffset",M="updateBucketsDataPage",k="updateBucketsMaxPage",L={ADD_TO_BUCKET:E,DELETE_FROM_BUCKET:T,TOGGLE_FEATURED_IN_BUCKET:C,REORDER_BUCKET_LIST:A,UPDATE_BUCKETS_DATASOURCE:D,UPDATE_BUCKETS_DATA:S,UPDATE_BUCKETS_FILTER:P,UPDATE_BUCKETS_DATA_OFFSET:x,UPDATE_BUCKETS_DATA_PAGE:M,UPDATE_BUCKETS_MAX_PAGE:k},I="loadingRevision",j="updateRevision",R="updateRevisionContent",N="updatePreviewContent",B="updateAllRevision",F={LOADING_REV:I,UPDATE_REV:j,UPDATE_REV_CONTENT:R,UPDATE_REV_CURRENT_CONTENT:N,UPDATE_REV_ALL:B},$="updatePublishStartDate",U="updatePublishEndDate",V="updatePublishState",q="updatePublishSubmit",H="updatePublishVisibility",W="updateReviewProcess",z="updateSaveType",K={UPDATE_PUBLISH_START_DATE:$,UPDATE_PUBLISH_END_DATE:U,UPDATE_PUBLISH_STATE:V,UPDATE_PUBLISH_VISIBILITY:H,UPDATE_REVIEW_PROCESS:W,UPDATE_PUBLISH_SUBMIT:q,UPDATE_SAVE_TYPE:z},G="updateDatableData",Y="updateDatableBulk",X="replaceDatableBulk",Q="addDatableColumn",J="removeDatableColumn",Z="updateDatableOffset",ee="updateDatablePage",te="updateDatableMaxPage",ie="updateDatableNavigation",ne="updateDatableVisibility",ae="updateDatableSort",re="publishDatatable",se="featureDatatable",oe="updateDatableFilter",le="updateDatableFilterStatus",ce="clearDatableFilter",ue="updateDatableMessage",de="updateDatableLoading",fe="updateDatatableNestedDatas",he="updateDatableTracker",pe={UPDATE_DATATABLE_DATA:G,UPDATE_DATATABLE_BULK:Y,REPLACE_DATATABLE_BULK:X,ADD_DATATABLE_COLUMN:Q,REMOVE_DATATABLE_COLUMN:J,UPDATE_DATATABLE_OFFSET:Z,UPDATE_DATATABLE_PAGE:ee,UPDATE_DATATABLE_MAXPAGE:te,UPDATE_DATATABLE_NAV:ie,UPDATE_DATATABLE_VISIBLITY:ne,UPDATE_DATATABLE_SORT:ae,PUBLISH_DATATABLE:re,FEATURE_DATATABLE:se,UPDATE_DATATABLE_FILTER:oe,UPDATE_DATATABLE_FILTER_STATUS:le,CLEAR_DATATABLE_FILTER:ce,UPDATE_DATATABLE_MESSAGE:ue,UPDATE_DATATABLE_LOADING:de,UPDATE_DATATABLE_NESTED:fe,UPDATE_DATATABLE_TRACKER:he},me="updateParent",be={UPDATE_PARENT:me},ge=(i("f99e"),"emptyAttributes"),ve="updateAttributes",_e={EMPTY_OPTIONS:ge,UPDATE_OPTIONS:ve}},"04dd":function(e,t,i){"use strict";var n=i("f8c8"),a=i.n(n);a.a},"0a8f":function(e,t,i){"use strict";t["a"]={modal:"s--modal",overlay:"s--overlay",editor:"s--in-editor",search:"s--search"}},"0cee":function(e,t,i){"use strict";var n=i("c292"),a=i.n(n);a.a},"0de3":function(e,t,i){},"0e7b":function(e,t,i){},"0fea":function(e,t,i){"use strict";var n=i("1548"),a=i.n(n);a.a},1071:function(e,t,i){"use strict";var n=i("fc07"),a=i.n(n);a.a},"11ed":function(e,t,i){},1249:function(e,t,i){"use strict";var n=i("63ea"),a=i.n(n);t["a"]={props:{min:{type:Number,default:0},max:{type:Number,default:0},disabled:{type:Boolean,default:!1},selected:{type:Array,default:function(){return[]}}},data:function(){return{currentValue:this.selected}},watch:{selected:function(e){this.currentValue=e}},computed:{checkedValue:{get:function(){return this.currentValue},set:function(e){a()(e,this.currentValue)||(this.currentValue=e,"undefined"!==typeof this.saveIntoStore&&this.saveIntoStore(e),this.$emit("change",e))}}},methods:{isMax:function(e){return e.length>this.max&&this.max>0},isMin:function(e){return e.length<this.min&&this.min>0}}}},"124c":function(e,t,i){"use strict";var n=i("19ae"),a=i.n(n);a.a},"14bd":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown",class:e.dropdownClasses,attrs:{"aria-title":e.title}},[e.fixed?i("div",{ref:"dropdown__cta"},[e._t("default")],2):e._t("default"),i("transition",{attrs:{name:"fade_move_dropdown"}},[e.active?i("div",{ref:"dropdown__position",staticClass:"dropdown__position"},[i("div",{staticClass:"dropdown__content",style:e.offsetStyle,attrs:{"data-dropdown-content":""}},[i("div",{staticClass:"dropdown__inner"},[e.arrow?i("span",{staticClass:"dropdown__arrow"}):e._e(),i("div",{staticClass:"dropdown__scroller",style:e.innerStyle},[e.title?i("span",{staticClass:"dropdown__title f--small"},[e._v(e._s(e.title))]):e._e(),e._t("dropdown__content")],2)])])]):e._e()])],2)},a=[],r={name:"A17Dropdown",props:{title:{type:String,default:""},position:{type:String,default:"bottom"},width:{type:String,default:"auto"},maxWidth:{type:Number,default:300},maxHeight:{type:Number,default:0},minWidth:{type:Number,default:0},arrow:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},offset:{type:Number,default:5},sideOffset:{type:Number,default:0},fixed:{type:Boolean,default:!1}},data:function(){return{currentPosition:this.position,currentHeight:100,currentMaxWidth:this.maxWidth,active:!1,originScrollPostion:null,scrollOffset:75}},computed:{dropdownClasses:function(){return{"dropdown--active":this.active,"dropdown--arrow":this.arrow,"dropdown--bottom":this.isPosition("bottom"),"dropdown--top":this.isPosition("top"),"dropdown--left":this.isPosition("left"),"dropdown--right":this.isPosition("right"),"dropdown--center":this.isPosition("center"),"dropdown--full":"full"===this.width,"dropdown--fixed":this.fixed}},offsetStyle:function(){return{"margin-top":this.isPosition("bottom")?this.offset+"px":"","margin-bottom":this.isPosition("top")?this.offset+"px":"",transform:this.sideOffset?"translateX("+this.sideOffset+"px)":"","max-width":this.currentMaxWidth>0&&"full"!==this.width?this.currentMaxWidth+"px":"","min-width":this.minWidth>0?this.minWidth+"px":""}},innerStyle:function(){return{"max-height":this.maxHeight>0?this.maxHeight+"px":"",overflow:this.maxHeight>0?"hidden":"","overflow-y":this.maxHeight>0?"scroll":""}}},methods:{isPosition:function(e){return-1!==this.currentPosition.indexOf(e)},reposition:function(){var e=this.$el.getBoundingClientRect().top+this.$el.offsetHeight+window.pageYOffset+this.offset,t=this.$el.getBoundingClientRect().top+window.pageYOffset-this.offset,i=window.pageYOffset+window.innerHeight;this.currentPosition!==this.position&&(this.currentPosition=this.position),this.isPosition("bottom")?e+this.currentHeight>i&&(this.currentPosition=this.currentPosition.replace(/bottom/i,"top")):this.isPosition("top")&&t-this.currentHeight<window.pageYOffset&&(this.currentPosition=this.currentPosition.replace(/top/i,"bottom"))},getHeight:function(){this.currentHeight=this.$el.querySelector("[data-dropdown-content]")?this.$el.querySelector("[data-dropdown-content]").offsetHeight:100},setMaxWidth:function(){var e=this.$el.getBoundingClientRect();this.isPosition("left")?this.currentMaxWidth=this.maxWidth+e.left>window.innerWidth?window.innerWidth-e.left:this.maxWidth:this.isPosition("right")?this.currentMaxWidth=this.maxWidth+(window.innerWidth-e.right)>window.innerWidth?window.innerWidth-(window.innerWidth-e.right):this.maxWidth:this.currentMaxWidth=this.maxWidth>window.innerWidth?window.innerWidth:this.maxWidth},setFixedPosition:function(){var e=this.$refs.dropdown__cta.getBoundingClientRect();this.isPosition("top")?this.$refs.dropdown__position.style.bottom=Math.round(window.innerHeight-e.bottom+e.height)+"px":this.$refs.dropdown__position.style.top=Math.round(e.top+e.height)+"px",this.isPosition("left")?this.$refs.dropdown__position.style.left=Math.round(e.left)+"px":this.isPosition("right")?this.$refs.dropdown__position.style.right=Math.round(window.innerWidth-e.right)+"px":this.$refs.dropdown__position.style.left=Math.round(e.left+e.width/2)+"px"},closeFromDoc:function(e){var t=e.target;if("scroll"===e.type){if(this.$el.querySelector("[data-dropdown-content]").contains(t))return;var i=window.pageYOffset||document.documentElement.scrollTop;if(i>this.originScrollPostion-this.scrollOffset&&i<this.originScrollPostion+this.scrollOffset)return void this.setFixedPosition()}this.clickable?!this.$el.querySelector("[data-dropdown-content]").contains(t)&&this.clickable&&this.close():this.close()},open:function(e){var t=this;this.active||(document.body.click(),this.timer=setTimeout((function(){t.timer=null,t.active=!0,document.addEventListener("click",t.closeFromDoc,!0),document.addEventListener("touchend",t.closeFromDoc,!0),t.fixed&&(window.addEventListener("scroll",t.closeFromDoc,!0),t.originScrollPostion=window.pageYOffset||document.documentElement.scrollTop),t.$nextTick((function(){this.getHeight(),this.reposition(),this.setMaxWidth(),this.fixed&&this.setFixedPosition()})),t.$emit("open")}),1))},close:function(e){var t=this;if(this.active){if(clearTimeout(this.timer),document.removeEventListener("click",this.closeFromDoc,!0),document.removeEventListener("touchend",this.closeFromDoc,!0),this.fixed)return window.removeEventListener("scroll",this.closeFromDoc,!0),this.originScrollPostion=null,this.active=!1,void this.$emit("close");setTimeout((function(){t.active=!1,t.$emit("close")}),0)}},toggle:function(e){this.active?this.close():this.open()}}},s=r,o=(i("7eaf"),i("8740"),i("2877")),l=Object(o["a"])(s,n,a,!1,null,"0e7b000c",null);t["a"]=l.exports},1539:function(e,t,i){"use strict";var n,a=i("a026"),r=i("2f62"),s=i("0644"),o=i.n(s),l=i("0429");function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u,d={crops:window["TWILL"].STORE.medias.crops||{},types:window["TWILL"].STORE.medias.types||[],type:"image",connector:null,max:0,filesizeMax:0,widthMin:0,heightMin:0,strict:!0,selected:window["TWILL"].STORE.medias.selected||{},loading:[],uploadProgress:0,indexToReplace:-1},f={},h=(n={},c(n,l["h"].UPDATE_MEDIA_TYPE_TOTAL,(function(e,t){e.types=e.types.map((function(e){return e.value===t.type&&(e.total=t.total),e}))})),c(n,l["h"].UPDATE_REPLACE_INDEX,(function(e,t){e.indexToReplace=t})),c(n,l["h"].INCREMENT_MEDIA_TYPE_TOTAL,(function(e,t){e.types=e.types.map((function(e){return e.value===t&&(e.total=e.total+1),e}))})),c(n,l["h"].DECREMENT_MEDIA_TYPE_TOTAL,(function(e,t){e.types=e.types.map((function(e){return e.value===t&&(e.total=e.total-1),e}))})),c(n,l["h"].SAVE_MEDIAS,(function(e,t){if(e.connector){var i=e.connector,n=e.selected[i]&&e.selected[i].length;if(n&&e.indexToReplace>-1)e.selected[i].splice(e.indexToReplace,1,o()(t[0]));else if(n)t.forEach((function(t){e.selected[i].push(o()(t))}));else{var a={};a[i]=t,e.selected=Object.assign({},e.selected,a)}e.indexToReplace=-1}})),c(n,l["h"].DESTROY_SPECIFIC_MEDIA,(function(e,t){e.selected[t.name]&&(e.selected[t.name].splice(t.index,1),0===e.selected[t.name].length&&a["a"].delete(e.selected,t.name)),e.connector=null})),c(n,l["h"].DESTROY_MEDIAS,(function(e,t){e.selected[t]&&a["a"].delete(e.selected,t),e.connector=null})),c(n,l["h"].REORDER_MEDIAS,(function(e,t){var i={};i[t.name]=t.medias,e.selected=Object.assign({},e.selected,i)})),c(n,l["h"].PROGRESS_UPLOAD_MEDIA,(function(e,t){var i=e.loading.filter((function(e){return e.id===t.id}));i.length?(i[0].error=!1,i[0].progress=t.progress):e.loading.unshift({id:t.id,name:t.name,progress:t.progress})})),c(n,l["h"].PROGRESS_UPLOAD,(function(e,t){e.uploadProgress=t})),c(n,l["h"].DONE_UPLOAD_MEDIA,(function(e,t){e.loading.forEach((function(i,n){i.id===t.id&&e.loading.splice(n,1)}))})),c(n,l["h"].ERROR_UPLOAD_MEDIA,(function(e,t){e.loading.forEach((function(i,n){i.id===t.id&&(a["a"].set(e.loading[n],"progress",0),a["a"].set(e.loading[n],"error",!0),a["a"].set(e.loading[n],"errorMessage",t.errorMessage))}))})),c(n,l["h"].UPDATE_MEDIA_CONNECTOR,(function(e,t){e.connector=t&&""!==t?t:null})),c(n,l["h"].UPDATE_MEDIA_MODE,(function(e,t){e.strict=t})),c(n,l["h"].UPDATE_MEDIA_TYPE,(function(e,t){t&&""!==t&&(e.type=t)})),c(n,l["h"].RESET_MEDIA_TYPE,(function(e){e.type=e.types[0].value})),c(n,l["h"].UPDATE_MEDIA_MAX,(function(e,t){e.max=Math.max(0,t)})),c(n,l["h"].UPDATE_MEDIA_FILESIZE_MAX,(function(e,t){e.filesizeMax=Math.max(0,t)})),c(n,l["h"].UPDATE_MEDIA_WIDTH_MIN,(function(e,t){e.widthMin=Math.max(0,t)})),c(n,l["h"].UPDATE_MEDIA_HEIGHT_MIN,(function(e,t){e.heightMin=Math.max(0,t)})),c(n,l["h"].SET_MEDIA_METADATAS,(function(e,t){var i=t.media.context,n=e.selected[i],r=t.value;function s(e){return r.locale?(e.metadatas.custom[r.id]||(e.metadatas.custom[r.id]={}),e.metadatas.custom[r.id][r.locale]=r.value):e.metadatas.custom[r.id]=r.value,e}if(t.media.hasOwnProperty("index")){var l=s(o()(n[t.media.index]));a["a"].set(n,t.media.index,l)}})),c(n,l["h"].DESTROY_MEDIA_CONNECTOR,(function(e){e.connector=null})),c(n,l["h"].SET_MEDIA_CROP,(function(e,t){var i=t.key,n=t.index,r=e.selected[i][n];function s(e){for(var i in e.crops||(e.crops={}),t.values){var n={};n.name=t.values[i].name||i,n.x=t.values[i].x,n.y=t.values[i].y,n.width=t.values[i].width,n.height=t.values[i].height,e.crops[i]=n}return e}var l=s(o()(r));a["a"].set(e.selected[i],n,l)})),n),p={state:d,getters:f,mutations:h};function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var b={success:null,info:null,warning:null,error:null},g={notifByVariant:function(e){return function(t){return e[t]}},notified:function(e){return 0===Object.keys(e).filter((function(t){return null!==e[t]})).length}},v=(u={},m(u,l["j"].SET_NOTIF,(function(e,t){e[t.variant]=t.message})),m(u,l["j"].CLEAR_NOTIF,(function(e,t){e[t]&&(e[t]=null)})),u),_={state:b,getters:g,mutations:v};a["a"].use(r["a"]);var y=!1;t["a"]=new r["a"].Store({modules:{notification:_,mediaLibrary:p},strict:y})},1548:function(e,t,i){},"159c":function(e,t,i){"use strict";t["a"]={methods:{openEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.$root.$refs.editor&&this.$root.$refs.editor.open(e)}}}},"16f9":function(e,t,i){"use strict";var n=i("bfa9"),a=function(){var e=document.querySelectorAll("[data-medialib-btn]");function t(){window["TWILL"].vm&&window["TWILL"].vm.openFreeMediaLibrary()}e.length&&Object(n["a"])(e,(function(e){e.addEventListener("click",(function(i){i.preventDefault(),t(),e.blur()}))}))};t["a"]=a},1800:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"itemlist"},[i("table",{staticClass:"itemlist__table"},[i("tbody",[e._l(e.itemsLoading,(function(t,n){return i("tr",{key:t.id,staticClass:"itemlist__row"},[i("td",{staticClass:"itemlist__cell itemlist__cell--loading",class:{"itemlist__cell--error":t.error},attrs:{colspan:e.columnsNumber}},[t.error?i("span",{staticClass:"itemlist__progressError"},[e._v("Upload Error")]):i("span",{staticClass:"itemlist__progress"},[i("span",{staticClass:"itemlist__progressBar",style:e.loadingProgress(n)})])])])})),e._l(e.items,(function(t){return i("tr",{key:t.endpointType+"_"+t.id,staticClass:"itemlist__row",class:{"s--picked":e.isSelected(t,e.keysToCheck),"s--disabled":t.disabled},on:{click:[function(i){return i.ctrlKey||i.shiftKey||i.altKey||i.metaKey?null:(i.preventDefault(),e.toggleSelection(t))},function(i){return i.shiftKey?i.ctrlKey||i.altKey||i.metaKey?null:(i.preventDefault(),e.shiftToggleSelection(t)):null}]}},[t.hasOwnProperty("id")?i("td",{staticClass:"itemlist__cell itemlist__cell--btn"},[i("a17-checkbox",{attrs:{name:"item_list",value:t.endpointType+"_"+t.id,initialValue:e.checkedItems,theme:"bold",disabled:t.disabled}})],1):e._e(),t.hasOwnProperty("thumbnail")?i("td",{staticClass:"itemlist__cell itemlist__cell--thumb"},[i("img",{attrs:{src:t.thumbnail}})]):e._e(),t.hasOwnProperty("name")?i("td",{staticClass:"itemlist__cell itemlist__cell--name"},[t.hasOwnProperty("renderHtml")?i("div",{domProps:{innerHTML:e._s(t.name)}}):i("div",[e._v(e._s(t.name))])]):e._e(),e._l(e.extraColumns,(function(n,a){return i("td",{key:a,staticClass:"itemlist__cell",class:e.rowClass(n)},["size"===n?[e._v(e._s(e._f("uppercase")(t[n])))]:[e._v(e._s(t[n]))]],2)}))],2)}))],2)])])},a=[],r=i("4e53"),s=i("df63"),o={name:"A17Itemlist",props:{keysToCheck:{type:Array,default:function(){return["id"]}}},mixins:[s["a"]],filters:r["a"],computed:{columnsNumber:function(){if(!this.items.length)return 0;var e=this.extraColumns.length,t=this.items[0];return t.hasOwnProperty("id")&&e++,t.hasOwnProperty("name")&&e++,t.hasOwnProperty("thumbnail")&&e++,e},extraColumns:function(){if(!this.items.length)return[];var e=this.items[0];return Object.keys(e).filter((function(t){return!["id","name","thumbnail","src","original","edit","crop","deleteUrl","updateUrl","updateBulkUrl","deleteBulkUrl","endpointType","filesizeInMb"].includes(t)&&"string"===typeof e[t]}))},checkedItems:function(){var e=[];return this.selectedItems.length&&this.selectedItems.forEach((function(t){e.push(t.endpointType+"_"+t.id)})),e}},methods:{rowClass:function(e){return"itemlist__cell--"+e},loadingProgress:function(e){return{width:this.itemsLoading[e].progress?this.itemsLoading[e].progress+"%":"0%"}}}},l=o,c=(i("7ba2"),i("2877")),u=Object(c["a"])(l,n,a,!1,null,"1e36b972",null);t["a"]=u.exports},"19ae":function(e,t,i){},"1a8d":function(e,t,i){"use strict";var n=i("0429");t["a"]={props:{type:{type:String,default:"image"}},methods:{openMediaLibrary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.name,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.$store.commit(n["h"].UPDATE_MEDIA_CONNECTOR,t),this.$store.commit(n["h"].UPDATE_MEDIA_TYPE,this.type),this.$store.commit(n["h"].UPDATE_REPLACE_INDEX,i),this.$store.commit(n["h"].UPDATE_MEDIA_MAX,e),this.$store.commit(n["h"].UPDATE_MEDIA_MODE,!0),this.$store.commit(n["h"].UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(n["h"].UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(n["h"].UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}}},"1ad4":function(e,t,i){},"1c68":function(e,t,i){"use strict";var n=i("be93"),a=i.n(n);a.a},"1f21":function(e,t,i){"use strict";var n=i("398d"),a=i.n(n);a.a},"22bb":function(e,t,i){"use strict";var n=i("c234"),a=i.n(n);a.a},"22f7":function(e,t,i){"use strict";var n="setNotification",a="clearNotification";t["a"]={SET_NOTIF:n,CLEAR_NOTIF:a}},2732:function(e,t,i){"use strict";var n=i("b057"),a=i.n(n);a.a},2881:function(e,t,i){"use strict";var n=i("753c"),a=i.n(n);a.a},"2ac7":function(e,t,i){"use strict";var n=i("b487"),a=i.n(n);a.a},"2c83":function(e,t,i){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var a=function(e){var t,i={el:document,offset:0,duration:250,easing:"linear"},a=Date.now(),r=0,s=!1,o={linear:function(e){return e},easeIn:function(e){return e*e*e},easeOut:function(e){return--e*e*e+1},easeInOut:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}},l=window.requestAnimationFrame;for(var c in e)"undefined"!==typeof e[c]&&(i[c]=e[c]);function u(e,t){return e<t?e:t}function d(){if(l)try{cancelAnimationFrame(t)}catch(e){}else clearTimeout(t)}function f(){if(s&&0===r)document.documentElement.scrollTop=1,document.body.scrollTop=1,r=1,i.el=document.documentElement.scrollTop?document.documentElement:document.body,requestAnimationFrame(f);else{var e=Date.now(),t=u(1,(e-a)/i.duration),l=o[i.easing](t);i.el.scrollTop=l*(i.offset-r)+r,t<1?h():(d(),"function"===n(i.onComplete).toLowerCase()&&i.onComplete.call(this))}}function h(){t=l?requestAnimationFrame(f):setTimeout((function(){f()}),1e3/60)}i.el===document&&(s=!0,i.el=document.documentElement.scrollTop?document.documentElement:document.body),r=i.el.scrollTop,r!==i.offset&&h()};t["a"]=a},"2e01":function(e,t,i){"use strict";var n,a,r=i("0429"),s={name:"A17Button",props:{el:{type:String,default:"button"},type:{type:String,default:"button"},href:{type:String,default:""},target:{type:String,default:""},download:{type:String,default:""},rel:{type:String,default:""},variant:{type:String,default:""},icon:{default:""},disabled:{type:Boolean,default:!1},size:{type:String,default:""}},computed:{buttonClasses:function(){var e=["button",this.size?"button--".concat(this.size):""];return this.variant&&this.variant.split(" ").forEach((function(t){e.push("button--".concat(t))})),this.icon&&e.push("button--icon button--".concat(this.icon)),e}},methods:{onClick:function(e){this.$emit("click")}},render:function(e){var t=this,i={class:this.buttonClasses,attrs:{},on:{click:function(e){t.onClick(e)}}};return"button"===this.el&&(i.attrs.type=this.type,this.disabled&&(i.attrs.disabled=this.disabled)),"a"===this.el&&this.href&&(i.attrs.href=this.href,this.target&&(i.attrs.target=this.target),this.download&&(i.attrs.download=this.download),this.rel&&(i.attrs.rel=this.rel)),e(this.el,i,this.$slots.default)}},o=s,l=(i("b0ae2"),i("2877")),c=Object(l["a"])(o,n,a,!1,null,"2c3d97ec",null),u=c.exports,d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{variant:"icon",size:"smallIcon","data-tooltip-title":e.text,"data-tooltip-theme":"large","data-tooltip-placement":"right"}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"info"}})])},f=[],h={name:"A17Infotip",props:{text:{default:""}},computed:{},methods:{onClick:function(){this.$emit("click")}}},p=h,m=(i("6cf8"),Object(l["a"])(p,d,f,!1,null,"2da324be",null)),b=m.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,name:e.name,"label-for":e.uniqId,required:e.required,"add-new":e.addNew},on:{localize:e.updateLocale}},[i("span",{staticClass:"select__input",class:e.selectClasses},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],attrs:{name:e.name,id:e.uniqId,disabled:e.disabled,required:e.required,readonly:e.readonly},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedValue=t.target.multiple?i:i[0]}}},e._l(e.fullOptions,(function(t,n){return i("option",{key:n,domProps:{value:t.value,innerHTML:e._s(t.label)}})})),0)])]),e.addNew?[i("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e()],2)},v=[],_=i("825f"),y=i("da6f"),w=i("67ff"),O=i("f03e"),E=i("ed28"),T=i("7d9f"),C={name:"A17Select",mixins:[_["a"],y["a"],O["a"],T["a"],w["a"],E["a"]],props:{size:{type:String,default:""},selected:{default:""},options:{default:function(){return[]}}},data:function(){return{value:this.selected}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},selectClasses:function(){return["small"===this.size?"select__input--small":"","large"===this.size?"select__input--large":""]},selectedValue:{get:function(){return this.value},set:function(e){this.value=e,this.saveIntoStore(e),this.$emit("change",e)}}},methods:{updateFromStore:function(e){this.value=e}},mounted:function(){this.$emit("change",this.value)}},A=C,D=(i("7c45"),Object(l["a"])(A,g,v,!1,null,"47b63144",null)),S=D.exports,P=i("7b5e"),x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isCurrentLocale,expression:"isCurrentLocale"}],staticClass:"input",class:e.textfieldClasses,attrs:{hidden:!e.isCurrentLocale||null}},[e.label?i("label",{staticClass:"input__label",attrs:{for:e.labelFor||e.name}},[e._v(" "+e._s(e.label)),e.required?i("span",{staticClass:"input__required"},[e._v("*")]):e._e(),e.hasLocale&&e.languages.length>1?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"input__lang",attrs:{"data-tooltip-title":"Switch language"},on:{click:e.onClickLocale}},[e._v(e._s(e.displayedLocale))]):e._e(),e.note?i("span",{staticClass:"input__note f--small"},[e._v(e._s(e.note))]):e._e()]):e._e(),e.addNew?i("a",{staticClass:"input__add",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.openAddModal(t)}}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}}),e._v(" "),i("span",{staticClass:"f--link-underlined--o"},[e._v("Add New")])]):e._e(),e._t("default"),e.error&&e.errorMessage?i("span",{staticClass:"input__errorMessage f--small",domProps:{innerHTML:e._s(e.errorMessage)}}):e._e(),e.otherLocalesError?i("span",{staticClass:"input__errorMessage f--small"},[e._v(e._s(e.errorMessageLocales))]):e._e()],2)},M=[],k={name:"A17InputFrame",mixins:[y["a"],O["a"],T["a"]],props:{addNew:{type:String,default:""}},computed:{textfieldClasses:function(){return{"input--error":this.error,"input--small":"small"===this.size}}},methods:{openAddModal:function(){this.$parent.$refs.addModal&&this.$parent.$refs.addModal.open()}}},L=k,I=(i("ae2b"),Object(l["a"])(L,x,M,!1,null,"7b0f9b44",null)),j=I.exports,R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,required:e.required}},[i("div",{staticClass:"form__field",class:e.textfieldClasses},[i("input",{attrs:{type:"text",placeholder:e.placeholder,name:e.name,id:e.name,disabled:e.disabled,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete,maxlength:"7"},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}),i("a17-dropdown",{ref:"colorDropdown",staticClass:"form__field--color",attrs:{position:"bottom-right",arrow:!0,offset:15,minWidth:300,clickable:!0,sideOffset:15},on:{close:e.saveIntoStore}},[i("span",{staticClass:"form__field--colorBtn",style:e.bcgStyle,on:{click:function(t){return e.$refs.colorDropdown.toggle()}}}),i("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[i("a17-colorpicker",{attrs:{color:e.value},on:{change:e.updateValueFromPicker}})],1)])],1)])},N=[],B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"colorpicker"},[i("div",{staticClass:"colorpicker__color"},[i("div",{ref:"satContainer",staticClass:"colorpicker__saturation",style:{background:e.bgColor},on:{mousedown:function(t){return e.handleMouseDown("saturation")}}},[i("div",{staticClass:"colorpicker__saturation--white"}),i("div",{staticClass:"colorpicker__saturation--black"}),i("div",{staticClass:"colorpicker__saturation-pointer",style:{top:e.satPointerTop,left:e.satPointerLeft}},[i("div",{staticClass:"colorpicker__saturation-circle"})])]),i("div",{staticClass:"colorpicker__hue colorpicker__hue--vertical"},[i("div",{ref:"hueContainer",staticClass:"colorpicker__hue-container",on:{mousedown:function(t){return e.handleMouseDown("hue")}}},[i("div",{staticClass:"colorpicker__hue-pointer",style:{top:e.huePointerTop,left:e.huePointerLeft}},[i("div",{staticClass:"colorpicker__hue-picker"})])])])])])},F=[],$=i("66cb"),U=i.n($),V=i("0f32"),q=i.n(V),H={name:"a17ColorPicker",props:{color:{type:String,required:!0},direction:{type:String,default:"vertical"}},data:function(){return{currentColor:U()(this.color),currentColorHue:U()(this.color).toHsv().h,currentTarget:"",pullDirection:""}},computed:{bgColor:function(){return"hsl(".concat(this.currentColorHue,", 100%, 50%)")},satPointerTop:function(){return-100*this.currentColor.toHsv().v+1+100+"%"},satPointerLeft:function(){return 100*this.currentColor.toHsv().s+"%"},huePointerTop:function(){return"vertical"===this.direction?0===this.currentColorHue&&"right"===this.pullDirection?0:-100*this.currentColorHue/360+100+"%":0},huePointerLeft:function(){return"vertical"===this.direction?0:0===this.currentColorHue&&"right"===this.pullDirection?"100%":100*this.currentColorHue/360+"%"}},methods:{throttle:q()((function(e,t){e(t)}),20,{leading:!0,trailing:!1}),satHandleChange:function(e,t){!t&&e.preventDefault();var i=this.$refs.satContainer;if(i){var n=i.clientWidth,a=i.clientHeight,r=i.getBoundingClientRect().left+window.pageXOffset,s=i.getBoundingClientRect().top+window.pageYOffset,o=e.pageX||(e.touches?e.touches[0].pageX:0),l=e.pageY||(e.touches?e.touches[0].pageY:0),c=o-r,u=l-s;c<0?c=0:c>n?c=n:u<0?u=0:u>a&&(u=a);var d=c/n,f=-u/a+1;f=f>0?f:0,f=f>1?1:f,this.throttle(this.onChange,{h:this.currentColorHue,s:d,v:f,a:this.currentColor.toHsv().a})}},hueHandleChange:function(e,t){!t&&e.preventDefault();var i,n,a=this.$refs.hueContainer,r=a.clientWidth,s=a.clientHeight,o=a.getBoundingClientRect().left+window.pageXOffset,l=a.getBoundingClientRect().top+window.pageYOffset,c=e.pageX||(e.touches?e.touches[0].pageX:0),u=e.pageY||(e.touches?e.touches[0].pageY:0),d=c-o,f=u-l;"vertical"===this.direction?f<0?i=360:f>s?i=0:(n=-100*f/s+100,i=360*n/100):d<0?i=0:d>r?i=360:(n=100*d/r,i=360*n/100),this.currentColorHue!==i&&this.throttle(this.onChange,{h:i,s:this.currentColor.toHsl().s,l:this.currentColor.toHsl().l,a:this.currentColor.toHsl().a,source:"hsl"})},handleMouseDown:function(e){this.currentTarget=e,"saturation"===this.currentTarget?(window.addEventListener("mousemove",this.satHandleChange),window.addEventListener("mouseup",this.satHandleChange)):(window.addEventListener("mousemove",this.hueHandleChange),window.addEventListener("mouseup",this.hueHandleChange)),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(e){this.unbindEventListeners()},unbindEventListeners:function(){"saturation"===this.currentTarget?(window.removeEventListener("mousemove",this.satHandleChange),window.removeEventListener("mouseup",this.satHandleChange)):(window.removeEventListener("mousemove",this.hueHandleChange),window.removeEventListener("mouseup",this.hueHandleChange)),window.removeEventListener("mouseup",this.handleMouseUp)},onChange:function(e){this.currentColor=U()(e),this.currentColorHue=e.h,this.$emit("change",this.currentColor.toHexString())}}},W=H,z=(i("b773"),Object(l["a"])(W,B,F,!1,null,null,null)),K=z.exports,G={name:"a17ColorField",mixins:[y["a"],O["a"],w["a"]],props:{name:{type:String,required:!0},initialValue:{default:""}},components:{"a17-colorpicker":K},data:function(){return{focused:!1,value:this.initialValue}},computed:{bcgStyle:function(){return{"background-color":""!==this.value?this.value:"transparent"}},textfieldClasses:function(){return{"s--focus":this.focused,"s--disabled":this.disabled}}},methods:{updateFromStore:function(e){"undefined"===typeof e&&(e=""),this.value!==e&&(this.value=e)},updateValueFromPicker:function(e){this.value!==e&&(this.value=e)},updateValue:function(e){this.value!==e&&(this.value=e,this.saveIntoStore())},onBlur:function(e){var t=e.target.value;this.updateValue(t),this.focused=!1},onFocus:function(){this.focused=!0},onInput:function(){}}},Y=G,X=(i("5b74"),Object(l["a"])(Y,R,N,!1,null,"947c7b02",null)),Q=X.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,size:e.size,name:e.name,"label-for":e.uniqId,required:e.required},on:{localize:e.updateLocale}},[i("div",{staticClass:"input__field",class:e.textfieldClasses},[e.hasPrefix?i("span",{staticClass:"input__prefix"},[e._v(e._s(e.prefix))]):e._e(),"textarea"===e.type?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"clone",staticClass:"input__clone",attrs:{rows:e.rows,disabled:"true"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e(),"textarea"===e.type?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"input",attrs:{name:e.name,id:e.uniqId,placeholder:e.placeholder,disabled:e.disabled,required:e.required,readonly:e.readonly,rows:e.rows,autofocus:e.autofocus},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:[function(t){t.target.composing||(e.value=t.target.value)},e.onInput]}}):e._e(),"number"==e.type?i("input",{ref:"input",attrs:{type:"number",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),"text"==e.type?i("input",{ref:"input",attrs:{type:"text",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),"email"==e.type?i("input",{ref:"input",attrs:{type:"email",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete,pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+"},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),"password"==e.type?i("input",{ref:"input",attrs:{type:"password",placeholder:e.placeholder,name:e.name,id:e.uniqId,disabled:e.disabled,maxlength:e.displayedMaxlength,required:e.required,readonly:e.readonly,autofocus:e.autofocus,autocomplete:e.autocomplete},domProps:{value:e.value},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInput}}):e._e(),e.hasMaxlength?i("span",{staticClass:"input__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e()])])},Z=[],ee=i("b047"),te=i.n(ee),ie={name:"A17Textfield",mixins:[_["a"],y["a"],O["a"],T["a"],w["a"]],props:{name:{type:String,required:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},initialValue:{default:""},rows:{type:Number,default:5}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},textfieldClasses:function(){return{"input__field--textarea":"textarea"===this.type,"input__field--small":"small"===this.size&&"textarea"===!this.type,"s--focus":this.focused,"s--disabled":this.disabled}},hasMaxlength:function(){return this.maxlength>0},hasPrefix:function(){return""!==this.prefix},displayedMaxlength:function(){return!!this.hasMaxlength&&this.maxlength},limitClasses:function(){return{"input__limit--red":this.counter<10}}},data:function(){return{value:this.initialValue,lastSavedValue:this.initialValue,focused:!1,counter:0}},watch:{initialValue:function(){this.updateValue(this.initialValue)}},methods:{updateFromStore:function(e){"undefined"===typeof e&&(e=""),this.value!==e&&this.updateValue(e)},updateValue:function(e){this.value=e,this.updateCounter(e)},updateAndSaveValue:function(e){this.updateValue(e),this.lastSavedValue=this.value,this.saveIntoStore()},updateCounter:function(e){this.maxlength>0&&(this.counter=this.maxlength-(e?e.toString().length:0))},onFocus:function(e){this.focused=!0,this.resizeTextarea(),this.$emit("focus")},onBlur:function(e){var t=e.target.value;this.updateAndSaveValue(t),this.focused=!1,this.$emit("blur",t)},onInput:te()((function(e){var t=e.target.value;this.updateAndSaveValue(t),this.$emit("change",t)}),250),resizeTextarea:function(){if("textarea"===this.type){var e=this.$refs.clone,t=15;if(e){var i=e.scrollHeight;this.$refs.input.style.minHeight="".concat(i+t,"px")}}}},mounted:function(){this.updateCounter(this.value),"textarea"===this.type&&(this.resizeTextarea(),this.$watch("value",this.resizeTextarea),this.$nextTick((function(){window.addEventListener("resize",this.resizeTextarea)})))},beforeDestroy:function(){"textarea"===this.type&&window.removeEventListener("resize",this.resizeTextarea)}},ne=ie,ae=(i("68c3"),Object(l["a"])(ne,J,Z,!1,null,"3ae3c494",null)),re=ae.exports,se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form__input form__input--hidden"},[i("input",{attrs:{type:"hidden",name:e.name,id:e.uniqId},domProps:{value:e.value}})])},oe=[],le={name:"A17HiddenField",mixins:[_["a"],y["a"],w["a"]],props:{name:{type:String,required:!0},initialValue:{default:""}},computed:{uniqId:function(){return this.name+"-"+this.randKey}},data:function(){return{value:this.initialValue}},watch:{initialValue:function(){this.value=this.initialValue}},methods:{updateFromStore:function(e){"undefined"===typeof e&&(e=""),this.value!==e&&(this.value=e)}}},ce=le,ue=Object(l["a"])(ce,se,oe,!1,null,null,null),de=ue.exports,fe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,size:e.size,name:e.name,required:e.required},on:{localize:e.updateLocale}},[i("div",{staticClass:"wysiwyg__outer",class:e.textfieldClasses},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{name:e.name,type:"hidden"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e.editSource?[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.activeSource,expression:"!activeSource"}],staticClass:"wysiwyg",class:e.textfieldClasses},[i("div",{ref:"editor",staticClass:"wysiwyg__editor",class:{"wysiwyg__editor--limitHeight":e.limitHeight}}),e.shouldShowCounter?i("span",{staticClass:"wysiwyg__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.activeSource,expression:"activeSource"}],staticClass:"form__field form__field--textarea"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],style:e.textareaHeight,attrs:{placeholder:e.placeholder,autofocus:e.autofocus},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})]),i("a17-button",{staticClass:"wysiwyg__button",attrs:{variant:"ghost"},on:{click:e.toggleSourcecode}},[e._v("Source code")])]:[i("div",{staticClass:"wysiwyg",class:e.textfieldClasses},[i("div",{ref:"editor",staticClass:"wysiwyg__editor",class:{"wysiwyg__editor--limitHeight":e.limitHeight}}),e.shouldShowCounter?i("span",{staticClass:"wysiwyg__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e()])]],2)])},he=[],pe=i("2f62"),me=(i("8096"),i("14e1"),i("a753"),i("9339")),be=i.n(me);function ge(e,t,i){return ge="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=ve(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(i):a.value}},ge(e,t,i||e)}function ve(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=Ce(e),null===e)break;return e}function _e(e){return _e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oe(e,t,i){return t&&we(e.prototype,t),i&&we(e,i),e}function Ee(e,t){return!t||"object"!==_e(t)&&"function"!==typeof t?Te(e):t}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ce(e)}function Ae(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}function De(e,t){return De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},De(e,t)}be.a.debug("error");var Se=be.a.import("delta"),Pe=be.a.import("blots/break"),xe=be.a.import("blots/embed"),Me=be.a.import("blots/inline"),ke=be.a.import("formats/link"),Le={blotName:"break",tagName:"BR"},Ie=function(e){function t(){return ye(this,t),Ee(this,Ce(t).apply(this,arguments))}return Ae(t,e),Oe(t,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return"\n"}},{key:"insertInto",value:function(e,t){xe.prototype.insertInto.call(this,e,t)}}]),t}(Pe);Ie.blotName=Le.blotName,Ie.tagName=Le.tagName;var je={key:13,shiftKey:!0,handler:function(e){var t=this.quill.getLeaf(e.index)[0],i=this.quill.getLeaf(e.index+1)[0];this.quill.insertEmbed(e.index,Le.blotName,!0,"user"),null!==i&&t.parent===i.parent||this.quill.insertEmbed(e.index,Le.blotName,!0,"user"),this.quill.setSelection(e.index+1,be.a.sources.SILENT)}};function Re(){var e=new Se;return e.insert({break:""}),e}be.a.register(Ie);var Ne={blotName:"anchor",tagName:"SPAN"},Be=function(e){function t(){return ye(this,t),Ee(this,Ce(t).apply(this,arguments))}return Ae(t,e),Oe(t,[{key:"format",value:function(e,i){if(e!==this.statics.blotName||!i)return ge(Ce(t.prototype),"format",this).call(this,e,i);i=this.constructor.sanitize(i),this.domNode.setAttribute("id",i)}}],[{key:"create",value:function(e){var i=ge(Ce(t),"create",this).call(this,e);return e=this.sanitize(e),i.setAttribute("id",e),i.className="ql-anchor",i}},{key:"sanitize",value:function(e){return e.replace(/\s+/g,"-").toLowerCase()}},{key:"formats",value:function(e){return e.getAttribute("id")}}]),t}(Me);Be.blotName=Ne.blotName,Be.tagName=Ne.tagName,be.a.register(Be);var Fe=function(e){function t(){return ye(this,t),Ee(this,Ce(t).apply(this,arguments))}return Ae(t,e),Oe(t,[{key:"format",value:function(e,i){if(ge(Ce(t.prototype),"format",this).call(this,e,i),e===this.statics.blotName&&i){var n=/^((http|https|ftp):\/\/)/;n.test(i)?window["TWILL"].STORE.form.baseUrl&&i.startsWith(window["TWILL"].STORE.form.baseUrl)?this.domNode.removeAttribute("target"):this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target")}}}],[{key:"create",value:function(e){var i=ge(Ce(t),"create",this).call(this,e);e=this.sanitize(e),i.setAttribute("href",e);var n=/^((http|https|ftp):\/\/)/;return n.test(e)||i.removeAttribute("target"),window["TWILL"].STORE.form.baseUrl&&e.startsWith(window["TWILL"].STORE.form.baseUrl)&&i.removeAttribute("target"),i}}]),t}(ke);function $e(e){return'<span class="icon icon--wysiwyg_'+e+'" aria-hidden="true"><svg><title>'+e+'</title><use xlink:href="#icon--wysiwyg_'+e+'"></use></svg></span>'}be.a.register(Fe);var Ue=be.a.import("ui/icons");Ue.bold=$e("bold"),Ue.italic=$e("italic"),Ue.italic=$e("italic"),Ue.anchor=$e("anchor"),Ue.link=$e("link"),Ue.header["1"]=$e("header"),Ue.header["2"]=$e("header-2"),Ue.header["3"]=$e("header-3"),Ue.header["4"]=$e("header-4"),Ue.header["5"]=$e("header-5"),Ue.header["6"]=$e("header-6");var Ve=["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block","formula","image","video"];function qe(e){var t=[Le.blotName,Ne.blotName];function i(e){t.indexOf(e)>-1||-1===Ve.indexOf(e)||t.push(e)}return e.forEach((function(e){if("object"===_e(e))for(var t in e)i(t);"string"===typeof e&&i(e)})),t}var He={Quill:be.a,lineBreak:{handle:je,clipboard:[Le.tagName,Re]},getFormats:qe},We=i("7a77");function ze(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ke(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(i),!0).forEach((function(t){Ge(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ze(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ge(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ye="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.12.0/build/highlight.min.js",Xe={name:"A17Wysiwyg",mixins:[y["a"],O["a"],T["a"],w["a"]],props:{editSource:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},initialValue:{default:""},limitHeight:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}}},computed:Ke({textareaHeight:function(){return{height:this.editorHeight}},textfieldClasses:function(){return{"s--disabled":this.disabled,"s--focus":this.focused}},hasMaxlength:function(){return this.maxlength>0},shouldShowCounter:function(){return this.hasMaxlength&&this.showCounter},limitClasses:function(){return{"wysiwyg__limit--red":this.counter<10}}},Object(pe["c"])({baseUrl:function(e){return e.form.baseUrl}})),data:function(){return{value:this.initialValue,editorHeight:50,toolbarHeight:52,focused:!1,activeSource:!1,quill:null,counter:0,defaultModules:{toolbar:["bold","italic","underline","link"],clipboard:{matchVisual:!1,matchers:[He.lineBreak.clipboard]},keyboard:{bindings:{lineBreak:He.lineBreak.handle}},syntax:!1}}},methods:{initQuill:function(){var e=this;if(this.quill=new He.Quill(this.$refs.editor,this.options),this.value&&this.updateEditor(this.value),this.quill.on("text-change",(function(t,i,n){var a=e.$refs.editor.children[0].innerHTML;"<p><br></p>"===a&&(a=""),e.value=a,e.$emit("input",e.value),e.$emit("change",e.value),e.updateCounter(e.getTextLength()),"user"===n&&e.textUpdate()})),this.quill.on("selection-change",(function(t,i,n){t?(e.focused=!0,e.$emit("focus")):(e.focused=!1,"user"===n&&e.saveIntoStore(),e.$emit("blur"))})),this.disabled&&this.quill.enable(!1),this.baseUrl){var t=this.quill.theme.tooltip,i=t.root;if(i){var n=i.querySelector("input[data-link]");n&&n.setAttribute("data-link",this.baseUrl)}}this.hasMaxlength&&this.showCounter&&this.updateCounter(this.getTextLength()),this.$emit("ready",this.quill)},anchorHandler:function(e){if(!0===e)e=prompt("Enter anchor:");else{var t=this.quill.getSelection(),i=this.quill.getFormat(t).anchor||"";e=prompt("Edit anchor:",i)}this.quill.format("anchor",e)},updateEditor:function(e){var t=this.quill.clipboard.convert(e);this.quill.setContents(t,"silent")},updateFromStore:function(e){"undefined"===typeof e&&(e=""),this.value!==e&&(this.value=e,this.updateEditor(e))},textUpdate:te()((function(){this.saveIntoStore()}),600),toggleSourcecode:function(){this.editorHeight=Math.max(50,this.$refs.editor.clientHeight)+this.toolbarHeight-1+"px",this.activeSource=!this.activeSource,this.updateEditor(this.value),this.saveIntoStore()},updateCounter:function(e){this.showCounter&&this.hasMaxlength&&(this.counter=this.maxlength-e)},getTextLength:function(){return this.quill.getLength()-(0===this.value.length?2:1)}},mounted:function(){var e=this;if(!this.quill){this.options.theme=this.options.theme||"snow",this.options.boundary=this.options.boundary||document.body,this.options.modules=this.options.modules||this.defaultModules;var t={container:void 0!==this.options.modules.toolbar?this.options.modules.toolbar:this.defaultModules.toolbar,handlers:{}};if(this.options.modules.clipboard=void 0!==this.options.modules.clipboard?this.options.modules.clipboard:this.defaultModules.clipboard,this.options.modules.keyboard=void 0!==this.options.modules.keyboard?this.options.modules.keyboard:this.defaultModules.keyboard,this.options.modules.syntax=void 0!==this.options.modules.syntax&&this.options.modules.syntax?{highlight:function(e){return hljs.highlightAuto(e).value}}:this.defaultModules.syntax,this.options.placeholder=this.options.placeholder||this.placeholder,this.options.readOnly=void 0!==this.options.readOnly?this.options.readOnly:this.readonly,this.options.formats=He.getFormats(this.options.modules.toolbar),this.options.scrollingContainer=null,t.container.includes("anchor")&&(t.handlers.anchor=this.anchorHandler),this.options.modules.toolbar=t,this.options.modules.syntax&&"undefined"===typeof hljs){var i="highlight-js-script";Object(We["a"])(i,Ye,"text/javascript").then((function(){e.initQuill()}))}else this.initQuill()}},beforeDestroy:function(){this.quill=null}},Qe=Xe,Je=(i("1c68"),i("a91e"),i("42bd"),Object(l["a"])(Qe,fe,he,!1,null,"4981adde",null)),Ze=Je.exports,et=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,locale:e.locale,size:e.size,name:e.name,required:e.required},on:{localize:e.updateLocale}},[i("div",{staticClass:"wysiwyg__outer"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.activeSource,expression:"!activeSource"}],staticClass:"wysiwyg",class:e.textfieldClasses},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{name:e.name,type:"hidden"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),i("div",{ref:"editor",staticClass:"wysiwyg__editor"},[i("editor-menu-bar",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.commands,a=t.isActive;return[i("div",{staticClass:"wysiwyg__menubar"},[e.toolbar.header?[e.toolbar.header?i("wysiwyg-menu-bar-btn",{attrs:{icon:"paragraph",isActive:a.paragraph()},on:{"btn:click":n.paragraph}}):e._e(),e._l(e.headingOptions,(function(e){return i("wysiwyg-menu-bar-btn",{key:e,attrs:{icon:e>1?"header-"+e:"header",isActive:a.heading({level:e})},on:{"btn:click":function(t){return n.heading({level:e})}}})}))]:e._e(),e.toolbar.bold?i("wysiwyg-menu-bar-btn",{attrs:{icon:"bold",isActive:a.bold()},on:{"btn:click":n.bold}}):e._e(),e.toolbar.italic?i("wysiwyg-menu-bar-btn",{attrs:{icon:"italic",isActive:a.italic()},on:{"btn:click":n.italic}}):e._e(),e.toolbar.strike?i("wysiwyg-menu-bar-btn",{attrs:{icon:"strike",isActive:a.strike()},on:{"btn:click":n.strike}}):e._e(),e.toolbar.underline?i("wysiwyg-menu-bar-btn",{attrs:{icon:"underline",isActive:a.underline()},on:{"btn:click":n.underline}}):e._e(),e.toolbar.bullet?i("wysiwyg-menu-bar-btn",{attrs:{icon:"ul",isActive:a.bullet_list()},on:{"btn:click":n.bullet_list}}):e._e(),e.toolbar.ordered?i("wysiwyg-menu-bar-btn",{attrs:{icon:"ol",isActive:a.ordered_list()},on:{"btn:click":n.ordered_list}}):e._e(),e.toolbar.blockquote?i("wysiwyg-menu-bar-btn",{attrs:{icon:"quote",isActive:a.blockquote()},on:{"btn:click":n.blockquote}}):e._e(),e.toolbar["code-block"]?i("wysiwyg-menu-bar-btn",{attrs:{icon:"code",isActive:a.code_block()},on:{"btn:click":n.code_block}}):e._e(),e.toolbar["code"]?i("wysiwyg-menu-bar-btn",{attrs:{icon:"code",isActive:a.code()},on:{"btn:click":n.code}}):e._e(),e.toolbar.table?[i("wysiwyg-menu-bar-btn",{attrs:{icon:"table"},on:{"btn:click":function(e){return n.createTable({rowsCount:3,colsCount:3,withHeaderRow:!0})}}}),a.table()?i("div",{staticClass:"wysiwyg__menubar-table-buttons"},[i("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_table"},on:{"btn:click":n.deleteTable}}),i("wysiwyg-menu-bar-btn",{attrs:{icon:"add_col_before"},on:{"btn:click":n.addColumnBefore}}),i("wysiwyg-menu-bar-btn",{attrs:{icon:"add_col_after"},on:{"btn:click":n.addColumnAfter}}),i("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_col"},on:{"btn:click":n.deleteColumn}}),i("wysiwyg-menu-bar-btn",{attrs:{icon:"add_row_before"},on:{"btn:click":n.addRowBefore}}),i("wysiwyg-menu-bar-btn",{attrs:{icon:"add_row_after"},on:{"btn:click":n.addRowAfter}}),i("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_row"},on:{"btn:click":n.deleteRow}}),i("wysiwyg-menu-bar-btn",{attrs:{icon:"combine_cells"},on:{"btn:click":n.toggleCellMerge}})],1):e._e()]:e._e(),i("wysiwyg-menu-bar-btn",{attrs:{icon:"undo"},on:{"btn:click":n.undo}}),i("wysiwyg-menu-bar-btn",{attrs:{icon:"redo"},on:{"btn:click":n.redo}})],2)]}}])}),i("div",{staticClass:"wysiwyg__contentWrapper",class:{"wysiwyg__contentWrapper--limitHeight":e.limitHeight}},[i("editor-content",{staticClass:"wysiwyg__content",attrs:{editor:e.editor}})],1)],1),e.shouldShowCounter?i("span",{staticClass:"input__limit f--tiny",class:e.limitClasses},[e._v(e._s(e.counter))]):e._e()]),e.editSource?[i("div",{directives:[{name:"show",rawName:"v-show",value:e.activeSource,expression:"activeSource"}],staticClass:"form__field form__field--textarea"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],style:e.textareaHeight,attrs:{placeholder:e.placeholder,autofocus:e.autofocus},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})]),i("a17-button",{staticClass:"wysiwyg__button",attrs:{variant:"ghost"},on:{click:e.toggleSourcecode}},[e._v("Source code ")])]:e._e()],2)])},tt=[],it=i("cd42"),nt=i("f23d"),at=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"wysiwyg__menubar-button",class:{"is-active":e.isActive},attrs:{type:"button"},on:{click:e.handleClick}},[i("span",{staticClass:"icon",class:"icon--wysiwyg_"+e.icon,attrs:{"aria-hidden":"true"}},[i("svg",[i("title",[e._v(e._s(e.icon))]),i("use",{attrs:{"xlink:href":"#icon--wysiwyg_"+e.icon}})])])])},rt=[],st={name:"WysiwygMenuBarButton",props:{icon:{type:String,required:!0},isActive:{type:Boolean,default:!1}},methods:{handleClick:function(){this.$emit("btn:click")}}},ot=st,lt=(i("0fea"),Object(l["a"])(ot,at,rt,!1,null,"410c6e14",null)),ct=lt.exports;function ut(e){return ut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function dt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ft(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(i),!0).forEach((function(t){ht(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):dt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ht(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var pt={name:"A17Wysiwyg",mixins:[y["a"],O["a"],T["a"],w["a"]],props:{editSource:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},initialValue:{default:""},limitHeight:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{modules:{}}}}},computed:ft({textareaHeight:function(){return{height:this.editorHeight}},textfieldClasses:function(){return{"s--disabled":this.disabled,"s--focus":this.focused}},hasMaxlength:function(){return this.maxlength>0},shouldShowCounter:function(){return this.hasMaxlength&&this.showCounter},limitClasses:function(){return{"input__limit--red":this.counter<10}}},Object(pe["c"])({baseUrl:function(e){return e.form.baseUrl}})),components:{EditorContent:it["b"],EditorMenuBar:it["c"],"wysiwyg-menu-bar-btn":ct},data:function(){return{value:this.initialValue,editorHeight:50,toolbarHeight:52,toolbar:this.options.modules.toolbar?this.options.modules.toolbar.reduce((function(e,t){return t.list?(e[t.list]=!0,e):"object"===ut(t)?ft({},e,{},t):(e[t]=!0,e)}),{}):{bold:!0,italic:!0,underline:!0,link:!0},headingOptions:[],focused:!1,activeSource:!1,counter:0,editor:null}},methods:{updateEditor:function(e){this.editor&&this.editor.setContent(e)},updateFromStore:function(e){"undefined"===typeof e&&(e=""),this.value!==e&&(this.value=e,this.updateEditor(e))},textUpdate:te()((function(){this.saveIntoStore()}),600),toggleSourcecode:function(){this.editorHeight=Math.max(50,this.$refs.editor.clientHeight)+this.toolbarHeight-1+"px",this.activeSource=!this.activeSource,this.updateEditor(this.value),this.saveIntoStore()},updateCounter:function(){this.showCounter&&this.hasMaxlength&&(this.counter=this.maxlength-this.getTextLength())},getTextLength:function(){return this.editor.getHTML().replace(/<[^>]+>/g,"").length}},beforeMount:function(){var e=this,t=this.value||"",i=[new nt["h"],new nt["f"]];this.placeholder&&this.placeholder.length>0&&i.push(new nt["m"]({emptyNodeClass:"is-empty",emptyNodeText:this.placeHolder,showOnlyWhenEditable:!0})),(this.toolbar.ordered||this.toolbar.bullet)&&i.push(new nt["k"]),Object.keys(this.toolbar).forEach((function(t){switch(t){case"header":var n=e.toolbar[t].filter((function(e){return"number"===typeof e}));n.forEach((function(t){e.headingOptions.push(t)})),i.push(new nt["g"]({levels:n}));break;case"bold":i.push(new nt["b"]);break;case"italic":i.push(new nt["i"]);break;case"strike":i.push(new nt["n"]);break;case"underline":i.push(new nt["s"]);break;case"link":i.push(new nt["j"]);break;case"blockquote":i.push(new nt["a"]);break;case"bullet":i.push(new nt["c"]);break;case"ordered":i.push(new nt["l"]);break;case"code":i.push(new nt["d"]);break;case"code-block":i.push(new nt["e"]);break;case"table":i.push(new nt["o"]({resizable:!1})),i.push(new nt["q"]),i.push(new nt["p"]),i.push(new nt["r"]);break}})),this.editor=new it["a"]({extensions:i,content:t,onUpdate:function(t){var i=t.getHTML;e.value=i(),e.textUpdate(),e.updateCounter()}}),this.updateCounter()},beforeDestroy:function(){this.editor.destroy()}},mt=pt,bt=(i("f899"),i("ba2c"),Object(l["a"])(mt,et,tt,!1,null,"d9e2669e",null)),gt=bt.exports,vt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"media",class:{"media--hoverable":e.hover,"media--slide":e.isSlide}},[i("div",{staticClass:"media__field"},[e.hasMedia?i("div",{staticClass:"media__info"},[i("div",{staticClass:"media__img"},[i("div",{staticClass:"media__imgFrame"},[i("div",{staticClass:"media__imgCentered",style:e.cropThumbnailStyle},[e.cropSrc&&e.showImg?i("img",{ref:"mediaImg",class:e.cropThumbnailClass,attrs:{src:e.cropSrc}}):e._e()]),i("div",{staticClass:"media__edit",on:{click:function(t){return e.openMediaLibrary(1,e.mediaKey,e.index)}}},[i("span",{staticClass:"media__edit--button"},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"edit"}})])])])]),i("ul",{staticClass:"media__metadatas"},[i("li",{staticClass:"media__name",on:{click:function(t){return e.openMediaLibrary(1,e.mediaKey,e.index)}}},[i("strong",{attrs:{title:e.media.name}},[e._v(e._s(e.media.name))])]),e.media.size?i("li",{staticClass:"f--small"},[e._v("File size: "+e._s(e._f("uppercase")(e.media.size)))]):e._e(),e.media.width+e.media.height?i("li",{staticClass:"f--small"},[e._v("Original: "+e._s(e.media.width)+"  "+e._s(e.media.height)+" ")]):e._e(),e.cropInfos?i("li",{staticClass:"f--small media__crop-link",on:{click:e.openCropMedia}},e._l(e.cropInfos,(function(t,n){return i("p",{key:n,staticClass:"f--small f--note hide--xsmall"},[i("span",{domProps:{innerHTML:e._s(t)}})])})),0):e._e(),i("li",{staticClass:"f--small"},[e.withAddInfo?i("a",{staticClass:"f--link-underlined--o",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.metadatasInfos(t)}}},[e._v(e._s(e.metadatas.text))]):e._e()])]),i("a17-buttonbar",{staticClass:"media__actions"},[i("a",{attrs:{href:e.media.original,download:""}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}})]),e.activeCrop?i("button",{attrs:{type:"button"},on:{click:e.openCropMedia}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"crop"}})]):e._e(),i("button",{attrs:{type:"button"},on:{click:e.deleteMediaClick}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})])]),i("div",{staticClass:"media__actions-dropDown"},[i("a17-dropdown",{ref:"dropDown",attrs:{position:"right"}},[i("a17-button",{attrs:{size:"icon",variant:"icon"},on:{click:function(t){return e.$refs.dropDown.toggle()}}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),i("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[i("a",{attrs:{href:e.media.original,download:""}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}}),e._v(" Download")]),e.activeCrop?i("button",{attrs:{type:"button"},on:{click:e.openCropMedia}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"crop"}}),e._v(" Crop ")]):e._e(),i("button",{attrs:{type:"button"},on:{click:e.deleteMediaClick}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}}),e._v(" Delete")])])],1)],1)],1):e._e(),e.hasMedia?e._e():i("a17-button",{attrs:{variant:"ghost",disabled:e.disabled},on:{click:e.openMediaLibrary}},[e._v(e._s(e.btnLabel))]),this.$slots.default?i("p",{staticClass:"media__note f--small"},[e._t("default")],2):e._e(),e.hasMedia&&e.withAddInfo?i("div",{staticClass:"media__metadatas--options",class:{"s--active":e.metadatas.active}},[i("a17-mediametadata",{attrs:{name:e.metadataName,label:"Alt Text",id:"altText",media:e.media,maxlength:e.altTextMaxLength},on:{change:e.updateMetadata}}),e.withCaption?i("a17-mediametadata",{attrs:{name:e.metadataName,label:"Caption",id:"caption",media:e.media,maxlength:e.captionMaxLength},on:{change:e.updateMetadata}}):e._e(),e.withVideoUrl?i("a17-mediametadata",{attrs:{name:e.metadataName,label:"Video URL (optional)",id:"video",media:e.media},on:{change:e.updateMetadata}}):e._e(),e._l(e.extraMetadatas,(function(t){return[e.extraMetadatas.length>0?i("a17-mediametadata",{key:t.name,attrs:{type:t.type,name:e.metadataName,label:t.label,id:t.name,media:e.media,maxlength:t.maxlength||0},on:{change:e.updateMetadata}}):e._e()]}))],2):e._e()],1),e.hasMedia&&e.activeCrop?i("a17-modal",{ref:e.cropModalName,staticClass:"modal--cropper",attrs:{forceClose:!0,title:"Edit image crop",mode:"medium"}},[i("a17-cropper",{key:e.cropperKey,attrs:{media:e.media,aspectRatio:16/9,context:e.cropContext},on:{"crop-end":e.cropMedia}},[i("a17-button",{staticClass:"cropper__button",attrs:{variant:"action"},on:{click:function(t){return e.$refs[e.cropModalName].close()}}},[e._v("Update")])],1)],1):e._e(),i("input",{attrs:{name:"medias["+e.name+"]["+e.index+"]",type:"hidden"},domProps:{value:JSON.stringify(e.media)}})],1)},_t=[],yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cropper"},[i("header",{staticClass:"cropper__header"},[e.multiCrops?i("ul",{staticClass:"cropper__breakpoints"},e._l(e.cropOptions,(function(t,n,a){return i("li",{key:n,class:{"s--active":e.toggleBreakpoint===a},on:{click:function(t){return e.changeCrop(n,a)}}},[e._v(e._s(e._f("capitalize")(n)))])})),0):e._e()]),i("div",{staticClass:"cropper__content"},[i("div",{ref:"cropWrapper",staticClass:"cropper__wrapper"},[i("img",{ref:"cropImage",staticClass:"cropper__img",attrs:{src:e.currentMedia.medium||e.currentMedia.original,alt:e.currentMedia.name}})])]),i("footer",{staticClass:"cropper__footer"},[e.ratiosByContext.length>1?i("ul",{staticClass:"cropper__ratios"},e._l(e.ratiosByContext,(function(t){return i("li",{key:t.name,staticClass:"f--small",class:{"s--active":e.currentRatioName===t.name},on:{click:function(i){return e.changeRatio(t)}}},[e._v(e._s(e._f("capitalize")(t.name)))])})),0):e._e(),i("span",{staticClass:"cropper__values f--small hide--xsmall",class:e.cropperWarning},[e._v(e._s(e.cropValues.original.width)+"  "+e._s(e.cropValues.original.height))]),e._t("default")],2)])},wt=[],Ot=i("4e53"),Et=i("bab4"),Tt=i.n(Et),Ct=(i("4604"),i("605f")),At=function(e,t,i){return{x:Math.round(e.x*t.width/i.width),y:Math.round(e.y*t.height/i.height),width:Math.round(e.width*t.width/i.width),height:Math.round(e.height*t.height/i.height)}};function Dt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function St(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(i),!0).forEach((function(t){Pt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Dt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Pt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var xt={name:"a17Cropper",props:{media:{type:Object,default:function(){}},context:{type:String,default:""}},mixins:[Ct["a"]],data:function(){return{cropper:null,currentMedia:this.media,currentCrop:Object.keys(this.media.crops)[0],toggleBreakpoint:0,cropValues:{natural:{width:null,height:null},original:{width:this.media.crops[Object.keys(this.media.crops)[0]].width,height:this.media.crops[Object.keys(this.media.crops)[0]].height}},minCropValues:{width:0,height:0},currentRatioName:this.media.crops[Object.keys(this.media.crops)[0]].name}},watch:{media:function(e){this.currentMedia=e}},computed:St({cropOptions:function(){return this.allCrops.hasOwnProperty(this.context)?this.allCrops[this.context]:{}},crop:function(){return this.currentMedia.crops[this.currentCrop]},multiCrops:function(){return Object.keys(this.media.crops).length>1},ratiosByContext:function(){var e=this.cropOptions[this.currentCrop];return e||[]},cropperOpts:function(){var e=this;return St({},this.defaultCropsOpts,{cropmove:function(){e.updateCropperValues()},cropend:function(){e.sendCropperValues()}})},cropperWarning:function(){return{cropper__warning:this.cropValues.original.width<this.minCropValues.width||this.cropValues.original.height<this.minCropValues.height}}},Object(pe["c"])({allCrops:function(e){return e.mediaLibrary.crops}})),filters:Ot["a"],mounted:function(){var e=this,t=this.cropperOpts,i=this.$refs.cropImage,n=this.$refs.cropWrapper,a=new Image;a.addEventListener("load",(function(){n.style.maxWidth=n.getBoundingClientRect().width+"px",n.style.minHeight=n.getBoundingClientRect().height+"px",e.cropper=new Tt.a(i,t)}),{once:!0,passive:!0,capture:!0}),a.src=this.currentMedia.medium||this.currentMedia.original,i.addEventListener("ready",(function(){e.cropValues.natural.width=a.naturalWidth,e.cropValues.natural.height=a.naturalHeight,e.updateCrop()}),{once:!0,passive:!0,capture:!0})},methods:{initAspectRatio:function(){var e=this,t=this.ratiosByContext,i=t.find((function(t){return t.name===e.currentRatioName}));if("undefined"!==typeof i&&i)return this.minCropValues.width=i.minValues?i.minValues.width:0,this.minCropValues.height=i.minValues?i.minValues.height:0,void this.cropper.setAspectRatio(i.ratio);this.cropper.setAspectRatio(this.aspectRatio)},changeCrop:function(e,t){this.currentCrop=e,this.currentRatioName=this.crop.name,this.toggleBreakpoint=t,this.updateCrop(),this.sendCropperValues()},changeRatio:function(e){this.currentRatioName=e.name,this.updateCrop(),this.sendCropperValues()},updateCrop:function(){this.initAspectRatio(),this.initCrop(),this.updateCropperValues()},updateCropperValues:function(){var e=this.cropper.getData(!0),t=this.toOriginalCrop(e);this.cropValues.original.width=t.width,this.cropValues.original.height=t.height},initCrop:function(){var e=this.toNaturalCrop(this.crop);this.cropper.setData(e)},test:function(){var e=this.toNaturalCrop({x:0,y:0,width:380,height:475});this.cropper.setAspectRatio(.8),this.cropper.setData(e)},sendCropperValues:function(){var e={values:{}};e.values[this.currentCrop]=this.toOriginalCrop(this.cropper.getData(!0)),e.values[this.currentCrop].name=this.currentRatioName,this.$emit("crop-end",e)},toNaturalCrop:function(e){return At(e,this.cropValues.natural,this.currentMedia)},toOriginalCrop:function(e){return At(e,this.currentMedia,this.cropValues.natural)}},beforeDestroy:function(){this.cropper.destroy()}},Mt=xt,kt=(i("935b"),Object(l["a"])(Mt,yt,wt,!1,null,"6c737ef4",null)),Lt=kt.exports,It=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.languages.length>1&&"text"===e.fieldType?i("a17-locale",{attrs:{type:"a17-textfield",initialValues:e.initialValues,attributes:e.attributes},on:{change:e.saveMetadata}}):"text"===e.fieldType?i("a17-textfield",{attrs:{label:e.label,name:e.fieldName,type:"text",placeholder:e.placeholder,initialValue:e.initialValue,"in-store":"value",maxlength:e.maxlength},on:{change:e.saveMetadata}}):"checkbox"===e.fieldType?i("div",{staticClass:"mediaMetadata__checkbox"},[i("a17-checkbox",{attrs:{label:e.label,name:e.fieldName,initialValue:e.initialValue,value:1,inStore:"value"},on:{change:e.saveMetadata}})],1):e._e()},jt=[];function Rt(e){return Rt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Nt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Bt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(i),!0).forEach((function(t){Ft(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Nt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ft(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var $t={name:"A17MediaMetadata",props:{media:{type:Object,default:function(){}},name:{type:String,required:!0},id:{type:String,required:!0},label:{type:String,required:!0},type:{type:String,required:!1},maxlength:{type:Number,required:!1,default:0}},data:function(){return{initialValues:{},initialValue:""}},computed:Bt({fieldName:function(){return"".concat(this.name,"[").concat(this.id,"]")},fieldType:function(){return this.type?this.type:"text"},defaultMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.default[this.id]||!1},customMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.custom[this.id]||!1},attributes:function(){return{label:this.label,name:this.fieldName,type:"text",placeholder:this.placeholder,inStore:"value",maxlength:this.maxlength}},placeholder:function(){return this.defaultMetadatas?"object"===Rt(this.defaultMetadatas)?this.defaultMetadatas.hasOwnProperty(this.currentLocale)?this.defaultMetadatas[this.currentLocale]:"":null!==this.defaultMetadatas?this.defaultMetadatas:"":""}},Object(pe["c"])({languages:function(e){return e.language.all},currentLocale:function(e){return e.language.active.value}})),methods:{saveMetadata:function(e){if(!e.locale){var t=e;e={value:t}}e.id=this.id,this.$emit("change",e)}},mounted:function(){var e=this,t={},i="",n=0;this.languages.forEach((function(a){var s=a.value;if(e.customMetadatas){e.customMetadatas[s]?t[s]=e.customMetadatas[s]:!0!==e.customMetadatas&&"string"!==typeof e.customMetadatas||0!==n?t[s]="":(t[s]=e.customMetadatas,i=e.customMetadatas);var o={};o.name=e.fieldName,o.value=t[s],e.languages.length>1&&(o.locale=s),e.$store.commit(r["f"].UPDATE_FORM_FIELD,o)}n++})),this.initialValues=t,this.initialValue=i},beforeDestroy:function(){this.$store.commit(r["f"].REMOVE_FORM_FIELD,this.fieldName)}},Ut=$t,Vt=(i("6e6b"),Object(l["a"])(Ut,It,jt,!1,null,"06953b08",null)),qt=Vt.exports,Ht=i("1a8d"),Wt={props:{withAddInfo:{type:Boolean,default:!0},withVideoUrl:{type:Boolean,default:!0},withCaption:{type:Boolean,default:!0},altTextMaxLength:{type:Number,default:0},captionMaxLength:{type:Number,default:0},cropContext:{type:String,default:""},extraMetadatas:{type:Array,default:function(){return[]}}}},zt=i("4e9d"),Kt=i.n(zt);function Gt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Yt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(i),!0).forEach((function(t){Xt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Gt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Xt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Qt=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),Jt={name:"A17Mediafield",components:{"a17-cropper":Lt,"a17-mediametadata":qt},mixins:[Ht["a"],Wt],props:{name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},btnLabel:{type:String,default:function(){return this.$trans("fields.medias.btn-label","Attach image")}},hover:{type:Boolean,default:!1},isSlide:{type:Boolean,default:!1},index:{type:Number,default:0},mediaContext:{type:String,default:""},activeCrop:{type:Boolean,default:!0},widthMin:{type:Number,default:0},heightMin:{type:Number,default:0}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!1,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:"Edit info",textOpen:"Edit info",textClose:"Close info",active:!1}}},filters:Ot["a"],computed:Yt({cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia&&this.media.crops?0===this.cropSrc.length?{}:{backgroundImage:"url(".concat(this.cropSrc,")")}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};var e=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":e.width/e.height>=1,"media__img--portrait":e.width/e.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.selectedMedias.hasOwnProperty(this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]||{}},cropInfos:function(){var e=[];if(this.media.crops)for(var t in this.media.crops)if(this.media.crops[t].width+this.media.crops[t].height){var i="";i+=this.media.crops[t].name+" crop: ",i+=this.media.crops[t].width+"&nbsp;&times;&nbsp;"+this.media.crops[t].height,e.push(i)}return e.length>0?e:null},hasMedia:function(){return Object.keys(this.media).length>0},cropperKey:function(){return"".concat(this.mediaKey,"-").concat(this.index,"_").concat(this.cropContext)},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return"".concat(name,"Modal")}},Object(pe["c"])({selectedMedias:function(e){return e.mediaLibrary.selected},allCrops:function(e){return e.mediaLibrary.crops}})),watch:{media:function(e,t){this.hasMediaChanged=e!==t,this.selectedMedias.hasOwnProperty(this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{canvasCrop:function(){var e=this,t=this.media.crops[Object.keys(this.media.crops)[0]];if(t)if(t.width+t.height!==0){var i=this.media.thumbnail;this.$nextTick((function(){try{var n=At(t,e.naturalDim,e.originalDim),a=n.width,r=n.height;e.canvas.width=a,e.canvas.height=r,e.ctx.drawImage(e.img,n.x,n.y,a,r,0,0,a,r),i=e.canvas.toDataURL("image/png"),e.cropSrc!==i&&(e.showImg=!1,e.cropSrc=i)}catch(s){console.error(s),e.cropSrc!==i&&(e.showImg=!0,e.cropSrc=i)}}))}else this.showDefaultThumbnail()},setDefaultCrops:function(){var e=this,t={},i=[];if(this.allCrops.hasOwnProperty(this.cropContext)){for(var n in this.allCrops[this.cropContext]){var a=this.allCrops[this.cropContext][n][0].ratio,r=this.media.width,s=this.media.height,o={x:r/2,y:s/2},l=r,c=s;a>0&&a<1?(l=Math.floor(Math.min(s*a,r)),c=Math.floor(l/a)):a>=1&&(c=Math.floor(Math.min(r/a,s)),l=Math.floor(c*a));var u={x:0,y:0,width:l,height:c};u=At(u,this.naturalDim,this.originalDim),i.push(Kt.a.crop(this.img,{width:u.width,height:u.height,minScale:1}));var d=Math.floor(o.x-l/2),f=Math.floor(o.y-c/2);t[n]={},t[n].name=this.allCrops[this.cropContext][n][0].name||n,t[n].x=d,t[n].y=f,t[n].width=l,t[n].height=c}Promise.all(i).then((function(i){var n=0;i.forEach((function(i){var a={x:i.topCrop.x,y:i.topCrop.y,width:i.topCrop.width,height:i.topCrop.height},r=t[Object.keys(t)[n]],s=At(a,e.originalDim,e.naturalDim);r.x=s.x,r.y=s.y,r.width=s.width,r.height=s.height,n++})),e.cropMedia({values:t})}),(function(i){console.error(i),e.cropMedia({values:t})}))}else this.cropMedia({values:t})},cropMedia:function(e){e.key=this.mediaKey,e.index=this.index,this.$store.commit(r["h"].SET_MEDIA_CROP,e),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){var e=this;this.showImg=!1;var t=function(){e.setNaturalDimensions(),e.setOriginalDimensions(),e.mediaHasCrop?e.canvasCrop():e.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then((function(){t()}),(function(i){console.error(i),e.showDefaultThumbnail(),e.$nextTick((function(){var i=e.$refs.mediaImg;i?(i.addEventListener("load",(function(){e.img=i,t()}),{once:!0,passive:!0,capture:!0}),i.addEventListener("error",(function(t){console.error(t),e.showDefaultThumbnail()}))):(e.showImg=!1,e.cropSrc=e.media.thumbnail)}))})),this.hasMediaChanged=!1)},initImg:function(){var e=this;return new Promise((function(t,i){e.img=new Image,Qt||(e.img.crossOrigin="Anonymous"),e.canvas=document.createElement("canvas"),e.ctx=e.canvas.getContext("2d"),e.img.addEventListener("load",(function(){t()}),{once:!0,passive:!0,capture:!0}),e.img.addEventListener("error",(function(e){i(e)}));var n="?";e.media.thumbnail.indexOf("?")>-1&&(n="&"),e.img.src=e.media.thumbnail+n+"no-cache"}))},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(){this.isDestroyed=!0,this.deleteMedia()},deleteMedia:function(){this.$store.commit(r["h"].DESTROY_SPECIFIC_MEDIA,{name:this.mediaKey,index:this.index})},updateMetadata:function(e){this.$store.commit(r["h"].SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:e})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()},beforeDestroy:function(){this.isSlide||this.isDestroyed||this.deleteMedia()}},Zt=Jt,ei=(i("04dd"),i("95ca"),Object(l["a"])(Zt,vt,_t,!1,null,"477db587",null)),ti=ei.exports,ii=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-inputframe",{attrs:{error:e.error,label:e.label,locale:e.locale,size:e.size,name:e.name},on:{localize:e.updateLocale}},[e.max>1||0===e.max?i("a17-slideshow",{attrs:{name:e.name,cropContext:e.cropContext,max:e.max,required:e.required,withAddInfo:e.withAddInfo,withVideoUrl:e.withVideoUrl,withCaption:e.withCaption,altTextMaxLength:e.altTextMaxLength,captionMaxLength:e.captionMaxLength,extraMetadatas:e.extraMetadatas}},[e._t("default")],2):i("a17-mediafield",{attrs:{name:e.name,cropContext:e.cropContext,required:e.required,withAddInfo:e.withAddInfo,withVideoUrl:e.withVideoUrl,withCaption:e.withCaption,altTextMaxLength:e.altTextMaxLength,captionMaxLength:e.captionMaxLength,extraMetadatas:e.extraMetadatas}},[e._t("default")],2)],1)},ni=[],ai={name:"A17MediafieldTranslated",mixins:[T["a"],O["a"],Wt],props:{name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},max:{type:Number,default:1}}},ri=ai,si=Object(l["a"])(ri,ii,ni,!1,null,null,null),oi=si.exports,li=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"radio",class:e.customClass},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],staticClass:"radio__input",attrs:{type:"radio",name:e.name,id:e.uniqId(e.value),disabled:e.disabled},domProps:{value:e.value,checked:e._q(e.selectedValue,e.value)},on:{change:function(t){e.selectedValue=e.value}}}),i("label",{staticClass:"radio__label",attrs:{for:e.uniqId(e.value)}},[e._v(e._s(e.label))])])},ci=[],ui={name:"A17Radio",mixins:[_["a"]],props:{customClass:{type:String,default:""},value:{default:""},name:{type:String,default:""},label:{type:String,default:""},initialValue:{default:""},disabled:{type:Boolean,default:!1}},data:function(){return{currentValue:this.initialValue}},computed:{selectedValue:{get:function(){return this.currentValue},set:function(e){this.currentValue=e,this.$emit("change",e)}}},methods:{uniqId:function(e){return this.name+"_"+e+"-"+this.randKey}}},di=ui,fi=(i("85cf"),Object(l["a"])(di,li,ci,!1,null,"6de2145c",null)),hi=fi.exports,pi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,"label-for":e.uniqId}},[i("ul",{staticClass:"radioGroup",class:e.radioClasses},e._l(e.radios,(function(t,n){return i("li",{key:n,staticClass:"radioGroup__item"},[i("a17-radio",{attrs:{customClass:"radio__"+e.radioClass+"--"+(n+1),name:e.name,value:t.value,label:t.label,initialValue:e.currentValue,disabled:t.disabled},on:{change:e.changeValue}})],1)})),0)])},mi=[],bi={name:"A17CheckboxGroup",mixins:[_["a"],O["a"],w["a"]],props:{radioClass:{type:String,default:""},inline:{type:Boolean,default:!1},name:{type:String,default:""},label:{default:""},initialValue:{default:""},radios:{default:function(){return[]}}},data:function(){return{currentValue:this.initialValue}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},radioClasses:function(){return[this.inline?"radioGroup--inline":""]}},methods:{updateFromStore:function(e){e!==this.currentValue&&this.updateValue(e)},updateValue:function(e){this.currentValue=e},changeValue:function(e){e!==this.currentValue&&(this.updateValue(e),this.$emit("change",this.currentValue),this.saveIntoStore(e))}}},gi=bi,vi=(i("4828"),Object(l["a"])(gi,pi,mi,!1,null,"5c97c7f2",null)),_i=vi.exports,yi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],staticClass:"checkbox__input",class:e.checkboxClasses,attrs:{type:"checkbox",name:e.name,id:e.uniqId,disabled:e.disabled},domProps:{value:e.value,checked:Array.isArray(e.checkedValue)?e._i(e.checkedValue,e.value)>-1:e.checkedValue},on:{change:function(t){var i=e.checkedValue,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=e.value,s=e._i(i,r);n.checked?s<0&&(e.checkedValue=i.concat([r])):s>-1&&(e.checkedValue=i.slice(0,s).concat(i.slice(s+1)))}else e.checkedValue=a}}}),i("label",{staticClass:"checkbox__label",attrs:{for:e.uniqId}},[e._v(e._s(e.label)+" "),i("span",{staticClass:"checkbox__icon"},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})])])])},wi=[],Oi={name:"A17Checkbox",mixins:[_["a"]],props:{value:{default:""},initialValue:{default:function(){return[]}},name:{type:String,default:""},theme:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{uniqId:function(e){return this.name+"_"+this.value+"-"+this.randKey},checkboxClasses:function(){return[this.theme?"checkbox__input--".concat(this.theme):""]},checkedValue:{get:function(){return this.initialValue},set:function(e){this.$emit("change",e)}}}},Ei=Oi,Ti=(i("8aa1"),Object(l["a"])(Ei,yi,wi,!1,null,"a7a2c0e2",null)),Ci=Ti.exports,Ai=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-inputframe",{attrs:{error:e.error,note:e.note,name:e.name}},[i("div",{staticClass:"singleCheckbox"},[i("span",{staticClass:"checkbox"},[i("input",{staticClass:"checkbox__input",class:e.checkboxClasses,attrs:{type:"checkbox",value:"true",name:e.name+"["+e.randKey+"]",id:e.uniqId,disabled:e.disabled}}),i("label",{staticClass:"checkbox__label",attrs:{for:e.uniqId},on:{click:function(t){return t.preventDefault(),e.changeCheckbox(t)}}},[e._v(e._s(e.label)+" "),i("span",{staticClass:"checkbox__icon"},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})])])])])])},Di=[],Si={name:"A17SingleCheckbox",mixins:[_["a"],O["a"],w["a"]],props:{name:{type:String,default:""},initialValue:{type:Boolean,default:!0},theme:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{currentValue:this.initialValue}},computed:{uniqId:function(){return this.name+"_"+this.randKey},checkboxClasses:function(){return[this.theme?"checkbox__input--".concat(this.theme):"",this.checkedValue?"checkbox__input--checked":""]},checkedValue:{get:function(){return this.currentValue},set:function(e){e!==this.currentValue&&(this.currentValue=e,"undefined"!==typeof this.saveIntoStore&&this.saveIntoStore(e),this.$emit("change",e))}}},methods:{updateFromStore:function(e){this.checkedValue=e},changeCheckbox:function(){this.checkedValue=!this.checkedValue}}},Pi=Si,xi=(i("841f"),Object(l["a"])(Pi,Ai,Di,!1,null,"44ce6bcc",null)),Mi=xi.exports,ki=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name}},[i("ul",{staticClass:"checkboxGroup",class:e.checkboxClasses},e._l(e.options,(function(t){return i("li",{key:t.value,staticClass:"checkboxGroup__item"},[i("a17-checkbox",{attrs:{name:e.name,value:t.value,label:t.label,initialValue:e.currentValue,disabled:t.disabled||e.disabled},on:{change:e.changeValue}})],1)})),0)])},Li=[],Ii=i("63ea"),ji=i.n(Ii),Ri=i("1249"),Ni={name:"A17CheckboxGroup",props:{name:{type:String,default:""},inline:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}}},mixins:[O["a"],Ri["a"],w["a"]],computed:{checkboxClasses:function(){return[this.inline?"checkboxGroup--inline":""]}},methods:{formatValue:function(e,t){var i=this;if(e&&t){var n=this.isMax(e),a=this.isMin(e);(n||a)&&(ji()(t,i.checkedValue)||(i.checkedValue=t))}},updateFromStore:function(e){this.updateValue(e)},updateValue:function(e){this.checkedValue=e},changeValue:function(e){ji()(e,this.currentValue)||this.updateValue(e)}},mounted:function(){this.max+this.min>0&&this.$watch("currentValue",this.formatValue,{immediate:!0})}},Bi=Ni,Fi=(i("fa4a"),Object(l["a"])(Bi,ki,Li,!1,null,"c42094e6",null)),$i=Fi.exports,Ui=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"multiselectorOuter"},[i("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,"add-new":e.addNew}},[i("div",{staticClass:"multiselector",class:e.gridClasses},[i("div",{staticClass:"multiselector__outer"},e._l(e.fullOptions,(function(t,n){return i("div",{key:n,staticClass:"multiselector__item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedValue,expression:"checkedValue"}],staticClass:"multiselector__checkbox",class:{"multiselector__checkbox--checked":e.checkedValue.includes(t.value)},attrs:{type:"checkbox",name:e.name+"["+e.randKey+"]",id:e.uniqId(t.value,n),disabled:t.disabled||e.disabled},domProps:{value:t.value,checked:Array.isArray(e.checkedValue)?e._i(e.checkedValue,t.value)>-1:e.checkedValue},on:{change:function(i){var n=e.checkedValue,a=i.target,r=!!a.checked;if(Array.isArray(n)){var s=t.value,o=e._i(n,s);a.checked?o<0&&(e.checkedValue=n.concat([s])):o>-1&&(e.checkedValue=n.slice(0,o).concat(n.slice(o+1)))}else e.checkedValue=r}}}),i("label",{staticClass:"multiselector__label",attrs:{for:e.uniqId(t.value,n)},on:{click:function(i){return i.preventDefault(),e.changeCheckbox(t.value)}}},[i("span",{staticClass:"multiselector__icon"},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})]),e._v(" "+e._s(t.label)+" ")]),i("span",{staticClass:"multiselector__bg"})])})),0)])]),e.addNew?[i("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e()],2)},Vi=[],qi={name:"A17Multiselect",mixins:[_["a"],O["a"],Ri["a"],w["a"],E["a"]],props:{grid:{type:Boolean,default:!0},inline:{type:Boolean,default:!1}},computed:{gridClasses:function(){return[this.grid?"multiselector--grid":"",this.inline?"multiselector--inline":""]}},methods:{updateFromStore:function(e){ji()(e,this.checkedValue)||(this.checkedValue=e)},changeCheckbox:function(e){var t=this.checkedValue.indexOf(e),i=this.checkedValue.slice();t>-1?i.splice(t,1):i.push(e);var n=this.isMax(i),a=this.isMin(i);n||a||(this.checkedValue=i)},uniqId:function(e,t){return this.name+"_"+e+"-"+this.randKey*(t+1)}}},Hi=qi,Wi=(i("1f21"),Object(l["a"])(Hi,Ui,Vi,!1,null,"61b04514",null)),zi=Wi.exports,Ki=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"multiselectorOuter"},[i("a17-inputframe",{attrs:{error:e.error,note:e.note,label:e.label,name:e.name,"add-new":e.addNew}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"hidden",name:e.name},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),i("div",{staticClass:"singleselector",class:e.gridClasses},[i("div",{staticClass:"singleselector__outer"},e._l(e.fullOptions,(function(t,n){return i("div",{key:n,staticClass:"singleselector__item"},[i("input",{staticClass:"singleselector__radio",class:{"singleselector__radio--checked":t.value==e.selectedValue},attrs:{type:"radio",name:e.name+"["+e.randKey+"]",id:e.uniqId(t.value,n),disabled:t.disabled||e.disabled},domProps:{value:t.value}}),i("label",{staticClass:"singleselector__label",attrs:{for:e.uniqId(t.value,n)},on:{click:function(i){return i.preventDefault(),e.changeRadio(t.value)}}},[e._v(e._s(t.label))]),i("span",{staticClass:"singleselector__bg"})])})),0)])]),e.addNew?[i("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e()],2)},Gi=[],Yi={name:"A17Singleselect",mixins:[_["a"],O["a"],w["a"],E["a"]],props:{name:{type:String,default:""},grid:{type:Boolean,default:!0},inline:{type:Boolean,default:!1},selected:{default:""},options:{default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{value:this.selected}},computed:{gridClasses:function(){return[this.grid?"singleselector--grid":"",this.inline?"singleselector--inline":""]},selectedValue:{get:function(){return this.value},set:function(e){e!==this.value&&(this.value=e,this.saveIntoStore(e),this.$emit("change",e))}}},methods:{updateFromStore:function(e){e!==this.value&&(this.value=e)},changeRadio:function(e){this.selectedValue=e},uniqId:function(e,t){return this.name+"_"+e+"-"+this.randKey*(t+1)}}},Xi=Yi,Qi=(i("dc8f"),Object(l["a"])(Xi,Ki,Gi,!1,null,"4ebbac15",null)),Ji=Qi.exports,Zi=i("14bd"),en=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.barClasses},[e._t("default")],2)},tn=[],nn={name:"A17Buttonbar",props:{type:{type:String,default:"button"},variant:{type:String,default:""}},computed:{barClasses:function(){return["buttonbar",this.variant?"buttonbar--".concat(this.variant):""]}}},an=nn,rn=(i("4086"),i("2732"),Object(l["a"])(an,en,tn,!1,null,"7223fc6a",null)),sn=rn.exports,on=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"locale"},[e.languages&&e.languages.length&&e.languages.length>0?e._l(e.languages,(function(t){return i("div",{key:t.value,staticClass:"locale__item"},[i(""+e.type,e._b({tag:"component",attrs:{"data-lang":t.value,name:e.attributes.name+"["+t.value+"]",fieldName:e.attributes.name,locale:t},on:{localize:e.updateLocale,change:function(i){var n=arguments.length,a=Array(n);while(n--)a[n]=arguments[n];return e.updateValue.apply(void 0,[t.value].concat(a))},blur:function(t){return e.$emit("blur")},focus:function(t){return e.$emit("focus")}}},"component",e.attributesPerLang(t.value),!1),[e._t("default")],2)],1)})):[i(""+e.type,e._b({tag:"component",attrs:{name:e.attributes.name},on:{change:function(t){var i=arguments.length,n=Array(i);while(i--)n[i]=arguments[i];return e.updateValue.apply(void 0,[!1].concat(n))},blur:function(t){return e.$emit("blur")},focus:function(t){return e.$emit("focus")}}},"component",e.attributesNoLang(),!1),[e._t("default")],2)]],2)},ln=[],cn=i("0644"),un=i.n(cn);function dn(e){return dn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(e)}function fn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function hn(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(i),!0).forEach((function(t){pn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):fn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function pn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var mn={name:"A17Locale",props:{type:{type:String,default:"text"},attributes:{type:Object,default:function(){return{}}},initialValues:{type:Object,default:function(){return{}}},isRequired:{type:Boolean,default:function(){return this.attributes.required||!1}}},computed:hn({},Object(pe["c"])({currentLocale:function(e){return e.language.active},languages:function(e){return e.language.all}})),methods:{attributesPerLang:function(e){var t=this.languages.find((function(t){return t.value===e})),i=un()(this.attributes);return this.initialValues&&"object"===dn(this.initialValues)&&this.initialValues[e]?i.initialValue=this.initialValues[e]:i.initialValue||(i.initialValue=""),i.required=!!t.published&&this.isRequired,i},attributesNoLang:function(){var e=un()(this.attributes);return this.initialValue&&(e.initialValue=this.initialValue),e},updateLocale:function(e){this.$store.commit(r["g"].SWITCH_LANG,{oldValue:e}),this.$nextTick((function(){var e=this.$el.querySelector('[data-lang="'+this.currentLocale.value+'"]');if(e){var t=e.querySelector("input:not([disabled]), textarea:not([disabled]), select:not([disabled])");t&&t.focus()}})),this.$emit("localize",this.currentLocale)},updateValue:function(e,t){e?this.$emit("change",{locale:e,value:t}):this.$emit("change",{value:t})}}},bn=mn,gn=Object(l["a"])(bn,on,ln,!1,null,null,null),vn=gn.exports,_n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal",class:e.modalClasses,on:{mousedown:e.hide,touchend:function(t){return t.preventDefault(),e.hide(t)}}},[i("transition",{attrs:{name:"fade_scale_modal"}},[e.active?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],staticClass:"modal__window",on:{mousedown:function(e){e.stopPropagation()},touchend:function(e){e.stopPropagation()}}},[e.modalTitle?i("header",{staticClass:"modal__header"},[e._v(" "+e._s(e.modalTitle)+" "),i("button",{staticClass:"modal__close",attrs:{type:"button"},on:{click:e.hide}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_modal"}})])]):e._e(),i("div",{staticClass:"modal__content"},[e._t("default")],2)]):e._e()])],1)},yn=[],wn=i("0a8f");function On(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function En(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?On(Object(i),!0).forEach((function(t){Tn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):On(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Tn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Cn=document.documentElement,An=wn["a"].modal,Dn={name:"A17Modal",props:{title:{type:String,default:""},mode:{type:String,default:""},forceClose:{type:Boolean,default:!1},forceLock:{type:Boolean,default:!1}},data:function(){return{active:!1,hidden:!0,locked:!1,firstFocusableEl:null,lastFocusableEl:null}},computed:En({modalTitle:function(){return""!==this.title?this.title:this.browserTitle},modalClasses:function(){return{"modal--active":this.active,"modal--hidden":this.hidden,"modal--tiny":"tiny"===this.mode,"modal--medium":"medium"===this.mode,"modal--wide":"wide"===this.mode}}},Object(pe["c"])({browserTitle:function(e){return e.browser.title}})),watch:{forceLock:function(){this.locked=this.forceLock}},methods:{open:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.active&&!this.hidden||(this.active=!0,this.hidden=!1,Cn.classList.add(An),this.bindKeyboard(),this.$nextTick((function(){if(e){var t='textarea, input:not([type="hidden"]), select, button[type="submit"]',i=this.$el.querySelectorAll(t),n=this.$el.querySelectorAll(t+', a, button[type="button"]');this.firstFocusableEl=this.$el.querySelector(".modal__close"),this.lastFocusableEl=n[n.length-1],i.length&&i[0].focus()}this.$emit("open")})))},mask:function(){Cn.classList.remove(An),this.unbindKeyboard(),this.$emit("close")},hide:function(){this.active&&(this.locked||(this.forceClose?this.close():(this.hidden=!0,this.mask())))},close:function(e){this.active&&(this.locked||(this.active=!1,this.mask()))},bindKeyboard:function(){window.addEventListener("keyup",this.keyPressed),document.addEventListener("keydown",this.keyDown,!1)},unbindKeyboard:function(){window.removeEventListener("keyup",this.keyPressed),document.removeEventListener("keydown",this.keyDown)},keyPressed:function(e){27!==e.which&&27!==e.keyCode||(this.hide(),this.$emit("esc-key"))},keyDown:function(e){e.keyCode&&9===e.keyCode&&(e.shiftKey?document.activeElement.isEqualNode(this.firstFocusableEl)&&(this.lastFocusableEl.focus(),e.preventDefault()):document.activeElement.isEqualNode(this.lastFocusableEl)&&(this.firstFocusableEl.focus(),e.preventDefault()))}},beforeDestroy:function(){this.$el.parentNode&&(this.active&&this.unbindKeyboard(),this.$el.parentNode.removeChild(this.$el))}},Sn=Dn,Pn=(i("453b"),i("5da2"),Object(l["a"])(Sn,_n,yn,!1,null,"f75160e8",null)),xn=Pn.exports,Mn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-modal",{ref:"modal",staticClass:"modal--tiny modal--form modal--withintro",attrs:{title:e.modalTitle,forceClose:!0}},[e._t("default"),i("a17-inputframe",[i("a17-button",{staticClass:"dialog-confirm",attrs:{variant:"validate"}},[e._v(e._s(e.confirmLabel))]),e._v(" "),i("a17-button",{staticClass:"dialog-cancel",attrs:{variant:"aslink"}},[i("span",[e._v(e._s(e.cancelLabel))])])],1)],2)},kn=[],Ln={name:"A17Dialog",props:{name:{type:String,default:""},modalTitle:{type:String,default:"Move to Trash"},confirmLabel:{type:String,default:"Ok"},cancelLabel:{type:String,default:"Cancel"}},methods:{open:function(e){var t=this;this.$refs.modal&&this.$refs.modal.open(),this.$nextTick((function(){t.$el.querySelector(".dialog-confirm").addEventListener("click",(function(i){e(),t.close()})),t.$el.querySelector(".dialog-cancel").addEventListener("click",(function(e){t.close()}))}))},close:function(){this.$refs.modal&&this.$refs.modal.close()}}},In=Ln,jn=Object(l["a"])(In,Mn,kn,!1,null,null,null),Rn=jn.exports,Nn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"slideshow"},[e.slides.length?i("draggable",{staticClass:"slideshow__content",attrs:{options:e.dragOptions},model:{value:e.slides,callback:function(t){e.slides=t},expression:"slides"}},[i("transition-group",{attrs:{name:"draggable_list",tag:"div"}},e._l(e.slides,(function(t,n){return i("div",{key:t.id,staticClass:"slide"},[i("div",{staticClass:"slide__handle"},[i("div",{staticClass:"slide__handle--drag"})]),i("a17-mediafield",{staticClass:"slide__content",attrs:{name:e.name+"_"+t.id,index:n,mediaContext:e.name,cropContext:e.cropContext,hover:e.hoverable,isSlide:!0,withAddInfo:e.withAddInfo,withCaption:e.withCaption,withVideoUrl:e.withVideoUrl,altTextMaxLength:e.altTextMaxLength,captionMaxLength:e.captionMaxLength,extraMetadatas:e.extraMetadatas}})],1)})),0)],1):e._e(),e.remainingSlides>0?i("div",{staticClass:"slideshow__trigger"},[i("a17-button",{attrs:{type:"button",variant:"ghost"},on:{click:function(t){return e.openMediaLibrary(e.remainingSlides)}}},[e._v(e._s(e.addLabel))]),i("span",{staticClass:"slideshow__note f--small"},[e._t("default")],2)],1):e._e()],1)},Bn=[],Fn=i("5420"),$n=i("1980"),Un=i.n($n);function Vn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function qn(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(i),!0).forEach((function(t){Hn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Vn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Hn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Wn={name:"A17Slideshow",components:{draggable:Un.a},mixins:[Fn["a"],Ht["a"],Wt],props:{name:{type:String,required:!0},itemLabel:{type:String,default:"image"},max:{type:Number,default:10}},data:function(){return{handle:".slide__handle",hoverable:!0}},computed:qn({remainingSlides:function(){return Math.max(0,this.max-this.slides.length)},addLabel:function(){var e=this.itemLabel+"s";return"Attach "+e},slides:{get:function(){return this.selectedMedias.hasOwnProperty(this.name)&&this.selectedMedias[this.name]||[]},set:function(e){this.$store.commit(r["h"].REORDER_MEDIAS,{name:this.name,medias:e})}}},Object(pe["c"])({selectedMedias:function(e){return e.mediaLibrary.selected}})),methods:{deleteSlideshow:function(){this.$store.commit(r["h"].DESTROY_MEDIAS,this.name)}},beforeDestroy:function(){this.deleteSlideshow()}},zn=Wn,Kn=(i("8ca9"),Object(l["a"])(zn,Nn,Bn,!1,null,"3723b48a",null)),Gn=Kn.exports,Yn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"browserField"},[e.items.length?i("table",{staticClass:"browserField__table"},[i("draggable",{attrs:{tag:"tbody"},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},e._l(e.items,(function(t,n){return i("a17-browseritem",{key:t.endpointType+"_"+t.id,staticClass:"item__content",attrs:{name:e.name+"_"+t.id,draggable:e.draggable,item:t,max:e.max,showType:e.endpoints.length>0},on:{delete:function(t){return e.deleteItem(n)}}})})),1)],1):e._e(),e.remainingItems?i("div",{staticClass:"browserField__trigger"},[i("a17-button",{attrs:{type:"button",variant:"ghost"},on:{click:e.openBrowser}},[e._v(e._s(e.addLabel))]),i("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.itemsIds}}),i("span",{staticClass:"browserField__note f--small"},[e._t("default")],2)],1):e._e()])},Xn=[],Qn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"browserItem"},[e.draggable&&e.max>1?i("td",{staticClass:"browserItem__cell browserItem__cell--drag"},[i("div",{staticClass:"drag__handle--drag"})]):e._e(),e.currentItem.hasOwnProperty("thumbnail")?i("td",{staticClass:"browserItem__cell browserItem__cell--thumb"},[i("a",{attrs:{href:"#",target:"_blank"}},[i("img",{attrs:{src:e.currentItem.thumbnail}})])]):e._e(),i("td",{staticClass:"browserItem__cell browserItem__cell--name"},[i("a",{attrs:{href:e.currentItem.edit,target:"_blank"}},[e.currentItem.hasOwnProperty("renderHtml")?i("span",{staticClass:"f--link-underlined--o",domProps:{innerHTML:e._s(e.currentItem.name)}}):i("span",{staticClass:"f--link-underlined--o"},[e._v(e._s(e.currentItem.name))])]),i("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.currentItem.id}})]),e.currentItem.hasOwnProperty("endpointType")&&e.showType?i("td",{staticClass:"browserItem__cell browserItem__cell--type"},[i("span",[e._v(e._s(e.currentItem.endpointType))])]):e._e(),i("td",{staticClass:"browserItem__cell browserItem__cell--icon"},[i("a17-button",{staticClass:"bucket__action",attrs:{icon:"close"},on:{click:function(t){return e.deleteItem()}}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})])],1)])},Jn=[],Zn={name:"A17BrowserItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},max:{type:Number,default:10},showType:{type:Boolean,default:!1}},data:function(){return{handle:".item__handle"}},computed:{currentItem:function(){return this.item}},methods:{deleteItem:function(){this.$emit("delete")}}},ea=Zn,ta=(i("7d15"),Object(l["a"])(ea,Qn,Jn,!1,null,"765d345d",null)),ia=ta.exports;function na(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function aa(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?na(Object(i),!0).forEach((function(t){ra(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):na(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ra(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var sa={name:"A17BrowserField",components:{"a17-browseritem":ia,draggable:Un.a},mixins:[Fn["a"]],props:{name:{type:String,required:!0},modalTitle:{type:String,default:""},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},endpoints:{type:Array,default:function(){return[]}},draggable:{type:Boolean,default:!0},max:{type:Number,default:10},wide:{type:Boolean,default:!1}},data:function(){return{handle:".item__handle"}},computed:aa({remainingItems:function(){return this.max-this.items.length},addLabel:function(){return this.$trans("fields.browser.add-label","Add")+" "+this.itemLabel},browserTitle:function(){return""!==this.modalTitle?this.modalTitle:this.addLabel},items:{get:function(){return this.selectedBrowser.hasOwnProperty(this.name)&&this.selectedBrowser[this.name]||[]},set:function(e){this.$store.commit(r["b"].REORDER_ITEMS,{name:this.name,items:e})}},itemsIds:function(){return this.selectedItemsByIds[this.name]?this.selectedItemsByIds[this.name].join():""}},Object(pe["c"])({selectedBrowser:function(e){return e.browser.selected}}),{},Object(pe["b"])(["selectedItemsByIds"])),methods:{deleteAll:function(){this.$store.commit(r["b"].DESTROY_ITEMS,{name:this.name})},deleteItem:function(e){this.$store.commit(r["b"].DESTROY_ITEM,{name:this.name,index:e})},openBrowser:function(){this.$store.commit(r["b"].UPDATE_BROWSER_CONNECTOR,this.name),this.endpoints.length>0?this.$store.commit(r["b"].UPDATE_BROWSER_ENDPOINTS,this.endpoints):(this.$store.commit(r["b"].DESTROY_BROWSER_ENDPOINTS),this.$store.commit(r["b"].UPDATE_BROWSER_ENDPOINT,{value:this.endpoint,label:this.name})),this.$store.commit(r["b"].UPDATE_BROWSER_MAX,this.max),this.$store.commit(r["b"].UPDATE_BROWSER_TITLE,this.browserTitle),this.wide?this.$root.$refs.browserWide.open(this.endpoints.length<=0):this.$root.$refs.browser.open(this.endpoints.length<=0)}},beforeDestroy:function(){this.deleteAll()}},oa=sa,la=(i("36a7"),Object(l["a"])(oa,Yn,Xn,!1,null,"5a9de436",null)),ca=la.exports,ua=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-inputframe",{attrs:{error:e.error,label:e.label,locale:e.locale,size:e.size,name:e.name,note:e.fieldNote},on:{localize:e.updateLocale}},[i("div",{staticClass:"fileField"},[e.items.length?i("table",{staticClass:"fileField__list"},[i("draggable",{attrs:{tag:"tbody"},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}},e._l(e.items,(function(t,n){return i("a17-fileitem",{key:t.id,staticClass:"item__content",attrs:{name:e.name+"_"+t.id,draggable:e.isDraggable,item:t},on:{delete:function(t){return e.deleteItem(n)}}})})),1)],1):e._e(),e.remainingItems?i("div",{staticClass:"fileField__trigger"},[i("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.itemsIds}}),i("a17-button",{attrs:{type:"button",variant:"ghost"},on:{click:function(t){return e.openMediaLibrary(e.remainingItems)}}},[e._v(e._s(e.addLabel))]),i("span",{staticClass:"fileField__note f--small"},[e._v(e._s(e.note))])],1):e._e()])])},da=[],fa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"fileItem"},[e.draggable?i("td",{staticClass:"fileItem__cell fileItem__cell--drag"},[i("div",{staticClass:"drag__handle--drag"})]):e._e(),e.currentItem.hasOwnProperty("extension")?i("td",{staticClass:"fileItem__cell fileItem__cell--extension"},[i("a",{attrs:{href:"#",target:"_blank"}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:e.getSvgIconName()}})])]):e._e(),i("td",{staticClass:"fileItem__cell fileItem__cell--name"},[e.currentItem.hasOwnProperty("thumbnail")?i("span",[i("img",{attrs:{src:e.currentItem.thumbnail}})]):e._e(),i("a",{attrs:{href:e.currentItem.hasOwnProperty("original")?e.currentItem.original:"#",download:""}},[i("span",{staticClass:"f--link-underlined--o"},[e._v(e._s(e.currentItem.name))])]),i("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.currentItem.id}})]),e.currentItem.hasOwnProperty("size")?i("td",{staticClass:" fileItem__cell fileItem__cell--size"},[e._v(e._s(e.currentItem.size))]):e._e(),i("td",{staticClass:"fileItem__cell"},[i("a17-button",{staticClass:"bucket__action",attrs:{icon:"close"},on:{click:function(t){return e.deleteItem()}}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})])],1)])},ha=[],pa={img:{extensions:["gif","png","jpg"],icon:"img",display:"Image File",instructions:"Most Image files are natively recognized by your computer."},tiff:{extensions:["tiff","tif"],icon:"img",display:"TIFF Image",instructions:"To read TIFF images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},eps:{extensions:["eps","ps"],icon:"eps",display:"Postscript File",instructions:"To read Postscript files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},bmp:{extensions:["bmp"],icon:"img",display:"Bitmap Image",instructions:"To read Bitmap images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},raw:{extensions:["3fr","arw","srf","sr2","bay","crw","cr2","cap","iiq","eip","dng","erf","fff","mef","mos","mrw","nef","nrw","orf","ptx","pef","pxn","r3d","raf","raw","rw2","rwz","k25","kdc","dcs","drf","x3f"],icon:"img",display:"RAW Image",instructions:"To read RAW images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},indd:{extensions:["indd"],icon:"indd",display:"InDesign Document",instructions:"To read InDesign documents, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},psd:{extensions:["psd"],icon:"psd",display:"Photoshop File",instructions:"To read Photoshop files, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},ai:{extensions:["ai"],icon:"ai",display:"Illustrator File",instructions:"To read Illustrator files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},indb:{extensions:["indb"],icon:"indd",display:"InDesign Book",instructions:"To read InDesign books, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},ase:{extensions:["ase"],icon:"ase",display:"Adobe Swatch File",instructions:"To read Swatch files, you need <a href='http://www.adobe.com/products/creativesuite/' target='_blank'>Adobe Creative Suite</a> or similar."},snd:{extensions:["mp3","wav"],icon:"snd",display:"Audio File",instructions:"To listen to Audio files, you need Apple QuickTime, Windows Media Player or similar."},vid:{extensions:["avi","mov","mp4","mpg","mpeg","wmv","flv"],icon:"vid",display:"Movie File",instructions:"To watch Movie files, you need Apple QuickTime, Windows Media Player or similar."},fla:{extensions:["fla"],icon:"fla",display:"Flash Document",instructions:"To read Flash documents, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},swf:{extensions:["swf"],icon:"swf",display:"Flash Movie",instructions:"To read Flash movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},dcr:{extensions:["dcr"],icon:"dcr",display:"Shockwave Movie",instructions:"To read Shockwave movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},ae:{extensions:["ae","aep"],icon:"ae",display:"After Effect File",instructions:"To read After Effect files, you need <a href='http://www.adobe.com/products/aftereffects/' target='_blank'>Adobe After Effects</a>."},pdf:{extensions:["pdf"],icon:"pdf",display:"PDF Document",instructions:"To read PDF documents, You need the free <a href='http://get.adobe.com/reader/' target='_blank'>Adobe Acrobat Reader</a> or similar."},doc:{extensions:["doc","docx"],icon:"doc",display:"Word Document",instructions:"To read Word documents, you need <a href='http://office.microsoft.com/en-us/word/' target='_blank'>Microsoft Word</a> or similar."},xls:{extensions:["xls","xlsx"],icon:"xls",display:"Excel Document",instructions:"To read Excel documents, you need <a href='http://office.microsoft.com/en-us/excel/' target='_blank'>Microsoft Excel</a>, or similar."},ppt:{extensions:["ppt","pptx","pps"],icon:"ppt",display:"Powerpoint Document",instructions:"To read PowerPoint documents, you need <a href='http://office.microsoft.com/en-us/powerpoint/' target='_blank'>Microsoft PowerPoint</a>, or similar."},pages:{extensions:["pages"],icon:"pages",display:"Pages Document",instructions:"To read Pages documents, you need <a href='http://www.apple.com/iwork/pages/' target='_blank'>Apple iWorks</a>."},numbers:{extensions:["numbers"],icon:"numbers",display:"Numbers Document",instructions:"To read Numbers documents, you need <a href='http://www.apple.com/iwork/numbers/' target='_blank'>Apple iWorks</a>."},key:{extensions:["key"],icon:"key",display:"Keynote Document",instructions:"To read Keynote Documents, you need <a href='http://www.apple.com/iwork/keynote/' target='_blank'>Apple iWorks</a>."},csv:{extensions:["csv"],icon:"sql",display:"CSV File",instructions:"CSV files can be opened with a spreadsheet application such as Microsoft Excel or similar."},txt:{extensions:["txt"],icon:"txt",display:"Text File",instructions:"To read TXT files, you need any standard text editor."},rtf:{extensions:["rtf"],icon:"txt",display:"Rich Text File",instructions:"To read RTF files, you need any standard text editor."},merlin:{extensions:["merlin","merlin2"],icon:"merlin",display:"Merlin File",instructions:"To read Merlin files, you need <a href='http://projectwizards.net/' target='_blank'>Merlin</a>."},oplx:{extensions:["oplx"],icon:"merlin",display:"OmniPlan File",instructions:"To read OmniPlan files, you need <a href='https://www.omnigroup.com/omniplan' target='_blank'>OmniPlan</a>."},zip:{extensions:["zip","str","tar","gz"],icon:"zip",display:"Archive",instructions:"Most archive formats are natively recognized by your computer."},dmg:{extensions:["dmg"],icon:"dmg",display:"DMG Installer",instructions:"DMG installers are disc images for Mac used for the installation of applications."},fnt:{extensions:["fnt","ttf","bmap","afm","otf"],icon:"fnt",display:"Font",instructions:"To open Font packages, you need a font manager application such as FontCreator on a PC or Font Book on a Mac."},suit:{extensions:["suit"],icon:"fnt",display:"Font Suitcase",instructions:"To open Font Suitcase, you need a Mac."},html:{extensions:["htm","html","rhtml"],icon:"html",display:"HTML File",instructions:"To read HTML files, you need a standard text editor."},css:{extensions:["css"],icon:"gen",display:"Stylesheet",instructions:"To read CSS files, you need a standard text editor."},php:{extensions:["php"],icon:"gen",display:"PHP File",instructions:"To read PHP files, you need a standard text editor."},yml:{extensions:["yml"],icon:"sql",display:"YAML File",instructions:"To read YAML files, you need a standard text editor."},sql:{extensions:["sql"],icon:"sql",display:"MySql Dump",instructions:"To read MySql Dump files, you need <a href='http://www.mysql.com/' target='_blank'>MySQL</a>."},dir:{extensions:["dir"],icon:"dir",display:"Folder"},cut:{extensions:["cut"],icon:"cut",display:"Shortcut"},ftr:{extensions:["ftr"],icon:"ftr",display:"Feature"},pop:{extensions:["pop"],icon:"pop",display:"Popup Window"},link:{extensions:["net","link","com","fr","net","org","me","us","biz","mobi","info","es","de"],icon:"net",display:"Internet Location"},site:{extensions:["site"],icon:"site",display:"Mini Site"},slide:{extensions:["slide"],icon:"slide",display:"Slideshow"},rss:{extensions:["rss"],icon:"txt",display:"RSS Feed"}},ma=pa,ba={name:"a17FileItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},max:{type:Number,default:10}},data:function(){return{handle:".item__handle"}},computed:{currentItem:function(){return this.item}},methods:{deleteItem:function(){this.$emit("delete")},getSvgIconName:function(){var e=this.currentItem.extension;if(ma.hasOwnProperty(e))return ma[e].icon;for(var t in ma){var i=ma[t].extensions.findIndex((function(t){return t===e}));if(i>-1)return ma[t].icon}return"gen"}}},ga=ba,va=(i("c391"),Object(l["a"])(ga,fa,ha,!1,null,"5c6d6a95",null)),_a=va.exports;function ya(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function wa(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(i),!0).forEach((function(t){Oa(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ya(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Oa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ea={name:"A17FileField",components:{"a17-fileitem":_a,draggable:Un.a},mixins:[Fn["a"],Ht["a"],T["a"],O["a"]],props:{type:{type:String,default:"file"},name:{type:String,required:!0},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},draggable:{type:Boolean,default:!0},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0}},data:function(){return{handle:".item__handle"}},computed:wa({remainingItems:function(){return this.max-this.items.length},items:{get:function(){return this.selectedFiles.hasOwnProperty(this.name)&&this.selectedFiles[this.name]||[]},set:function(e){this.$store.commit(r["h"].REORDER_MEDIAS,{name:this.name,medias:e})}},isDraggable:function(){return this.draggable&&this.items.length>1},itemsIds:function(){return this.selectedItemsByIds[this.name]?this.selectedItemsByIds[this.name].join():""},addLabel:function(){return this.$trans("fields.files.add-label","Add")+" "+this.itemLabel}},Object(pe["c"])({selectedFiles:function(e){return e.mediaLibrary.selected}}),{},Object(pe["b"])(["selectedItemsByIds"])),methods:{deleteAll:function(e){this.$store.commit(r["h"].DESTROY_MEDIAS,{name:this.name})},deleteItem:function(e){this.$store.commit(r["h"].DESTROY_SPECIFIC_MEDIA,{name:this.name,index:e})}},beforeDestroy:function(){this.deleteAll()}},Ta=Ea,Ca=(i("e2c4"),Object(l["a"])(Ta,ua,da,!1,null,"21e74625",null)),Aa=Ca.exports,Da=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-inputframe",{staticClass:"datePicker",class:{"datePicker--static":e.staticMode,"datePicker--mobile":e.isMobile},attrs:{name:e.name,error:e.error,note:e.note,label:e.label,"label-for":e.uniqId,required:e.required}},[i("div",{ref:e.refs.flatPicker,staticClass:"datePicker__group"},[i("div",{staticClass:"form__field datePicker__field"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],attrs:{type:"text",name:e.name,id:e.uniqId,required:e.required,placeholder:e.placeHolder,"data-input":""},domProps:{value:e.date},on:{blur:e.onBlur,input:function(t){t.target.composing||(e.date=t.target.value)}}}),e.clear?i("a",{staticClass:"datePicker__reset",class:{"datePicker__reset--cleared":!e.date},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onClear(t)}}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})]):e._e()])])])},Sa=[],Pa=i("cf063"),xa=i.n(Pa),Ma=(i("0952"),{name:"A17DatePicker",mixins:[_["a"],O["a"],w["a"]],props:{name:{type:String,default:"date"},required:{type:Boolean,default:!1},placeHolder:{type:String,default:""},allowInput:{type:Boolean,default:!1},enableTime:{type:Boolean,default:!1},noCalendar:{type:Boolean,default:!1},time_24hr:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},initialValue:{type:String,default:null},hourIncrement:{type:Number,default:1},minuteIncrement:{type:Number,default:30},staticMode:{type:Boolean,default:!1},minDate:{type:String,default:null},maxDate:{type:String,default:null},mode:{type:String,default:"single",validator:function(e){return"single"===e||"multiple"===e||"range"===e}},clear:{type:Boolean,default:!1}},data:function(){return{date:this.initialValue,isMobile:!1,flatPicker:null,refs:{flatPicker:"flatPicker"}}},computed:{uniqId:function(e){return this.name+"-"+this.randKey}},methods:{config:function(){var e=this;return{wrap:!0,altInput:!0,static:e.staticMode,appendTo:e.staticMode?e.$refs[e.refs.flatPicker]:void 0,enableTime:e.enableTime,noCalendar:e.noCalendar,time_24hr:e.time_24hr,inline:e.inline,allowInput:e.allowInput,mode:e.mode,minuteIncrement:e.minuteIncrement,hourIncrement:e.hourIncrement,minDate:e.minDate,maxDate:e.maxDate,onOpen:function(){setTimeout((function(){e.flatPicker.set("maxDate",e.maxDate),e.flatPicker.set("minDate",e.minDate)}),10),e.$emit("open",e.date)},onClose:function(t,i,n){e.$nextTick((function(){e.$emit("input",e.date),e.$emit("close",e.date),e.saveIntoStore()}))}}},updateFromStore:function(e){e!==this.date&&(this.date=e,this.flatPicker.setDate(e))},onInput:function(e){this.$emit("input",this.date)},onBlur:function(){this.$emit("blur",this.date)},onClear:function(){this.flatPicker.clear(),this.saveIntoStore(),this.$emit("input",this.date)}},mounted:function(){var e=this,t=e.$refs[e.refs.flatPicker],i=e.config();e.flatPicker=new xa.a(t,i),this.isMobile=e.flatPicker.isMobile},beforeDestroy:function(){var e=this;e.flatPicker.destroy()}}),ka=Ma,La=(i("66f2"),i("8d2b"),Object(l["a"])(ka,Da,Sa,!1,null,"c2ad486c",null)),Ia=La.exports,ja=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-modal",{ref:"modal",attrs:{title:e.modalTitle,mode:"wide"},on:{open:e.opened}},[i("div",{staticClass:"medialibrary"},[i("div",{staticClass:"medialibrary__frame"},[i("div",{ref:"form",staticClass:"medialibrary__header"},[i("a17-filter",{attrs:{clearOption:!0},on:{submit:e.submitFilter,clear:e.clearFilters}},[e.types.length?i("ul",{staticClass:"secondarynav secondarynav--desktop",attrs:{slot:"navigation"},slot:"navigation"},e._l(e.types,(function(t){return i("li",{key:t.value,staticClass:"secondarynav__item",class:{"s--on":e.type===t.value,"s--disabled":e.type!==t.value&&e.strict}},[i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),e.updateType(t.value)}}},[i("span",{staticClass:"secondarynav__link"},[e._v(e._s(t.text))]),t.total>0?i("span",{staticClass:"secondarynav__number"},[e._v("("+e._s(t.total)+")")]):e._e()])])})),0):e._e(),i("div",{staticClass:"secondarynav secondarynav--mobile secondarynav--dropdown",attrs:{slot:"navigation"},slot:"navigation"},[i("a17-dropdown",{ref:"secondaryNavDropdown",attrs:{position:"bottom-left",width:"full",offset:0}},[e.selectedType?i("a17-button",{staticClass:"secondarynav__button",attrs:{variant:"dropdown-transparent",size:"small"},on:{click:function(t){return e.$refs.secondaryNavDropdown.toggle()}}},[i("span",{staticClass:"secondarynav__link"},[e._v(e._s(e.selectedType.text))]),i("span",{staticClass:"secondarynav__number"},[e._v(e._s(e.selectedType.total))])]):e._e(),i("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[i("ul",e._l(e.types,(function(t){return i("li",{key:t.value,staticClass:"secondarynav__item"},[i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),e.updateType(t.value)}}},[i("span",{staticClass:"secondarynav__link"},[e._v(e._s(t.text))]),i("span",{staticClass:"secondarynav__number"},[e._v(e._s(t.total))])])])})),0)])],1)],1),i("div",{attrs:{slot:"hidden-filters"},slot:"hidden-filters"},[i("a17-vselect",{ref:"filter",staticClass:"medialibrary__filter-item",attrs:{name:"tag",options:e.tags,placeholder:e.$trans("media-library.filter-select-label","Filter by tag"),searchable:!0,maxHeight:"175px"}})],1)])],1),i("div",{staticClass:"medialibrary__inner"},[i("div",{staticClass:"medialibrary__grid"},[i("aside",{staticClass:"medialibrary__sidebar"},[i("a17-mediasidebar",{attrs:{medias:e.selectedMedias,authorized:e.authorized,extraMetadatas:e.extraMetadatas,type:e.currentTypeObject,translatableMetadatas:e.translatableMetadatas},on:{clear:e.clearSelectedMedias,delete:e.deleteSelectedMedias,tagUpdated:e.reloadTags}})],1),e.selectedMedias.length&&e.showInsert&&e.connector?i("footer",{staticClass:"medialibrary__footer"},[e.canInsert?i("a17-button",{attrs:{variant:"action"},on:{click:e.saveAndClose}},[e._v(e._s(e.btnLabel))]):i("a17-button",{attrs:{variant:"action",disabled:!0}},[e._v(e._s(e.btnLabel))])],1):e._e(),i("div",{ref:"list",staticClass:"medialibrary__list"},[e.authorized?i("a17-uploader",{attrs:{type:e.currentTypeObject},on:{loaded:e.addMedia,clear:e.clearSelectedMedias}}):e._e(),i("div",{staticClass:"medialibrary__list-items"},["file"===e.type?i("a17-itemlist",{attrs:{items:e.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":e.usedMedias},on:{change:e.updateSelectedMedias,shiftChange:e.updateSelectedMedias}}):i("a17-mediagrid",{attrs:{items:e.renderedMediaItems,"selected-items":e.selectedMedias,"used-items":e.usedMedias},on:{change:e.updateSelectedMedias,shiftChange:e.updateSelectedMedias}}),e.loading?i("a17-spinner",{staticClass:"medialibrary__spinner"},[e._v("Loading")]):e._e()],1)],1)])])])])])},Ra=[],Na=i("bc3a"),Ba=i.n(Na),Fa=i("727d"),$a="MEDIA-LIBRARY",Ua={get:function(e,t,i,n){Ba.a.get(e,{params:t}).then((function(e){i&&"function"===typeof i&&i(e)}),(function(e){var t={message:"Media library get error.",value:e};Object(Fa["a"])($a,t),n&&"function"===typeof n&&n(e)}))},update:function(e,t,i,n){Ba.a.put(e,t).then((function(e){i&&"function"===typeof i&&i(e)}),(function(e){var t={message:"Media library update error.",value:e};Object(Fa["a"])($a,t),n&&"function"===typeof n&&n(e)}))},delete:function(e,t,i){Ba.a.delete(e).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Media library delete error.",value:e};Object(Fa["a"])($a,t),i&&"function"===typeof i&&i(e)}))},bulkDelete:function(e,t,i,n){Ba.a.put(e,t).then((function(e){i&&"function"===typeof i&&i(e)}),(function(e){var t={message:"Media library bulk delete error.",value:e};Object(Fa["a"])($a,t),n&&"function"===typeof n&&n(e)}))}},Va=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mediasidebar"},[e.mediasLoading.length?i("a17-mediasidebar-upload"):[i("div",{staticClass:"mediasidebar__inner",class:e.containerClasses},[e.hasMedia?e._e():i("p",{staticClass:"f--note"},[e._v(e._s(e.$trans("media-library.sidebar.empty-text","No file selected")))]),e.hasMultipleMedias?i("p",{staticClass:"mediasidebar__info"},[e._v(" "+e._s(e.medias.length)+" "+e._s(e.$trans("media-library.sidebar.files-selected","files selected"))+" "),i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.clear(t)}}},[e._v(e._s(e.$trans("media-library.sidebar.clear","Clear")))])]):e._e(),e.hasSingleMedia?[e.isImage?i("img",{staticClass:"mediasidebar__img",attrs:{src:e.firstMedia.thumbnail,alt:e.firstMedia.original}}):e._e(),i("p",{staticClass:"mediasidebar__name"},[e._v(e._s(e.firstMedia.name))]),i("ul",{staticClass:"mediasidebar__metadatas"},[e.firstMedia.size?i("li",{staticClass:"f--small"},[e._v("File size: "+e._s(e._f("uppercase")(e.firstMedia.size)))]):e._e(),e.isImage&&e.firstMedia.width+e.firstMedia.height?i("li",{staticClass:"f--small"},[e._v(" "+e._s(e.$trans("media-library.sidebar.dimensions","Dimensions"))+": "+e._s(e.firstMedia.width)+"  "+e._s(e.firstMedia.height)+" ")]):e._e()])]:e._e(),e.hasMedia?i("a17-buttonbar",{staticClass:"mediasidebar__buttonbar"},[e.hasSingleMedia?i("a",{attrs:{href:e.firstMedia.original,download:""}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}})]):e._e(),e.allowDelete&&e.authorized?i("button",{attrs:{type:"button"},on:{click:e.deleteSelectedMediasValidation}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})]):i("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button--disabled",attrs:{type:"button","data-tooltip-title":e.warningDeleteMessage}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})])]):e._e()],2),e.hasMedia?i("form",{ref:"form",staticClass:"mediasidebar__inner mediasidebar__form",on:{submit:e.submit}},[e.loading?i("span",{staticClass:"mediasidebar__loader"},[i("span",{staticClass:"loader loader--small"},[i("span")])]):e._e(),e.fieldsRemovedFromBulkEditing.includes("tags")?e._e():i("a17-vselect",{key:e.firstMedia.id+"-"+e.medias.length,attrs:{label:"Tags",name:"tags",multiple:!0,selected:e.hasMultipleMedias?e.sharedTags:e.firstMedia.tags,searchable:!0,emptyText:"Sorry, no tags found.",taggable:!0,pushTags:!0,size:"small",endpoint:e.type.tagsEndpoint,maxHeight:"175px"},on:{change:e.save}}),e.extraMetadatas.length&&e.isImage&&e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes("tags")?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"f--tiny f--note f--underlined",attrs:{"data-tooltip-title":"Remove this field if you do not want to update it on all selected medias","data-tooltip-theme":"default","data-tooltip-placement":"top"},on:{click:function(t){return e.removeFieldFromBulkEditing("tags")}}},[e._v("Remove from bulk edit")]):e._e(),e.hasMultipleMedias?[i("input",{attrs:{type:"hidden",name:"ids"},domProps:{value:e.mediasIds}})]:[i("input",{attrs:{type:"hidden",name:"id"},domProps:{value:e.firstMedia.id}}),e.translatableMetadatas.length>0?i("div",{staticClass:"mediasidebar__langswitcher"},[i("a17-langswitcher",{attrs:{"in-modal":!0,"all-published":!0}})],1):e._e(),e.isImage&&e.translatableMetadatas.includes("alt_text")?i("a17-locale",{attrs:{type:"a17-textfield",attributes:{label:"Alt text",name:"alt_text",type:"text",size:"small"},initialValues:e.altValues},on:{focus:e.focus,blur:e.blur}}):e.isImage?i("a17-textfield",{attrs:{label:"Alt text",name:"alt_text",initialValue:e.firstMedia.metadatas.default.altText,size:"small"},on:{focus:e.focus,blur:e.blur}}):e._e(),e.isImage&&e.translatableMetadatas.includes("caption")?i("a17-locale",{attrs:{type:"a17-textfield",attributes:{type:"textarea",rows:1,label:"Caption",name:"caption",size:"small"},initialValues:e.captionValues},on:{focus:e.focus,blur:e.blur}}):e.isImage?i("a17-textfield",{attrs:{type:"textarea",rows:1,size:"small",label:"Caption",name:"caption",initialValue:e.firstMedia.metadatas.default.caption},on:{focus:e.focus,blur:e.blur}}):e._e(),e._l(e.singleOnlyMetadatas,(function(t){return[!e.isImage||"text"!==t.type&&t.type||!e.translatableMetadatas.includes(t.name)?!e.isImage||"text"!==t.type&&t.type?e._e():i("a17-textfield",{key:t.name,attrs:{label:t.label,name:t.name,size:"small",initialValue:e.firstMedia.metadatas.default[t.name],type:"textarea",rows:1},on:{focus:e.focus,blur:e.blur}}):i("a17-locale",{key:t.name,attrs:{type:"a17-textfield",attributes:{label:t.label,name:t.name,type:"textarea",rows:1,size:"small"},initialValues:e.firstMedia.metadatas.default[t.name]},on:{focus:e.focus,blur:e.blur}}),e.isImage&&"checkbox"===t.type?i("div",{key:t.name,staticClass:"mediasidebar__checkbox"},[i("a17-checkbox",{attrs:{label:t.label,name:t.name,initialValue:e.firstMedia.metadatas.default[t.name],value:1},on:{change:e.blur}})],1):e._e()]}))],e._l(e.singleAndMultipleMetadatas,(function(t){return[e.isImage&&("text"===t.type||!t.type)&&(e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(t.name)||e.hasSingleMedia)&&e.translatableMetadatas.includes(t.name)?i("a17-locale",{key:t.name,attrs:{type:"a17-textfield",attributes:{label:t.label,name:t.name,type:"textarea",rows:1,size:"small"},initialValues:e.sharedMetadata(t.name,"object")},on:{focus:e.focus,blur:e.blur}}):!e.isImage||"text"!==t.type&&t.type||!(e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(t.name)||e.hasSingleMedia)?e._e():i("a17-textfield",{key:t.name,attrs:{label:t.label,name:t.name,size:"small",initialValue:e.sharedMetadata(t.name),type:"textarea",rows:1},on:{focus:e.focus,blur:e.blur}}),e.isImage&&"checkbox"===t.type&&(e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(t.name)||e.hasSingleMedia)?i("div",{key:t.name,staticClass:"mediasidebar__checkbox"},[i("a17-checkbox",{key:t.name,attrs:{label:t.label,name:t.name,initialValue:e.sharedMetadata(t.name,"boolean"),value:1},on:{change:e.blur}})],1):e._e(),e.isImage&&e.hasMultipleMedias&&!e.fieldsRemovedFromBulkEditing.includes(t.name)?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:t.name,staticClass:"f--tiny f--note f--underlined",attrs:{"data-tooltip-title":"Remove this field if you do not want to update it on all selected medias","data-tooltip-theme":"default","data-tooltip-placement":"top"},on:{click:function(i){return e.removeFieldFromBulkEditing(t.name)}}},[e._v("Remove from bulk edit")]):e._e()]}))],2):e._e()],i("a17-modal",{ref:"warningDelete",staticClass:"modal--tiny modal--form modal--withintro",attrs:{title:"Warning Delete"}},[i("p",{staticClass:"modal--tiny-title"},[i("strong",[e._v("Are you sure ?")])]),i("p",[e._v(e._s(e.warningDeleteMessage))]),i("a17-inputframe",[i("a17-button",{attrs:{variant:"validate"},on:{click:e.deleteSelectedMedias}},[e._v("Delete ("+e._s(e.mediasIdsToDelete.length)+") ")]),i("a17-button",{attrs:{variant:"aslink"},on:{click:function(t){return e.$refs.warningDelete.close()}}},[i("span",[e._v("Cancel")])])],1)],1)],2)},qa=[],Ha=i("4fee"),Wa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mediasidebar__inner mediasidebar__inner--single"},[i("p",{staticClass:"f--note"},[e._v("Uploading "+e._s(e.mediasLoading.length)+" file"+e._s(e.mediasLoading.length>1?"s":""))]),i("div",{staticClass:"mediasidebar__progress"},[i("span",{staticClass:"mediasidebar__progressBar",style:e.loadingProgress})]),i("div",{staticClass:"mediasidebar__loading"},e._l(e.mediasLoading,(function(t){return i("p",{key:t.id,staticClass:"f--small",class:{"s--error":t.error}},[t.error?i("span",{staticClass:"mediasidebar__errorMessage"},[e._v(e._s(t.errorMessage))]):e._e(),i("span",[e._v(e._s(t.name))]),e._v(" "),t.error?i("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),e.cancelUpload(t)}}},[e._v("Cancel")]):e._e()])})),0)])},za=[];function Ka(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ga(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(i),!0).forEach((function(t){Ya(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ka(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Ya(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Xa={name:"A17MediaSidebarUpload",props:{selectedMedias:{default:function(){return[]}}},data:function(){return{updateInProgress:!1}},computed:Ga({loadingProgress:function(){var e=-100+this.uploadProgress;return{transform:"translateX("+e+"%)"}}},Object(pe["c"])({mediasLoading:function(e){return e.mediaLibrary.loading},uploadProgress:function(e){return e.mediaLibrary.uploadProgress}})),methods:{cancelUpload:function(e){this.$store.commit(r["h"].DONE_UPLOAD_MEDIA,e)}}},Qa=Xa,Ja=(i("e45c"),Object(l["a"])(Qa,Wa,za,!1,null,"2ae92735",null)),Za=Ja.exports,er=i("4168");function tr(e){return tr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tr(e)}function ir(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function nr(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(i),!0).forEach((function(t){ar(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ir(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ar(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}for(var rr={name:"A17MediaSidebar",components:{"a17-mediasidebar-upload":Za,"a17-langswitcher":er["a"]},props:{medias:{default:function(){return[]}},authorized:{type:Boolean,default:!1},type:{type:Object,required:!0},extraMetadatas:{type:Array,default:function(){return[]}},translatableMetadatas:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,focused:!1,previousSavedData:{},fieldsRemovedFromBulkEditing:[]}},filters:Ot["a"],watch:{medias:function(){this.fieldsRemovedFromBulkEditing=[]}},computed:nr({firstMedia:function(){return this.hasMedia?this.medias[0]:null},hasMultipleMedias:function(){return this.medias.length>1},hasSingleMedia:function(){return 1===this.medias.length},hasMedia:function(){return this.medias.length>0},isImage:function(){return"image"===this.type.value},sharedTags:function(){return this.medias.map((function(e){return e.tags})).reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))},sharedMetadata:function(){var e=this;return function(t,i){return e.hasMultipleMedias?e.medias.map((function(e){return e.metadatas.default[t]})).every((function(e,t,i){return Array.isArray(e)?e[0]==i[0]:e==i[0]}))?e.firstMedia.metadatas.default[t]:"object"===i?{}:"boolean"!==i&&"":"object"===tr(e.firstMedia.metadatas.default[t])||"boolean"===i?e.firstMedia.metadatas.default[t]:{}}},captionValues:function(){return"object"===tr(this.firstMedia.metadatas.default.caption)?this.firstMedia.metadatas.default.caption:{}},altValues:function(){return"object"===tr(this.firstMedia.metadatas.default.altText)?this.firstMedia.metadatas.default.altText:{}},mediasIds:function(){return this.medias.map((function(e){return e.id})).join(",")},mediasIdsToDelete:function(){return this.medias.filter((function(e){return e.deleteUrl})).map((function(e){return e.id}))},mediasIdsToDeleteString:function(){return this.mediasIdsToDelete.join(",")},allowDelete:function(){return this.medias.every((function(e){return e.deleteUrl}))||this.hasMultipleMedias&&!this.medias.every((function(e){return!e.deleteUrl}))},warningDeleteMessage:function(){var e=this.hasMultipleMedias?this.allowDelete?"Some files are":"This files are":"This file is";return this.allowDelete?e+" used and can't be deleted. Do you want to delete the others ?":e+" used and can't be deleted."},containerClasses:function(){return{"mediasidebar__inner--multi":this.hasMultipleMedias,"mediasidebar__inner--single":this.hasSingleMedia}},singleAndMultipleMetadatas:function(){var e=this;return this.extraMetadatas.filter((function(t){return t.multiple&&!e.translatableMetadatas.includes(t.name)}))},singleOnlyMetadatas:function(){var e=this;return this.extraMetadatas.filter((function(t){return!t.multiple||t.multiple&&e.translatableMetadatas.includes(t.name)}))}},Object(pe["c"])({mediasLoading:function(e){return e.mediaLibrary.loading}})),methods:{deleteSelectedMediasValidation:function(){var e=this;if(this.loading)return!1;this.mediasIdsToDelete.length===this.medias.length?this.$root.$refs.warningMediaLibrary?this.$root.$refs.warningMediaLibrary.open((function(){e.deleteSelectedMedias()})):this.deleteSelectedMedias():this.$refs.warningDelete.open()},deleteSelectedMedias:function(){var e=this;if(this.loading)return!1;this.loading=!0,this.hasMultipleMedias?Ua.bulkDelete(this.firstMedia.deleteBulkUrl,{ids:this.mediasIdsToDeleteString},(function(t){e.loading=!1,e.$emit("delete",e.mediasIdsToDelete),e.$refs.warningDelete.close()}),(function(t){e.$store.commit(r["j"].SET_NOTIF,{message:t.data.message,variant:"error"})})):Ua.delete(this.firstMedia.deleteUrl,(function(t){e.loading=!1,e.$emit("delete",e.mediasIdsToDelete),e.$refs.warningDelete.close()}),(function(t){e.$store.commit(r["j"].SET_NOTIF,{message:t.data.message,variant:"error"})}))},clear:function(){this.$emit("clear")},getFormData:function(e){return Object(Ha["a"])(e)},removeFieldFromBulkEditing:function(e){this.fieldsRemovedFromBulkEditing.push(e)},focus:function(){this.focused=!0},blur:function(){var e=this;this.focused=!1,this.save();var t=this.$refs.form,i=this.getFormData(t);this.hasSingleMedia?(i.hasOwnProperty("alt_text")?this.firstMedia.metadatas.default.altText=i.alt_text:this.firstMedia.metadatas.default.altText="",i.hasOwnProperty("caption")?this.firstMedia.metadatas.default.caption=i.caption:this.firstMedia.metadatas.default.caption="",this.extraMetadatas.forEach((function(t){i.hasOwnProperty(t.name)?e.firstMedia.metadatas.default[t.name]=i[t.name]:e.firstMedia.metadatas.default[t.name]=""}))):this.singleAndMultipleMetadatas.forEach((function(t){i.hasOwnProperty(t.name)&&e.medias.forEach((function(e){e.metadatas.default[t.name]=i[t.name]}))}))},save:function(){var e=this.$refs.form;if(e){var t=this.getFormData(e);ji()(t,this.previousSavedData)||this.loading||(this.previousSavedData=t,this.update(e))}},submit:function(e){e.preventDefault(),this.save()},update:function(e){var t=this;if(!this.loading){this.loading=!0;var i=this.getFormData(e);i.fieldsRemovedFromBulkEditing=this.fieldsRemovedFromBulkEditing;var n=this.hasMultipleMedias?this.firstMedia.updateBulkUrl:this.firstMedia.updateUrl;Ua.update(n,i,(function(e){t.loading=!1,e.data.tags&&t.$emit("tagUpdated",e.data.tags),t.hasMultipleMedias&&e.data.items&&t.medias.forEach((function(t){e.data.items.some((function(e){return e.id===t.id&&(t.tags=e.tags),e.id===t.id}))}))}),(function(e){t.loading=!1,e.data.message&&t.$store.commit(r["j"].SET_NOTIF,{message:e.data.message,variant:"error"})}))}}}},sr=rr,or=(i("9e7b"),Object(l["a"])(sr,Va,qa,!1,null,"5995426c",null)),lr=or.exports,cr=i("5d16"),ur=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"uploader"},[i("div",{ref:"uploaderDropzone",staticClass:"uploader__dropzone"},[i("div",{ref:"uploaderBrowseButton",staticClass:"button"},[e._v(e._s(e.$trans("uploader.upload-btn-label","Add new")))]),i("div",{staticClass:"uploader__dropzone--desktop"},[e._v(e._s(e.$trans("uploader.dropzone-text","or drop new files here")))])])])},dr=[],fr=i("c565"),hr=i.n(fr),pr=i("2b58"),mr=i.n(pr),br=i("6572"),gr=i.n(br),vr=i("03a5"),_r=i.n(vr),yr=i("6d6b"),wr=/[\/\?<>\\:\*\|":]/g,Or=/[\x00-\x1f\x80-\x9f]/g,Er=/^\.+$/,Tr=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,Cr=/[\. ]+$/,Ar=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"OE",letters:""},{base:"oe",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Dr={},Sr=0;Sr<Ar.length;Sr++)for(var Pr=Ar[Sr].letters.split(""),xr=0;xr<Pr.length;xr++)Dr[Pr[xr]]=Ar[Sr].base;function Mr(e,t,i){var n=e.replace(/[^\u0000-\u007E]/g,(function(e){return Dr[e]||e}));return i=i||"",t&&(n=n.replace(/[^\u0000-\u007E]/g,i)),n}function kr(e,t){var i=Mr(e,!0).replace(wr,t).replace(Or,t).replace(Er,t).replace(Tr,t).replace(Cr,t),n=/[^0-9a-zA-Z-.,;_]/g;return i=i.replace(n,""),yr(i,255)}var Lr=function(e,t){var i=t&&t.replacement||"",n=kr(e,i);return""===i?n:kr(n,"")};function Ir(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function jr(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(i),!0).forEach((function(t){Rr(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ir(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Rr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Nr={name:"A17Uploader",props:{type:{type:Object,required:!0}},data:function(){return{loadingMedias:[]}},computed:{uploaderConfig:function(){return this.type.uploaderConfig},uploaderValidation:function(){var e=this.uploaderConfig.allowedExtensions;return{allowedExtensions:e,acceptFiles:"."+e.join(", ."),stopOnFirstInvalidFile:!1}}},methods:{initUploader:function(){var e=this,t=this.$refs.uploaderBrowseButton,i={debug:!0,maxConnections:5,button:t,retry:{enableAuto:!1},callbacks:{onSubmit:this._onSubmitCallback.bind(this),onProgress:this._onProgressCallback.bind(this),onError:this._onErrorCallback.bind(this),onComplete:this._onCompleteCallback.bind(this),onAllComplete:this._onAllCompleteCallback.bind(this),onStatusChange:this._onStatusChangeCallback.bind(this),onTotalProgress:this._onTotalProgressCallback.bind(this)},text:{fileInputTitle:"Browse..."},messages:{retryFailTooManyItemsError:"Retry failed - you have reached your file limit.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",tooManyItemsError:"Too many items ({netItems}) would be uploaded. Item limit is {itemLimit}.",typeError:"{file} has an invalid extension. Valid extension(s): {extensions}."}};this._uploader="s3"===this.uploaderConfig.endpointType?new mr.a({options:jr({},i,{validation:jr({},this.uploaderValidation),objectProperties:{key:function(t){return e.unique_folder_name+"/"+Lr(e._uploader.methods.getName(t))},region:this.uploaderConfig.endpointRegion,bucket:this.uploaderConfig.endpointBucket,acl:this.uploaderConfig.acl},request:{endpoint:this.uploaderConfig.endpoint,accessKey:this.uploaderConfig.accessKey},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}})}):"azure"===this.uploaderConfig.endpointType?new gr.a({options:jr({},i,{validation:jr({},this.uploaderValidation),cors:{expected:!0,sendCredentials:!0},blobProperties:{name:function(t){return new Promise((function(i){i(e.unique_folder_name+"/"+Lr(e._uploader.methods.getName(t)))}))}},request:{endpoint:this.uploaderConfig.endpoint},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}})}):new _r.a({options:jr({},i,{validation:jr({},this.uploaderValidation,{sizeLimit:1048576*this.uploaderConfig.filesizeLimit}),request:{endpoint:this.uploaderConfig.endpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}})})},loadingProgress:function(e){this.$store.commit(r["h"].PROGRESS_UPLOAD_MEDIA,e)},loadingFinished:function(e,t){this.$emit("loaded",t),this.$store.commit(r["h"].DONE_UPLOAD_MEDIA,e)},loadingError:function(e){this.$store.commit(r["h"].ERROR_UPLOAD_MEDIA,e)},uploadProgress:function(e){this.$store.commit(r["h"].PROGRESS_UPLOAD,e)},_onCompleteCallback:function(e,t,i,n){var a=this,r=this.loadingMedias.findIndex((function(t){return t.id===a._uploader.methods.getUuid(e)}));i.success?this.loadingFinished(this.loadingMedias[r],i.media):this.loadingError(this.loadingMedias[r])},_onAllCompleteCallback:function(e,t){this.unique_folder_name=null,this.uploadProgress(0)},_onSubmitCallback:function(e,t){var i=this;this.$emit("clear"),this.unique_folder_name=this.unique_folder_name||this.uploaderConfig.endpointRoot+hr.a.getUniqueId(),this._uploader.methods.setParams({unique_folder_name:this.unique_folder_name},e);var n=URL.createObjectURL(this._uploader.methods.getFile(e)),a=new Image;a.onload=function(){i._uploader.methods.setParams({width:a.width,height:a.height},e)},a.src=n;var r={id:this._uploader.methods.getUuid(e),name:Lr(t),progress:0,error:!1,errorMessage:null};this.loadingMedias.push(r),this.loadingProgress(r)},_onProgressCallback:function(e,t,i,n){var a=this,r=this.loadingMedias.findIndex((function(t){return t.id===a._uploader.methods.getUuid(e)}));if(r>=0){var s=this.loadingMedias[r];s.progress=i/n*100||0,s.error=!1,this.loadingProgress(s)}},_onErrorCallback:function(e,t,i,n){var a=this,r=e?this.loadingMedias.findIndex((function(t){return t.id===a._uploader.methods.getUuid(e)})):-1;if(r>=0)this.loadingMedias[r].errorMessage=i,this.loadingError(this.loadingMedias[r]);else{var s={id:this._uploader.methods.getUuid(e),name:Lr(t),progress:0,error:!0,errorMessage:i};this.loadingMedias.push(s),this.loadingProgress(s),this.loadingError(this.loadingMedias[this.loadingMedias.length-1])}},_onStatusChangeCallback:function(e,t,i){if("retrying upload"===i){var n=this.loadingMedias.findIndex((function(t){return t.id===e}));if(n>=0){var a=this.loadingMedias[n];a.progress=0,a.error=!1,this.loadingProgress(a)}}},_onTotalProgressCallback:function(e,t){var i=Math.floor(e/t*100);this.uploadProgress(i)},_onDropError:function(e,t){console.error(e,t)},_onProcessingDroppedFilesComplete:function(e){this._uploader.methods.addFiles(e)}},watch:{type:function(){this._uploader&&this.initUploader()}},mounted:function(){this.initUploader();var e=this.$refs.uploaderDropzone;this._qqDropzone&&this._qqDropzone.dispose(),this._qqDropzone=new hr.a.DragAndDrop({dropZoneElements:[e],allowMultipleItems:!0,callbacks:{dropError:this._onDropError.bind(this),processingDroppedFilesComplete:this._onProcessingDroppedFilesComplete.bind(this)}})},beforeDestroy:function(){this._qqDropzone&&this._qqDropzone.dispose()}},Br=Nr,Fr=(i("0cee"),Object(l["a"])(Br,ur,dr,!1,null,"b690dd40",null)),$r=Fr.exports,Ur=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mediagrid"},[e._l(e.itemsLoading,(function(t,n){return i("div",{key:"mediaLoading_"+t.id,staticClass:"mediagrid__item"},[i("span",{staticClass:"mediagrid__button s--loading"},[t.error?i("span",{staticClass:"mediagrid__progressError"},[e._v("Upload Error")]):i("span",{staticClass:"mediagrid__progress"},[i("span",{staticClass:"mediagrid__progressBar",style:e.loadingProgress(n)})])])])})),e._l(e.items,(function(t){return i("div",{key:t.id,staticClass:"mediagrid__item"},[i("span",{staticClass:"mediagrid__button",class:{"s--picked":e.isSelected(t),"s--used":e.isUsed(t),"s--disabled":t.disabled},on:{click:[function(i){return i.ctrlKey||i.shiftKey||i.altKey||i.metaKey?null:e.toggleSelection(t)},function(i){return i.shiftKey?i.ctrlKey||i.altKey||i.metaKey?null:e.shiftToggleSelection(t):null}]}},[i("img",{staticClass:"mediagrid__img",attrs:{src:t.thumbnail}})])])}))],2)},Vr=[],qr=i("df63"),Hr={name:"A17Mediagrid",mixins:[qr["a"]],methods:{loadingProgress:function(e){return{width:this.itemsLoading[e].progress?this.itemsLoading[e].progress+"%":"0%"}}}},Wr=Hr,zr=(i("a9bc"),Object(l["a"])(Wr,Ur,Vr,!1,null,"38d44f02",null)),Kr=zr.exports,Gr=i("1800"),Yr=i("64e5"),Xr=i("2c83");function Qr(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Jr(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(i),!0).forEach((function(t){Zr(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Qr(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Zr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var es={name:"A17Medialibrary",components:{"a17-filter":cr["a"],"a17-mediasidebar":lr,"a17-uploader":$r,"a17-mediagrid":Kr,"a17-itemlist":Gr["a"],"a17-spinner":Yr["a"]},props:{modalTitlePrefix:{type:String,default:function(){return this.$trans("media-library.title","Media Library")}},btnLabelSingle:{type:String,default:function(){return this.$trans("media-library.insert","Insert")}},btnLabelUpdate:{type:String,default:function(){return this.$trans("media-library.update","Update")}},btnLabelMulti:{type:String,default:function(){return this.$trans("media-library.insert","Insert")}},initialPage:{type:Number,default:1},authorized:{type:Boolean,default:!1},showInsert:{type:Boolean,default:!0},extraMetadatas:{type:Array,default:function(){return[]}},translatableMetadatas:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,maxPage:20,mediaItems:[],selectedMedias:[],gridHeight:0,page:this.initialPage,tags:[],lastScrollTop:0,gridLoaded:!1}},computed:Jr({renderedMediaItems:function(){var e=this;return this.mediaItems.map((function(t){return t.disabled=e.filesizeMax>0&&t.filesizeInMb>e.filesizeMax||e.widthMin>0&&t.width<e.widthMin||e.heightMin>0&&t.height<e.heightMin,t}))},currentTypeObject:function(){var e=this;return this.types.find((function(t){return t.value===e.type}))},endpoint:function(){return this.currentTypeObject.endpoint},modalTitle:function(){return this.connector?this.indexToReplace>-1?this.modalTitlePrefix+"  "+this.btnLabelUpdate:this.selectedMedias.length>1?this.modalTitlePrefix+"  "+this.btnLabelMulti:this.modalTitlePrefix+"  "+this.btnLabelSingle:this.modalTitlePrefix},btnLabel:function(){return this.indexToReplace>-1?this.btnLabelUpdate+" "+this.type:this.selectedMedias.length>1?this.btnLabelMulti+" "+this.type+"s":this.btnLabelSingle+" "+this.type},usedMedias:function(){return this.selected[this.connector]||[]},selectedType:function(){var e=this,t=e.types.filter((function(t){return t.value===e.type}));return t[0]},canInsert:function(){var e=this;return!this.selectedMedias.some((function(t){return!!e.usedMedias.find((function(e){return e.id===t.id}))}))}},Object(pe["c"])({connector:function(e){return e.mediaLibrary.connector},max:function(e){return e.mediaLibrary.max},filesizeMax:function(e){return e.mediaLibrary.filesizeMax},widthMin:function(e){return e.mediaLibrary.widthMin},heightMin:function(e){return e.mediaLibrary.heightMin},type:function(e){return e.mediaLibrary.type},types:function(e){return e.mediaLibrary.types},strict:function(e){return e.mediaLibrary.strict},selected:function(e){return e.mediaLibrary.selected},indexToReplace:function(e){return e.mediaLibrary.indexToReplace}})),watch:{type:function(){this.clearMediaItems(),this.gridLoaded=!1}},methods:{open:function(){this.$refs.modal.open()},close:function(){this.$refs.modal.hide()},opened:function(){if(this.gridLoaded||this.reloadGrid(),this.listenScrollPosition(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){var e=this.selected[this.connector][this.indexToReplace];e&&this.selectedMedias.push(e)}},updateType:function(e){this.loading||this.strict||this.type!==e&&(this.$store.commit(r["h"].UPDATE_MEDIA_TYPE,e),this.submitFilter())},addMedia:function(e){this.mediaItems.unshift(e),this.$store.commit(r["h"].INCREMENT_MEDIA_TYPE_TOTAL,this.type),this.updateSelectedMedias(e.id)},updateSelectedMedias:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.id,a=this.selectedMedias.filter((function(e){return e.id===n}));if(0===a.length){if(1===this.max&&this.clearSelectedMedias(),this.selectedMedias.length>=this.max&&this.max>0)return;if(i&&this.selectedMedias.length>0){var r=this.selectedMedias[this.selectedMedias.length-1],s=this.mediaItems.findIndex((function(e){return e.id===r.id})),o=this.mediaItems.findIndex((function(e){return e.id===n}));if(-1===o&&-1===s)return;var l=null,c=null;s<o?(l=s+1,c=o+1):(l=o,c=s);var u=this.mediaItems.slice(l,c);u.forEach((function(e){if(!(t.selectedMedias.length>=t.max&&t.max>0)){var i=t.selectedMedias.findIndex((function(t){return t.id===e.id}));-1===i&&t.selectedMedias.push(e)}}))}else{var d=this.mediaItems.filter((function(e){return e.id===n}));d.length&&this.selectedMedias.push(d[0])}}else this.selectedMedias=this.selectedMedias.filter((function(e){return e.id!==n}))},getFormData:function(e){var t=Object(Ha["a"])(e);return t?t.page=this.page:t={page:this.page},t.type=this.type,t},clearFilters:function(){var e=this;this.$refs.filter&&(this.$refs.filter.value=null),this.$nextTick((function(){e.submitFilter()}))},clearSelectedMedias:function(){this.selectedMedias.splice(0)},deleteSelectedMedias:function(e){var t=this,i=[];e&&e.length!==this.selectedMedias.length&&(i=this.selectedMedias.filter((function(e){return!e.deleteUrl}))),e.forEach((function(){t.$store.commit(r["h"].DECREMENT_MEDIA_TYPE_TOTAL,t.type)})),this.mediaItems=this.mediaItems.filter((function(e){return!t.selectedMedias.includes(e)||i.includes(e)})),this.selectedMedias=i,this.mediaItems.length<=40&&this.reloadGrid()},clearMediaItems:function(){this.mediaItems.splice(0)},reloadGrid:function(){var e=this;this.loading=!0;var t=this.$refs.form,i=this.getFormData(t);Ua.get(this.endpoint,i,(function(t){t.data.items.forEach((function(t){e.mediaItems.find((function(e){return e.id===t.id}))||e.mediaItems.push(t)})),e.maxPage=t.data.maxPage||1,e.tags=t.data.tags||[],e.$store.commit(r["h"].UPDATE_MEDIA_TYPE_TOTAL,{type:e.type,total:t.data.total}),e.loading=!1,e.listenScrollPosition(),e.gridLoaded=!0}),(function(t){e.$store.commit(r["j"].SET_NOTIF,{message:t.data.message,variant:"error"})}))},reloadTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.tags=e},submitFilter:function(e){var t=this,i=this.$refs.list;this.page=1,this.clearMediaItems(),this.clearSelectedMedias(),0!==i.scrollTop?Object(Xr["a"])({el:i,offset:0,easing:"easeOut",onComplete:function(){t.reloadGrid()}}):t.reloadGrid()},listenScrollPosition:function(){this.$nextTick((function(){if(this.gridLoaded){var e=this.$refs.list;this.gridHeight!==e.scrollHeight&&e.addEventListener("scroll",this.scrollToPaginate)}}))},scrollToPaginate:function(){if(this.gridLoaded){var e=this.$refs.list,t=10;e.scrollTop>this.lastScrollTop&&e.scrollTop+e.offsetHeight>e.scrollHeight-t&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page?(this.page=this.page+1,this.reloadGrid()):this.gridHeight=e.scrollHeight),this.lastScrollTop=e.scrollTop}},saveAndClose:function(){this.$store.commit(r["h"].SAVE_MEDIAS,this.selectedMedias),this.close()}}},ts=es,is=(i("124c"),i("7231"),Object(l["a"])(ts,ja,Ra,!1,null,"71af4d75",null)),ns=is.exports,as=i("5f65"),rs=i.n(as),ss=i("9b02"),os=i.n(ss);function ls(e,t,i){var n=["icon"],a=t.expression||i.data.attrs.symbol,r=e;"span"===i.tag&&(r=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.appendChild(r)),n.push("icon--".concat(a)),n.forEach((function(t){e.classList.add(t)}));var s=document.createElementNS("http://www.w3.org/2000/svg","title");s.textContent=a,r.appendChild(s);var o="#icon--".concat(a),l=document.createElementNS("http://www.w3.org/2000/svg","use");l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),r.appendChild(l)}function cs(e){var t=e.querySelector("svg");t&&t.parentNode.removeChild(t);var i=e.className.split(" ").filter((function(e){return 0===e.indexOf("icon")}));i.forEach((function(t){e.classList.remove(t)}))}var us={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t={bind:function(e,t,i){ls(e,t,i)},componentUpdated:function(e,t,i,n){cs(e),ls(e,t,i)},inserted:function(e,t,i){},unbind:function(e,t,i){}};e.directive("svg",t)}};function ds(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function fs(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(i),!0).forEach((function(t){bs(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ds(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function hs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ps(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ms(e,t,i){return t&&ps(e.prototype,t),i&&ps(e,i),e}function bs(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var gs={container:!1,delay:0,html:!1,budge:15,placement:"top",theme:"default",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip__arrow"></div><div class="tooltip__inner"></div></div>',trigger:"hover focus",offset:0},vs=function(){function e(t,i){var n=this;hs(this,e),bs(this,"show",(function(){return n._show(n.reference,n.options)})),bs(this,"hide",(function(){return n._hide()})),bs(this,"dispose",(function(){return n._dispose()})),bs(this,"toggle",(function(){return n._isOpen?n.hide():n.show()})),bs(this,"innerSelector",".tooltip__inner"),bs(this,"_events",[]),bs(this,"_setTooltipNodeEvent",(function(e,t,i,a){var r=e.relatedreference||e.toElement,s=function i(r){var s=r.relatedreference||r.toElement;n._tooltipNode.removeEventListener(e.type,i),t.contains(s)||n._scheduleHide(t,a.delay,a,r)};return!!n._tooltipNode.contains(r)&&(n._tooltipNode.addEventListener(e.type,s),!0)})),i=fs({},gs,{},i),this.reference=t,this.options=i;var a="string"===typeof i.trigger?i.trigger.split(" ").filter((function(e){return-1!==["click","hover","focus"].indexOf(e)})):[];this._isOpen=!1,this._setEventListeners(t,a,i)}return ms(e,[{key:"_create",value:function(e,t,i,n,a){if(this._tooltipNode)return this;var r=window.document.createElement("div");r.innerHTML=t.trim();var s=r.childNodes[0];s.id="tooltip--".concat(Math.random().toString(36).substr(2,10)),s.setAttribute("aria-hidden","false"),s.classList.add("tooltip--"+i);var o=r.querySelector(this.innerSelector);return 1===n.nodeType?a&&o.appendChild(n):a?o.innerHTML=n:o.innerText=n,s}},{key:"_position",value:function(e,t,i){var n=0,a=0,r=t,s=e.getBoundingClientRect();this._tooltipNode.classList.remove("tooltip--"+r);var o=Math.round(s.top-this._tooltipNode.offsetHeight-i),l=Math.round(s.top+s.height/2-this._tooltipNode.offsetHeight/2),c=Math.round(s.left+s.width+i),u=Math.round(s.top+s.height+i),d=Math.round(s.left-this._tooltipNode.offsetWidth-i),f=Math.round(s.left+s.width/2-this._tooltipNode.offsetWidth/2);"top"===t&&(n=f,a=o,r="top",n<10&&(n=10),a<0&&(a=u,r="bottom")),"top-right"===t&&(n=c,a=o,r="top",a<0&&(a=u,r="bottom")),"bottom"===t&&(n=f,a=u,r="bottom",n<10&&(n=10),a>0&&(a=o,r="top")),"right"===t&&(n=c,a=l,r="right"),"left"===t&&(n=d,a=l,r="left",n<0&&(n=c,r="right")),this._tooltipNode.style.left=n+"px",this._tooltipNode.style.top=a+"px",this._tooltipNode.classList.add("tooltip--"+r)}},{key:"_show",value:function(e,t){if(this._isOpen&&!this._isOpening)return this;this._isOpen=!0;var i=e.getAttribute("data-tooltip-budge")||t.budge,n=e.getAttribute("data-tooltip-theme")||t.theme,a=e.getAttribute("data-tooltip-placement")||t.placement;if(this._tooltipNode)return this._tooltipNode.style.opacity="",this._tooltipNode.style.visibility="",this._tooltipNode.style.transition="opacity 0.3s",this._tooltipNode.setAttribute("aria-hidden","false"),this._position(e,a,i),this;var r=e.getAttribute("data-tooltip-title")||t.title,s=this._create(e,t.template,n,r,t.html);e.setAttribute("aria-describedby",s.id);var o=this._findContainer(t.container,e);return this._append(s,o),this._tooltipNode=s,this._position(e,a,i),this}},{key:"_hide",value:function(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.opacity="0",this._tooltipNode.style.visibility="hidden",this._tooltipNode.style.transition="",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}},{key:"_dispose",value:function(){var e=this;return this._events.length&&(this._events.forEach((function(t){var i=t.func,n=t.event;e.reference.removeEventListener(n,i)})),this._events=[]),this._tooltipNode&&(this._hide(),this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null),this}},{key:"_findContainer",value:function(e,t){return"string"===typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e}},{key:"_append",value:function(e,t){t.appendChild(e)}},{key:"_setEventListeners",value:function(e,t,i){var n=this,a=[],r=[];t.forEach((function(e){switch(e){case"hover":a.push("mouseenter"),r.push("mouseleave");break;case"focus":a.push("focus"),r.push("blur");break;case"click":a.push("click"),r.push("click");break}})),a.forEach((function(t){var a=function(t){!0!==n._isOpening&&(t.usedByTooltip=!0,n._scheduleShow(e,i.delay,i,t))};n._events.push({event:t,func:a}),e.addEventListener(t,a)})),r.forEach((function(t){var a=function(t){!0!==t.usedByTooltip&&n._scheduleHide(e,i.delay,i,t)};n._events.push({event:t,func:a}),e.addEventListener(t,a)}))}},{key:"_scheduleShow",value:function(e,t,i){var n=this;this._isOpening=!0;var a=t&&t.show||t||0;a>0?window.setTimeout((function(){return n._show(e,i)}),a):this._show(e,i)}},{key:"_scheduleHide",value:function(e,t,i,n){var a=this;this._isOpening=!1;var r=t&&t.hide||t||0;window.setTimeout((function(){if(!1!==a._isOpen&&document.body.contains(a._tooltipNode)){if("mouseleave"===n.type){var r=a._setTooltipNodeEvent(n,e,t,i);if(r)return}a._hide()}}),r)}}]),e}(),_s={},ys={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t={options:_s,bind:function(e,i,n){if(!e._tooltip){var a=e._tooltip=new vs(e,t.options);a._vueEl=e}},componentUpdated:function(e,i,n,a){if(e._tooltip){e._tooltip.dispose();var r=e._tooltip=new vs(e,t.options);r._vueEl=e}},inserted:function(e,t,i){},unbind:function(e,t,i){e._tooltip&&e._tooltip.dispose()}};e.directive("tooltip",t)}};function ws(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Os(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(i),!0).forEach((function(t){As(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ws(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Es(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ts(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cs(e,t,i){return t&&Ts(e.prototype,t),i&&Ts(e,i),e}function As(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ds={target:"data-sticky-target",toptarget:"data-sticky-top",classContainer:"sticky",classFixed:"sticky__fixed",classAbs:"sticky__abs",classEnd:"sticky__scrolled",topOffset:0,offset:20},Ss=function(){function e(t,i){var n=this;Es(this,e),As(this,"refresh",(function(){return n._refresh()})),As(this,"dispose",(function(){return n._dispose()})),As(this,"status","top"),As(this,"ticking",!1),As(this,"anchors",["Top","Bottom"]),As(this,"lastScrollPos",0),As(this,"prevScrollPos",-1),i=Os({},Ds,{},i),this.target=null,this.toptarget=null,this.container=t,this.containerID=this.container.getAttribute("data-sticky-id"),this.options=i,this.options.target&&(this.target=this.container.querySelector("["+this.options.target+'="'+this.containerID+'"]')),this.options.toptarget&&(this.toptarget=this.container.querySelector("["+this.options.toptarget+'="'+this.containerID+'"]')),this.topMargin=this.container.hasAttribute("data-sticky-offset")?parseInt(this.container.getAttribute("data-sticky-offset")):this.options.offset,this.topOffset=this.container.hasAttribute("data-sticky-topoffset")?parseInt(this.container.getAttribute("data-sticky-topoffset")):this.options.topOffset,t.classList.add(this.options.classContainer),this._setEventListeners(),this._refresh()}return Cs(e,[{key:"_refresh",value:function(){if(!this.target)return!1;var e=this.lastScrollPos,t=this.target.offsetHeight,i=this.container.offsetHeight,n=t+this.topMargin<window.innerHeight?0:1,a=this.toptarget?this.toptarget.getBoundingClientRect().top+this.topOffset:this.container.getBoundingClientRect().top+this.topOffset,r=a+i-t;return a=a-this.topMargin+Math.max(0,t+this.topMargin-window.innerHeight)+e,this.toptarget&&(r=a+i-t-Math.max(0,this.toptarget.getBoundingClientRect().top-this.container.getBoundingClientRect().top)),this.target.offsetHeight<i&&("top"!==this.status&&e<a&&(this._removePositionClass(),this.status="top"),"scrolling"!==this.status&&e>=a&&e<r&&(this._removePositionClass(),this.target.classList.add(this.options.classFixed+this.anchors[n]),this.status="scrolling"),"bottom"!==this.status&&e>=r&&(this._removePositionClass(),this.target.classList.add(this.options.classAbs),this.status="bottom"),e+window.innerHeight>=this.container.getBoundingClientRect().top+e+i?this.target.classList.add(this.options.classEnd):this.target.classList.remove(this.options.classEnd)),this}},{key:"_removePositionClass",value:function(){for(var e=0;e<this.anchors.length;e++)this.target.classList.remove(this.options.classFixed+this.anchors[e]);this.target.classList.remove(this.options.classAbs)}},{key:"_scroll",value:function(){var e=this;return e.lastScrollPos=window.pageYOffset,e.ticking||window.requestAnimationFrame((function(){e._refresh(),e.prevScrollPos=e.lastScrollPos,e.ticking=!1})),e.ticking=!0,this}},{key:"_resize",value:function(){return this.lastScrollPos=window.pageYOffset,this.status="",this._refresh(),this}},{key:"_dispose",value:function(){var e=this;return window.removeEventListener("scroll",(function(){return e._scroll()})),window.removeEventListener("resize",(function(){return e._resize()})),this}},{key:"_setEventListeners",value:function(){var e=this;window.addEventListener("scroll",(function(){return e._scroll()})),window.addEventListener("resize",(function(){return e._resize()})),this._resize()}}]),e}(),Ps={},xs={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t={options:Ps,bind:function(e,i,n){var a=e._sticky=new Ss(e,t.options);a._vueEl=e},componentUpdated:function(e,t,i){e._sticky.refresh()},inserted:function(e,t,i){},unbind:function(e,t,i){e._sticky.dispose()}};e.directive("sticky",t)}},Ms=!0,ks={install:function(e,t){e.component("a17-button",u),e.component("a17-infotip",b),e.component("a17-slideshow",Gn),e.component("a17-browserfield",ca),e.component("a17-textfield",re),e.component("a17-hiddenfield",de),e.component("a17-wysiwyg",Ze),e.component("a17-wysiwyg-tiptap",gt),e.component("a17-inputframe",j),e.component("a17-mediafield",ti),e.component("a17-mediafield-translated",oi),e.component("a17-radio",hi),e.component("a17-radiogroup",_i),e.component("a17-checkbox",Ci),e.component("a17-singlecheckbox",Mi),e.component("a17-checkboxgroup",$i),e.component("a17-multiselect",zi),e.component("a17-singleselect",Ji),e.component("a17-select",S),e.component("a17-vselect",P["a"]),e.component("a17-locale",vn),e.component("a17-dropdown",Zi["a"]),e.component("a17-buttonbar",sn),e.component("a17-modal",xn),e.component("a17-dialog",Rn),e.component("a17-datepicker",Ia),e.component("a17-filefield",Aa),e.component("a17-colorfield",Q),e.component("a17-medialibrary",ns),e.mixin({methods:{openFreeMediaLibrary:function(){this.$store.commit(r["h"].UPDATE_MEDIA_CONNECTOR,null),this.$store.commit(r["h"].RESET_MEDIA_TYPE),this.$store.commit(r["h"].UPDATE_REPLACE_INDEX,-1),this.$store.commit(r["h"].UPDATE_MEDIA_MAX,0),this.$store.commit(r["h"].UPDATE_MEDIA_FILESIZE_MAX,0),this.$store.commit(r["h"].UPDATE_MEDIA_WIDTH_MIN,0),this.$store.commit(r["h"].UPDATE_MEDIA_HEIGHT_MIN,0),this.$store.commit(r["h"].UPDATE_MEDIA_MODE,!1),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}}),e.config.productionTip=Ms,e.config.devtools=!0,e.prototype.$http=Ba.a,window.$trans=e.prototype.$trans=function(e,t){return os()(window["TWILL"].twillLocalization.lang,e,t)},Ba.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",e.use(rs.a,{name:"timeago",locale:"en-US",locales:{"en-US":i("fd77")}}),e.use(us),e.use(ys),e.use(xs)}};t["a"]=ks},"2ec1":function(e,t,i){},"32c4":function(e,t,i){},3417:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return m})),i.d(t,"c",(function(){return b["a"]})),i.d(t,"d",(function(){return g["a"]})),i.d(t,"e",(function(){return v})),i.d(t,"f",(function(){return _}));i("ed28"),i("f0f8"),i("3a52"),i("1249"),i("605f");var n=i("2f62"),a=i("0429"),r=i("f1af");function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var c={props:{nested:{type:Boolean,default:!1},bulkeditable:{type:Boolean,default:!0},emptyMessage:{type:String,default:""}},computed:o({rows:{get:function(){return this.$store.state.datatable.data},set:function(e){var t=this.rows.length!==e.length;this.$store.commit(a["e"].UPDATE_DATATABLE_DATA,e),this.saveNewTree(t)}},isEmpty:function(){return this.rows.length<=0},isEmptyDatable:function(){return{"datatable__table--empty":this.isEmpty}}},Object(n["c"])({columns:function(e){return e.datatable.columns}}),{},Object(n["b"])(["visibleColumns","hideableColumns","visibleColumnsNames"])),methods:{saveNewTree:function(e){var t=this,i=!!e||this.nested,n=i?r["a"].SET_DATATABLE_NESTED:r["a"].SET_DATATABLE,s=function(){t.$store.commit(a["e"].UPDATE_DATATABLE_TRACKER,0),t.$store.dispatch(n)};e?(this.$store.commit(a["e"].UPDATE_DATATABLE_TRACKER,1),this.updateTracker>=2&&s()):s()}}},u=i("22f7"),d=i("98d2");function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var m={props:{index:{type:Number,default:0},row:{type:Object,default:function(){return{}}},columns:{type:Array,default:function(){return[]}}},computed:h({editInModal:function(){return!!this.row.hasOwnProperty("editInModal")&&this.row.editInModal},editUrl:function(){return this.row.hasOwnProperty("edit")?this.row.edit:"#"},updateUrl:function(){return this.row.updateUrl?this.row.updateUrl:"#"}},Object(n["c"])({bulkIds:function(e){return e.datatable.bulk}})),methods:{currentComponent:function(e){return d["b"]+e.toLowerCase()},currentComponentProps:function(e){var t={col:e||{},row:this.row,editUrl:this.editUrl,editInModal:Boolean(this.editInModal)};if(!e)return t;switch(e.name){case"bulk":t.value=this.row.id,t.initialValue=this.bulkIds;break;case"languages":t.languages=this.row.hasOwnProperty("languages")?this.row.languages:[],t.editUrl=this.editUrl;break;case"publish_start_date":t.startDate="",t.endDate="",t.textExpired="Expired",t.textScheduled="Scheduled";break;default:break}return t},editInPlace:function(e){var t=this;if(e.lang){var i=e.lang;this.$store.commit(a["g"].UPDATE_LANG,i.value)}if(this.editInModal){var n=this.editInModal;this.$store.commit(a["i"].UPDATE_MODAL_MODE,"update"),this.$store.commit(a["i"].UPDATE_MODAL_ACTION,this.updateUrl),this.$store.commit(a["f"].UPDATE_FORM_LOADING,!0),this.$store.dispatch(r["a"].REPLACE_FORM,n).then((function(){t.$nextTick((function(){this.$root.$refs.editionModal&&this.$root.$refs.editionModal.open()}))}),(function(e){t.$store.commit(u["a"].SET_NOTIF,{message:"Your content can not be edited, please retry",variant:"error"})}))}},cellClasses:function(e,t){var i;return i={},p(i,t+"--icon","featured"===e.name||"published"===e.name),p(i,t+"--bulk","bulk"===e.name),p(i,t+"--thumb","thumbnail"===e.name),p(i,t+"--draggable","draggable"===e.name),p(i,t+"--languages","languages"===e.name),p(i,t+"--nested","nested"===e.name),p(i,t+"--nested--parent","nested"===e.name&&0===this.nestedDepth),p(i,t+"--name","name"===e.name),i},isSpecificColumn:function(e){return d["c"].includes(e.name)},tableCellUpdate:function(e){switch(e.col){case"published":this.togglePublish(e.row);break;case"bulk":this.toggleBulk(e.row);break;case"featured":this.toggleFeatured(e.row);break}},toggleFeatured:function(e){e.hasOwnProperty("deleted")?this.$store.commit(u["a"].SET_NOTIF,{message:"You cant feature/unfeature a deleted item, please restore it first.",variant:"error"}):this.$store.dispatch(r["a"].TOGGLE_FEATURE,e)},toggleBulk:function(e){this.$store.commit(a["e"].UPDATE_DATATABLE_BULK,e.id)},togglePublish:function(e){e.hasOwnProperty("deleted")?this.$store.commit(u["a"].SET_NOTIF,{message:"You cant publish/unpublish a deleted item, please restore it first.",variant:"error"}):this.$store.dispatch(r["a"].TOGGLE_PUBLISH,e)},restoreRow:function(e){this.$store.dispatch(r["a"].RESTORE_ROW,e)},destroyRow:function(e){var t=this;this.$root.$refs.warningDestroyRow?this.$root.$refs.warningDestroyRow.open((function(){t.$store.dispatch(r["a"].DESTROY_ROW,e)})):this.$store.dispatch(r["a"].DESTROY_ROW,e)},deleteRow:function(e){var t=this;this.$root.$refs.warningDeleteRow?this.$root.$refs.warningDeleteRow.open((function(){t.$store.dispatch(r["a"].DELETE_ROW,e)})):this.$store.dispatch(r["a"].DELETE_ROW,e)},duplicateRow:function(e){this.$store.dispatch(r["a"].DUPLICATE_ROW,e)}}},b=i("5420"),g=(i("159c"),i("4868")),v=(i("67ff"),i("da6f"),i("f03e"),i("7d9f"),i("df63"),i("1a8d"),{props:{nested:{type:Boolean,default:!1},maxDepth:{type:Number,default:1},depth:{type:Number,default:0},name:{type:String,default:"group1"},parentId:{type:Number,default:-1}},data:function(){return{currentElDepth:void 0}},computed:{updateTracker:function(){return this.$store.state.datatable.updateTracker},draggableGetComponentData:function(){return{props:{depth:this.depth}}}}}),_=(i("825f"),{props:{col:{type:Object,default:function(){}},row:{type:Object,default:function(){}},editUrl:{type:String,default:"#"},editInModal:{type:Boolean,default:!1}},computed:{colName:function(){return this.col.hasOwnProperty("name")?this.col.name:""}},methods:{update:function(){this.$emit("update",{row:this.row,col:this.colName})},preventEditInPlace:function(e){this.editInModal&&e.preventDefault(),this.editInPlace()},editInPlace:function(e,t){this.$emit("editInPlace",{event:e,lang:t})},restoreRow:function(){this.$emit("restoreRow",this.row)},destroyRow:function(){this.$emit("destroyRow",this.row)},deleteRow:function(){this.$emit("deleteRow",this.row)},duplicateRow:function(){this.$emit("duplicateRow",this.row)}}});i("5a57")},"34a6":function(e,t,i){},"36a7":function(e,t,i){"use strict";var n=i("61f4"),a=i.n(n);a.a},"38a4":function(e,t,i){},"38c2":function(e,t,i){"use strict";var n,a=i("a026"),r=i("0429");function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o={connector:null,title:"Attach related resources",endpoint:"",endpointName:"",endpoints:[],max:0,selected:window["TWILL"].STORE.browser.selected||{}},l={selectedItemsByIds:function(e){var t=[];for(var i in e.selected)t[i]=e.selected[i].map((function(e){return"".concat(e.endpointType,"_").concat(e.id)}));return t}},c=(n={},s(n,r["b"].SAVE_ITEMS,(function(e,t){if(e.connector)if(e.selected[e.connector]&&e.selected[e.connector].length)e.selected[e.connector]=t;else{var i={};i[e.connector]=t,e.selected=Object.assign({},e.selected,i)}})),s(n,r["b"].DESTROY_ITEMS,(function(e,t){e.selected[t.name]&&a["a"].delete(e.selected,t.name)})),s(n,r["b"].DESTROY_ITEM,(function(e,t){e.selected[t.name]&&(e.selected[t.name].splice(t.index,1),0===e.selected[t.name].length&&a["a"].delete(e.selected,t.name),e.connector=null)})),s(n,r["b"].REORDER_ITEMS,(function(e,t){var i={};i[t.name]=t.items,e.selected=Object.assign({},e.selected,i)})),s(n,r["b"].UPDATE_BROWSER_MAX,(function(e,t){e.max=Math.max(0,t)})),s(n,r["b"].UPDATE_BROWSER_CONNECTOR,(function(e,t){t&&""!==t&&(e.connector=t)})),s(n,r["b"].UPDATE_BROWSER_TITLE,(function(e,t){t&&""!==t&&(e.title=t)})),s(n,r["b"].DESTROY_BROWSER_CONNECTOR,(function(e){e.connector=null})),s(n,r["b"].UPDATE_BROWSER_ENDPOINT,(function(e,t){t&&""!==t&&(e.endpoint=t.value,e.endpointName=t.label||"")})),s(n,r["b"].DESTROY_BROWSER_ENDPOINT,(function(e){e.endpoint="",e.endpointName=""})),s(n,r["b"].UPDATE_BROWSER_ENDPOINTS,(function(e,t){!t&&!t.length>0||(e.endpoints=t,e.endpoint=t[0].value,e.endpointName=t[0].label)})),s(n,r["b"].DESTROY_BROWSER_ENDPOINTS,(function(e){e.endpoints=[]})),n);t["a"]={state:o,getters:l,mutations:c}},"398d":function(e,t,i){},"3a52":function(e,t,i){"use strict";t["a"]={props:{buckets:{type:Array,default:function(){return[]}},item:{type:Object},singleBucket:{type:Boolean,default:!0}},computed:{bucketClasses:function(){return{selected:"bucket"!==this.type&&this.inBuckets,single:this.singleBucket}}},methods:{addToBucket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bucket;this.$emit("add-to-bucket",this.item,e)},inBucketById:function(e){var t=this,i=this.buckets.findIndex((function(t){return t.id===e}));if(-1!==i){var n=this.buckets[i].children.find((function(e){return e.id===t.item.id&&e.content_type.value===t.item.content_type.value}));return!!n}},restrictedBySource:function(e){var t=this.buckets.find((function(t){return t.id===e}));if(!t)return!1;if(!t.hasOwnProperty("acceptedSources"))return!0;if(0===t.acceptedSources.length)return!0;var i=this.item.content_type.value;return-1!==t.acceptedSources.findIndex((function(e){return e===i}))}}}},"3b37":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.languages.length>1?i("div",{staticClass:"languageManager"},[i("div",{staticClass:"languageManager__switcher"},[i("a17-langswitcher",{attrs:{"in-modal":!0}})],1),i("a17-dropdown",{ref:"languageManagerDropdown",staticClass:"languageManager__dropdown",attrs:{position:"bottom-right",clickable:!0}},[i("button",{staticClass:"languageManager__button",attrs:{type:"button"},on:{click:function(t){return e.$refs.languageManagerDropdown.toggle()}}},[e._v(" "+e._s(e.currentValue.length)+" Live "),i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]),i("div",{staticClass:"languageManager__dropdown-content",attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[i("a17-checkboxgroup",{attrs:{name:"langManager",options:e.languages,selected:e.currentValue,min:1},on:{change:e.changeValue}})],1)])],1):e._e()},a=[],r=i("4168"),s=i("5a57"),o=i("7d9f"),l=i("2f62"),c=i("0429");function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){f(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var h={name:"A17LangManager",mixins:[s["a"],o["a"]],components:{"a17-langswitcher":r["a"]},props:{value:{default:function(){return[]}}},computed:d({currentValue:{get:function(){var e=[];return this.publishedLanguages.length&&this.publishedLanguages.forEach((function(t){e.push(t.value)})),e}}},Object(l["c"])({languages:function(e){return e.language.all}}),{},Object(l["b"])(["publishedLanguages"])),methods:{changeValue:function(e){this.$store.commit(c["g"].PUBLISH_LANG,e)}}},p=h,m=(i("7237"),i("2877")),b=Object(m["a"])(p,n,a,!1,null,"2f8e84f8",null);t["a"]=b.exports},"3c2e":function(e,t,i){"use strict";var n=i("0e7b"),a=i.n(n);a.a},4086:function(e,t,i){"use strict";var n=i("ba26"),a=i.n(n);a.a},4168:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.languages.length>1?i("div",{staticClass:"language",class:e.languageClass},[e.inModal?e._e():i("span",{staticClass:"language__label f--small"},[e._v("Edit in")]),i("span",{staticClass:"language__toolbar"},e._l(e.languages,(function(t){return i("button",{key:t.value,staticClass:"language__button",class:{selected:t.value===e.localeValue.value,published:t.published,"no-state":e.allPublished},attrs:{type:"button"},on:{click:function(i){return e.onClick(t.value)}}},[e._v(e._s(t.shortlabel))])})),0)]):e._e()},a=[],r=i("7d9f"),s=i("2f62"),o=i("0429");function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){u(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d={name:"A17Langswitcher",mixins:[r["a"]],props:{inModal:{type:Boolean,default:!1},toggleOnClick:{type:Boolean,default:!1},allPublished:{type:Boolean,default:!1}},computed:c({languageClass:function(){return{"language--in-modal":this.inModal}},localeValue:function(){return this.$store.state.language.active}},Object(s["b"])(["publishedLanguages"])),methods:{onClick:function(e){this.$store.commit(o["g"].UPDATE_LANG,e)}}},f=d,h=(i("7822"),i("2877")),p=Object(h["a"])(f,n,a,!1,null,"572c6188",null);t["a"]=p.exports},4283:function(e,t,i){},"42bd":function(e,t,i){"use strict";var n=i("ac00"),a=i.n(n);a.a},"442c":function(e,t,i){},"453b":function(e,t,i){"use strict";var n=i("63da"),a=i.n(n);a.a},"45b6":function(e,t,i){"use strict";var n=i("2ec1"),a=i.n(n);a.a},"45e0":function(e,t,i){},4828:function(e,t,i){"use strict";var n=i("7873"),a=i.n(n);a.a},4868:function(e,t,i){"use strict";var n=i("2f62"),a=i("0429"),r=i("4e53");function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t["a"]={filters:r["a"],computed:o({},Object(n["c"])({currentLocale:function(e){return e.language.active}})),methods:{formatPermalink:function(e){var t=this.$refs.permalink;if(t&&e){var i="";e.value&&"string"===typeof e.value?i=e.value:"string"===typeof e&&(i=e);var n=this.$options.filters.slugify(i),r={name:t.attributes?t.attributes.name:t.name,value:n};e.locale?r.locale=e.locale:r.locale=this.currentLocale.value,this.$store.commit(a["f"].UPDATE_FORM_FIELD,r)}}}}},"4e53":function(e,t,i){"use strict";var n=i("70f2"),a=i.n(n),r={slugify:function(e){var t={",":"-","/":"-",":":"-",";":"-",_:"-","":"(c)","":"-","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"a","":"a","":"a","":"c","":"c","":"d","":"e","":"e","":"e","":"g","":"g","":"i","":"i","":"k","":"l","":"l","":"n","":"n","":"n","":"o","":"oe","":"r","":"r","":"s","":"s","":"s","":"t","":"u","":"u","":"u","":"z","":"z","":"z","":"u","":"g","":"n","":"s","":"t","":"i","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"","":"y","":"","":"e","":"yu","":"ya","":"yo","":"ye","":"i","":"yi","":"g","":"h","":"m","":"p","":"w","":"x","":"a","":"g","":"q","":"n","":"o","":"u"},i=new RegExp(Object.keys(t).join("|"),"g");return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(i,(function(e){return t[e]})).replace(/&/g,"-and-").replace(/[^\w-]+/g,"-").replace(/--+/g,"-").replace(/(^-+)|(-+$)/,"")},prettierUrl:function(e){return e.replace(/^\/\/|^.*?:(\/\/)?/,"")},uppercase:function(e){return e||0===e?e.toString().toUpperCase():""},lowercase:function(e){return e||0===e?e.toString().toLowerCase():""},capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""},formatDate:function(e){return e?a()(e,"MMM, DD, YYYY, hh:mm A"):""},formatDatatableDate:function(e){var t="MMM DD, YYYY";return e||(e=new Date),a()(e,t)},formatCalendarDate:function(e){var t="MMM, DD, YYYY, hh:mm A";return e||(e=new Date),a()(e,t)}};t["a"]=r},"4fcf":function(e,t,i){},"4fee":function(e,t,i){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t["a"]=function(e){var t=null,i=!1,a=/[^\[\]]+|\[\]/g,r=null,s=[];function o(e){return!(!e||"object"!==n(e)||!("nodeType"in e)||1!==e.nodeType)}function l(e){if(e&&"object"===n(e))return Object.keys(e).filter((function(e){return!isNaN(parseInt(e,10))})).splice(-1)[0]}function c(e){var t=l(e);return"string"===typeof t?parseInt(t,10):0}function u(e){var t=l(e);return"string"===typeof t?parseInt(t,10)+1:0}function d(e){if("object"!==n(e)||null===e)return 0;var t,i=0;if("function"===typeof Object.keys)i=Object.keys(e).length;else for(t in e)e.hasOwnProperty(t)&&i++;return i}function f(e,t){if([].forEach)return[].forEach.call(e,t);var i;for(i=0;i<e.length;i++)t.call(e,e[i],i)}function h(e){return!!e&&(t=e,!!p()&&(!!b()&&P()))}function p(){switch(n(t)){case"string":r=document.getElementById(t);break;case"object":o(t)&&(r=t);break}return r}function m(){return!(!r.enctype||"multipart/form-data"!==r.enctype)}function b(){return s=r.querySelectorAll("input, textarea, select"),s.length}function g(e){return"INPUT"===e.nodeName&&"radio"===e.type}function v(e){return"INPUT"===e.nodeName&&"checkbox"===e.type}function _(e){return"INPUT"===e.nodeName&&"file"===e.type}function y(e){return"TEXTAREA"===e.nodeName}function w(e){return"SELECT"===e.nodeName&&"select-one"===e.type}function O(e){return"SELECT"===e.nodeName&&"select-multiple"===e.type}function E(e){return"BUTTON"===e.nodeName&&"submit"===e.type}function T(e){return e.checked}function C(e){return window.FileList&&e.files instanceof window.FileList}function A(e){if(g(e))return!!T(e)&&e.value;if(v(e))return!!T(e)&&e.value;if(_(e))return!!m()&&(C(e)&&e.files.length>0?e.files:!(!e.value||""===e.value)&&e.value);if(y(e))return!(!e.value||""===e.value)&&e.value;if(w(e))return e.value&&""!==e.value?e.value:!(!e.options||!e.options.length||""===e.options[0].value)&&e.options[0].value;if(O(e)){if(e.options&&e.options.length>0){var t=[];return f(e.options,(function(e){e.selected&&t.push(e.value)})),(i||!!t.length)&&t}return!1}return E(e)?e.value&&""!==e.value?e.value:!(!e.innerText||""===e.innerText)&&e.innerText:"undefined"!==typeof e.value&&((i||""!==e.value)&&e.value)}function D(e,t,i,n){var a=t[0];if(g(e))return!1!==i?(n[a]=i,i):void 0;if(v(e))return!1!==i?(n[a]||(n[a]=[]),n[a].push(i)):void 0;if(O(e)){if(!1===i)return;n[a]=i}return n[a]=i,i}function S(e,t,i,n){var a=t[0];return t.length>1?"[]"===a?(n[u(n)]={},S(e,t.splice(1,t.length),i,n[c(n)])):(n[a]&&d(n[a])>0||(n[a]={}),S(e,t.splice(1,t.length),i,n[a])):1===t.length?"[]"===a?(n[u(n)]=i,n):(D(e,t,i,n),n):void 0}function P(){var e,t,n,r=0,o={};for(r=0;r<s.length;r++)t=s[r],!t.name||""===t.name||t.disabled||g(t)&&!T(t)||(n=A(t),(!1!==n||i)&&(e=t.name.match(a),1===e.length&&D(t,e,n||"",o),e.length>1&&S(t,e,n||"",o)));var l=d(o);return l>0&&o}return h(e)}},5420:function(e,t,i){"use strict";t["a"]={props:{draggable:{type:Boolean,default:!0}},data:function(){return{animation:150,handle:".drag__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",scrollSensitivity:30}},computed:{dragOptions:function(){return{animation:this.animation,handle:this.handle,ghostClass:this.ghostClass,chosenClass:this.chosenClass,dragClass:this.dragClass,scrollSensitivity:this.scrollSensitivity,disabled:!this.draggable}}}}},"54d3":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"move_down_notif"}},[e.show?i("div",{class:e.notifClasses,attrs:{role:"alert","aria-live":"polite","aria-atomic":"true"}},[i("div",{staticClass:"notif__inner"},[e.important?e._e():i("button",{staticClass:"notif__close",attrs:{type:"button","data-dismiss":"alert","aria-label":"alertClose"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.closeNotif(t)}}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_modal"}})]),i("span",{domProps:{innerHTML:e._s(e.message)}})])]):e._e()])},a=[],r=i("0429");function s(e){return c(e)||l(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}var u={name:"A17Notification",props:{variant:{type:String,default:"success"},duration:{type:Number,default:3e3},important:{type:Boolean,default:!0},autoHide:{type:Boolean,default:!0}},data:function(){return{closed:!1,timer:null,css:"notif"}},computed:{message:function(){return this.$store.getters.notifByVariant(this.variant)},variantClass:function(){return"notif--".concat(this.variant)},notifClasses:function(){return this.css&&Array.isArray(this.css)?[].concat(s(this.css),[this.variantClass]):["notif",this.variantClass]},show:function(){return!this.closed&&!!this.message}},methods:{closeNotif:function(){this.closed=!0,this.clearNotification(),this.timer&&(clearTimeout(this.timer),this.timer=null)},clearNotification:function(){this.$store.commit(r["j"].CLEAR_NOTIF,this.variant)},autoClose:function(){var e=this;null===this.timer&&(this.timer=setTimeout((function(){e.closeNotif()}),this.duration))}},watch:{message:function(){this.message&&(this.closed=!1,this.autoHide&&this.autoClose())}}},d=u,f=i("2877"),h=Object(f["a"])(d,n,a,!1,null,null,null),p=h.exports,m={install:function(e,t){e.mixin({methods:{notif:function(e){this.$store.commit(r["j"].SET_NOTIF,e)}}}),e.component("a17-notif",p)}};t["a"]=m},5589:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return l})),i.d(t,"b",(function(){return h})),i.d(t,"e",(function(){return y})),i.d(t,"f",(function(){return w}));var n="updateMediaTypeTotal",a="incrementMediaTypeTotal",r="decrementMediaTypeTotal",s="saveSelectedMedias",o="destroySelectedMedias",l="reorderSelectedMedias",c="progressUpload",u="progressUploadMedia",d="doneUploadMedia",f="errorUploadMedia",h="destroyMediasInSelected",p="updateMediaMax",m="updateMediaFilesizeMax",b="updateMediaWidthMin",g="updateMediaHeightMin",v="updateMediaType",_="resetMediaType",y="setMediaCrop",w="setMediaMetadatas",O="updateMediaConnector",E="updateMediaMode",T="destroyMediaConnector",C="updateReplaceIndex";t["g"]={UPDATE_MEDIA_TYPE_TOTAL:n,INCREMENT_MEDIA_TYPE_TOTAL:a,DECREMENT_MEDIA_TYPE_TOTAL:r,SAVE_MEDIAS:s,DESTROY_MEDIAS:o,REORDER_MEDIAS:l,PROGRESS_UPLOAD:c,PROGRESS_UPLOAD_MEDIA:u,DONE_UPLOAD_MEDIA:d,ERROR_UPLOAD_MEDIA:f,DESTROY_SPECIFIC_MEDIA:h,UPDATE_MEDIA_MAX:p,UPDATE_MEDIA_FILESIZE_MAX:m,UPDATE_MEDIA_WIDTH_MIN:b,UPDATE_MEDIA_HEIGHT_MIN:g,UPDATE_MEDIA_TYPE:v,RESET_MEDIA_TYPE:_,SET_MEDIA_CROP:y,SET_MEDIA_METADATAS:w,UPDATE_MEDIA_CONNECTOR:O,UPDATE_MEDIA_MODE:E,DESTROY_MEDIA_CONNECTOR:T,UPDATE_REPLACE_INDEX:C}},"55d2":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"paginate"},[i("p",{staticClass:"paginate__offset  f--small"},[e._v("Rows per page: "),i("a17-dropdown",{ref:"paginateDropdown",attrs:{position:"bottom-right"}},[i("button",{staticClass:"paginate__button",on:{click:function(t){return e.$refs.paginateDropdown.toggle()}}},[e._v(e._s(e.newOffset))]),i("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},e._l(e.availableOffsets,(function(t){return i("button",{key:t,class:{dropdown__active:t===e.newOffset},attrs:{type:"button"},on:{click:function(i){return e.changeOffset(t)}}},[e._v(e._s(t))])})),0)])],1),e.max>1?i("div",{staticClass:"paginate__pages"},[i("p",{staticClass:"paginate__current f--small"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newPageFormat,expression:"newPageFormat"}],staticClass:"form__input paginate__input",attrs:{type:"number",maxlength:"4"},domProps:{value:e.newPageFormat},on:{blur:e.formatPage,input:function(t){t.target.composing||(e.newPageFormat=t.target.value)}}}),e._v(" of "+e._s(e.max))]),i("button",{staticClass:"paginate__prev",attrs:{type:"button",disabled:e.value<=e.min},on:{click:e.previousPage}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"pagination_left"}})]),i("button",{staticClass:"paginate__next",attrs:{type:"button",disabled:e.value>=e.max},on:{click:e.nextPage}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"pagination_right"}})])]):e._e()])},a=[],r={name:"A17Paginate",props:{value:{type:Number,required:!0},offset:{type:Number,default:60},availableOffsets:{type:Array,default:function(){return[]}},min:{type:Number,default:1},max:{type:Number,required:!0}},data:function(){return{newOffset:this.offset}},computed:{newPageFormat:{get:function(){return this.value},set:function(e){return parseInt(e)}}},methods:{formatPage:function(e){var t=e.target.value;t=""!==t?parseInt(t):1,t>this.max&&(t=this.max),t<1&&(t=1),e.target.value=t,t!==this.value&&this.$emit("changePage",t)},changeOffset:function(e){this.newOffset=e,this.$emit("changeOffset",parseInt(this.newOffset))},previousPage:function(){this.$emit("changePage",parseInt(this.value-1))},nextPage:function(){this.$emit("changePage",parseInt(this.value+1))}}},s=r,o=(i("22bb"),i("2877")),l=Object(o["a"])(s,n,a,!1,null,"c9157512",null);t["a"]=l.exports},"5a57":function(e,t,i){"use strict";t["a"]={props:{open:{type:Boolean,default:!1}},data:function(){return{visible:this.open}},computed:{visibilityClasses:function(){return{"s--open":this.visible}}},methods:{onClickVisibility:function(){this.visible=!this.visible,this.$emit("toggleVisibility",this.visible)}}}},"5ac4":function(e,t,i){},"5b51":function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));var n="undefined"!==typeof window,a=(n&&function(){var e=window.navigator.userAgent;(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&window.history)}(),n&&window.performance&&window.performance.now?window.performance:Date),r=s();function s(){return a.now().toFixed(3)}function o(e,t){var i=window.history;try{t?i.replaceState({key:r},"",e):(r=s(),i.pushState({key:r},"",e))}catch(n){window.location[t?"replace":"assign"](e)}}function l(e){o(e,!0)}function c(){return location.protocol+"//"+location.host+location.pathname}},"5b74":function(e,t,i){"use strict";var n=i("5fd5"),a=i.n(n);a.a},"5c37":function(e,t,i){},"5d16":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{ref:"form",staticClass:"filter",class:{"filter--opened":e.opened,"filter--single":!e.withNavigation,"filter--withHiddenFilters":e.withHiddenFilters},on:{submit:function(t){return t.preventDefault(),e.submitFilter(t)}}},[i("div",{staticClass:"filter__inner"},[i("div",{staticClass:"filter__navigation"},[e._t("navigation")],2),i("div",{staticClass:"filter__search"},[i("input",{staticClass:"form__input form__input--small",attrs:{type:"search",name:"search",placeholder:e.placeholder},domProps:{value:e.searchValue},on:{input:e.onSearchInput}}),e.withHiddenFilters?i("a17-button",{staticClass:"filter__toggle",attrs:{variant:"ghost","aria-expanded":e.opened?"true":"false"},on:{click:e.toggleFilter}},[e._v(e._s(e.$trans("filter.toggle-label","Filter"))+" "),i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]):e._e(),e._t("additional-actions")],2)]),i("transition",{attrs:{css:!1,duration:275},on:{"before-enter":e.beforeEnter,enter:e.enter,"before-leave":e.beforeLeave,leave:e.leave}},[e.withHiddenFilters?i("div",{directives:[{name:"show",rawName:"v-show",value:e.opened,expression:"opened"}],ref:"more",staticClass:"filter__more",attrs:{"aria-hidden":!e.opened||null}},[i("div",{ref:"moreInner",staticClass:"filter__moreInner"},[e._t("hidden-filters"),i("a17-button",{attrs:{variant:"ghost",type:"submit"}},[e._v(e._s(e.$trans("filter.apply-btn","Apply")))]),e.clearOption?i("a17-button",{attrs:{variant:"ghost",type:"button"},on:{click:e.clear}},[e._v(e._s(e.$trans("filter.clear-btn","Clear")))]):e._e()],2)]):e._e()])],1)},a=[],r=i("b047"),s=i.n(r),o=i("4fee"),l={name:"A17Filter",props:{initialSearchValue:{type:String,default:""},placeholder:{type:String,default:function(){return this.$trans("filter.search-placeholder","Search")}},closed:{type:Boolean,default:!1},clearOption:{type:Boolean,default:!1}},data:function(){return{openable:!this.closed,open:!1,withHiddenFilters:!0,withNavigation:!0,searchValue:this.initialSearchValue,transitionTimeout:null}},computed:{opened:function(){return this.open&&this.openable}},watch:{closed:function(){this.openable=!this.closed},initialSearchValue:function(){this.searchValue=this.initialSearchValue}},methods:{getHeight:function(){return this.$refs.moreInner.clientHeight},beforeEnter:function(e){e.style.height="0px",e.style.overflow="hidden"},enter:function(e,t){this.resetHeight(),this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.transitionTimeout=setTimeout((function(){e.style.overflow="visible"}),275),window.addEventListener("resize",this._resize,!1)},beforeLeave:function(e){this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.resetHeight(),e.style.overflow="hidden",window.removeEventListener("resize",this._resize)},leave:function(e,t){e.style.height="0px"},toggleFilter:function(){this.openable=!0,this.open=!this.open},submitFilter:function(){var e=Object(o["a"])(this.$refs.form);this.$emit("submit",e)},onSearchInput:function(e){this.searchValue=e.target.value},clear:function(){this.searchValue="",this.$emit("clear")},resetHeight:function(){this.$refs.more&&(this.$refs.more.style.height=this.getHeight()+"px")},_resize:s()((function(){this.resetHeight()}),50)},beforeMount:function(){this.$slots.navigation||(this.withNavigation=!1),this.$slots["hidden-filters"]||(this.withHiddenFilters=!1)}},c=l,u=(i("2ac7"),i("1071"),i("2877")),d=Object(u["a"])(c,n,a,!1,null,"bd2c8b64",null);t["a"]=d.exports},"5da2":function(e,t,i){"use strict";var n=i("bb7b"),a=i.n(n);a.a},"5e75":function(e,t,i){},"5fd5":function(e,t,i){},"605f":function(e,t,i){"use strict";t["a"]={props:{aspectRatio:{type:Number,default:null},viewMode:{type:Number,default:2},cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},dragMode:{type:String,default:"crop"},rotatable:{type:Boolean,default:!1},scalable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1}},computed:{defaultCropsOpts:function(){return{aspectRatio:this.initAspectRatio,viewMode:this.viewMode,cropBoxResizable:this.cropBoxResizable,cropBoxMovable:this.cropBoxMovable,dragMode:this.dragMode,rotatable:this.rotatable,scalable:this.scalable,zoomable:this.zoomable,guides:!1,center:!1,checkCrossOrigin:!1,background:!1}}}}},"609f":function(e,t,i){},"61f4":function(e,t,i){},"633a":function(e,t,i){"use strict";var n=i("7745"),a=i.n(n);a.a},"63da":function(e,t,i){},"64e5":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade_spinner"},on:{"before-enter":e.beforeEnter,"after-enter":e.afterEnter,"before-leave":e.beforeLeave}},[i("div",{staticClass:"a17spinner"},[i("div",{staticClass:"a17spinner__anim",class:{"a17spinner__anim--visible":e.isVisible}},[i("span",{staticClass:"loader"},[i("span")])])])])},a=[],r={name:"A17Spinner",props:{visible:{type:Boolean,default:!1}},data:function(){return{isVisible:this.visible}},methods:{beforeEnter:function(e){this.isVisible=this.visible},afterEnter:function(e){this.isVisible=!0},beforeLeave:function(e){this.isVisible=!1}}},s=r,o=(i("cfc1"),i("2877")),l=Object(o["a"])(s,n,a,!1,null,null,null);t["a"]=l.exports},6587:function(e,t,i){},"66f2":function(e,t,i){"use strict";var n=i("722d"),a=i.n(n);a.a},"67ff":function(e,t,i){"use strict";var n=i("63ea"),a=i.n(n),r=i("2f62"),s=i("0429");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t["a"]={props:{hasDefaultStore:{type:Boolean,default:!1},inModal:{type:Boolean,default:!1},inStore:{type:String,default:""},fieldName:{type:String,default:""}},computed:l({storedValue:function(){return this.inModal?this.modalFieldValueByName(this.getFieldName()):this.fieldValueByName(this.getFieldName())}},Object(r["b"])(["fieldValueByName","modalFieldValueByName"]),{},Object(r["c"])({submitting:function(e){return e.form.loading},fields:function(e){return e.form.fields},modalFields:function(e){return e.form.modalFields}})),watch:{storedValue:function(e){if(""!==this.inStore){var t=this[this.inStore],i=this.locale?e[this.locale.value]:e;a()(t,i)||"undefined"!==typeof this.updateFromStore&&this.updateFromStore(i)}}},methods:{getFieldName:function(){return""!==this.fieldName?this.fieldName:this.name},saveIntoStore:function(e){if(""!==this.inStore){var t="";t=e||this[this.inStore];var i={};i.name=this.getFieldName(),i.value=t,this.locale&&(i.locale=this.locale.value),this.inModal?this.$store.commit(s["f"].UPDATE_MODAL_FIELD,i):this.$store.commit(s["f"].UPDATE_FORM_FIELD,i)}}},beforeMount:function(){var e=this.getFieldName();if(""!==this.inStore&&""!==e){var t=this.inModal?this.modalFields:this.fields,i=t.filter((function(t){return t.name===e}));i.length?this.locale?this[this.inStore]=i[0].value[this.locale.value]:this[this.inStore]=i[0].value:this.hasDefaultStore&&this.saveIntoStore()}},beforeDestroy:function(){""!==this.inStore&&(this.inModal?this.$store.commit(s["f"].REMOVE_MODAL_FIELD,this.getFieldName()):this.$store.commit(s["f"].REMOVE_FORM_FIELD,this.getFieldName()))}}},"68c3":function(e,t,i){"use strict";var n=i("7bd8"),a=i.n(n);a.a},"6b35":function(e,t,i){"use strict";var n=i("778b"),a=i.n(n);a.a},"6cf8":function(e,t,i){"use strict";var n=i("1ad4"),a=i.n(n);a.a},"6d94":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modalValidation"},[i("a17-inputframe",["create"===e.mode?[i("a17-button",{attrs:{type:"submit",name:"create",variant:"validate",disabled:e.isDisabled}},[e._v(e._s(e.$trans("modal.create.button","Create")))]),e.isDisabled?e._e():i("a17-button",{attrs:{type:"submit",name:"create-another",variant:"aslink-grey"}},[i("span",[e._v(e._s(e.$trans("modal.create.create-another","Create and add another")))])])]:i("a17-button",{attrs:{type:"submit",name:"update",variant:"validate",disabled:e.isDisabled}},[e._v(e._s(e.$trans("modal.update.button","Update")))])],2),e.activePublishState?i("label",{staticClass:"switcher__button",class:e.switcherClasses,attrs:{for:e.publishedName}},[e.isChecked?i("span",{staticClass:"switcher__label"},[e._v(e._s(e.textEnabled))]):e._e(),e.isChecked?e._e():i("span",{staticClass:"switcher__label"},[e._v(e._s(e.textDisabled))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.published,expression:"published"}],attrs:{type:"checkbox",disabled:e.disabled,name:e.publishedName,id:e.publishedName},domProps:{value:1,checked:Array.isArray(e.published)?e._i(e.published,1)>-1:e.published},on:{change:function(t){var i=e.published,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=1,s=e._i(i,r);n.checked?s<0&&(e.published=i.concat([r])):s>-1&&(e.published=i.slice(0,s).concat(i.slice(s+1)))}else e.published=a}}}),i("span",{staticClass:"switcher__switcher"})]):e._e()],1)},a=[],r=i("0429");function s(e){return c(e)||l(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}var u={name:"A17ModalValidationButtons",props:{publishedName:{type:String,required:!1},disabled:{type:Boolean,default:!1},activePublishState:{type:Boolean,default:!1},isPublish:{type:Boolean,default:!1},isDisable:{type:Boolean,default:!1},mode:{type:String,default:"create"},textEnabled:{type:String,default:"Live"},textDisabled:{type:String,default:"Draft"}},data:function(){return{fields:!1,isDisabled:this.isDisable,published:this.isPublish}},watch:{published:function(e){this.$store.commit(r["f"].UPDATE_FORM_FIELD,{name:"published",value:e})}},computed:{switcherClasses:function(){return[this.isChecked?"switcher--active":""]},isChecked:function(){return this.published},checkedValue:{get:function(){return this.published},set:function(e){this.published=e}}},methods:{disable:function(){if(!this.fields)return this.isDisabled=!0,void this.$emit("disable",!0);var e=this.fields.filter((function(e){return e.getAttribute("required")}));if(0===e.length)return this.isDisabled=!1,void this.$emit("disable",!1);var t=e.filter((function(e){return e.value.length>0}));if(t.length===e.length)return this.isDisabled=!1,void this.$emit("disable",!1);this.isDisabled=!0,this.$emit("disable",!0)}},mounted:function(){var e=this;this.fields=s(this.$parent.$el.querySelectorAll("input, textarea, select")),e.disable(),this.fields.length&&this.fields.forEach((function(t){t.addEventListener("input",e.disable)}))},beforeDestroy:function(){var e=this;this.fields.length&&this.fields.forEach((function(t){t.removeEventListener("input",e.disable)}))}},d=u,f=(i("f880"),i("7ce9"),i("2877")),h=Object(f["a"])(d,n,a,!1,null,"461d58d0",null);t["a"]=h.exports},"6e6b":function(e,t,i){"use strict";var n=i("8e8c"),a=i.n(n);a.a},"6f52":function(e,t,i){},"722d":function(e,t,i){},7231:function(e,t,i){"use strict";var n=i("7783"),a=i.n(n);a.a},7237:function(e,t,i){"use strict";var n=i("eb13"),a=i.n(n);a.a},"727d":function(e,t,i){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"",value:null},i="";e&&"string"===typeof e&&(i="".concat("TWILL"," - [").concat(e,"]: "));var n=i+"An error occured.\n"+t.message;console.error(n),t.value&&console.error(t.value),"response"in t.value&&"status"in t.value.response&&401===t.value.response.status&&window["TWILL"].vm.notif({message:'Your session has expired, please <a href="'+document.location+'" target="_blank">login in another tab</a>. You can then continue working here.',variant:"warning"})}i.d(t,"a",(function(){return n}))},"74ac":function(e,t,i){},"753c":function(e,t,i){},"75fb":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fieldset",class:e.visibilityClasses},[e.title?i("header",{staticClass:"fieldset__header",class:e.activeClasses},[e.activeToggle?i("h3",{attrs:{role:"button","aria-expanded":e.visible?"true":"false"},on:{click:e.onClickVisibility}},[e._v(e._s(e.title)+" "),i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]):i("h3",[e._v(e._s(e.title))])]):i("header",{staticClass:"fieldset__header",class:e.activeClasses},[e._t("header")],2),i("div",{staticClass:"fieldset__content",attrs:{hidden:!e.visible||null,"aria-hidden":!e.visible||null}},[e._t("default")],2)])},a=[],r=i("5a57"),s={name:"A17Fieldset",mixins:[r["a"]],props:{open:{type:Boolean,default:!0},title:{default:""},activeToggle:{type:Boolean,default:!0}},computed:{activeClasses:function(){return{"fieldset--hoverable":this.activeToggle}}}},o=s,l=(i("7dc6"),i("2877")),c=Object(l["a"])(o,n,a,!1,null,"c4973e4a",null);t["a"]=c.exports},7745:function(e,t,i){},7783:function(e,t,i){},"778b":function(e,t,i){},7822:function(e,t,i){"use strict";var n=i("bc48"),a=i.n(n);a.a},7873:function(e,t,i){},"78ad":function(e,t,i){},7949:function(e,t,i){"use strict";var n=i("609f"),a=i.n(n);a.a},"7a77":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e,t,i){return new Promise((function(n,a){var r=document.getElementById(e),s=function e(){r.removeEventListener("load",e),n()};r?r.addEventListener("load",s):(r=document.createElement("script"),r.setAttribute("id",e),r.type=i,r.onload=s,r.onerror=a,document.getElementsByTagName("head")[0].appendChild(r),r.src=t)}))}},"7b5e":function(e,t,i){"use strict";var n,a,r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vselectOuter"},[i("a17-inputframe",{attrs:{error:e.error,label:e.label,note:e.note,size:e.size,name:e.name,"label-for":e.uniqId,required:e.required,"add-new":e.addNew}},[i("div",{staticClass:"vselect",class:e.vselectClasses},[i("div",{staticClass:"vselect__field"},[i("input",{attrs:{type:"hidden",name:e.name,id:e.uniqId},domProps:{value:e.inputValue}}),i("v-select",{attrs:{multiple:e.multiple,placeholder:e.placeholder,value:e.value,options:e.currentOptions,searchable:e.searchable,clearSearchOnSelect:e.clearSearchOnSelect,label:e.optionsLabel,"on-search":e.getOptions,taggable:e.taggable,pushTags:e.pushTags,transition:e.transition,requiredValue:e.required,maxHeight:e.maxHeight},on:{input:e.updateValue}},[i("span",{attrs:{slot:"no-options"},slot:"no-options"},[e._v(e._s(e.emptyText))])])],1)])]),e.addNew?[i("a17-modal-add",{ref:"addModal",attrs:{name:e.name,"form-create":e.addNew,"modal-title":"Add new "+e.label}},[e._t("addModal")],2)]:e._e()],2)},s=[],o=i("b047"),l=i.n(o),c=i("825f"),u=i("67ff"),d=i("f03e"),f=i("ed28"),h=i("4a7a"),p=i.n(h),m={extends:p.a,props:{toggleSelectOption:{type:Boolean,default:!1},requiredValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{mutableValue:this.value}},computed:{showClearButton:function(){return!1}},watch:{search:function(){this.onSearch(this.search,this.toggleLoading),this.$emit("search",this.search,this.toggleLoading)}},methods:{toggleDropdown:function(e){this.disabled||e.target!==this.$refs.openIndicator&&e.target!==this.$refs.search&&e.target!==this.$refs.toggle&&e.target!==this.$refs.selectedOptions&&e.target!==this.$el||(this.open?this.$refs.search.blur():(this.open=!0,this.$refs.search.focus()))},maybeDeleteValue:function(){if(!this.requiredValue&&!this.$refs.search.value.length&&this.mutableValue)return this.multiple?this.mutableValue.pop():this.mutableValue=null}},mounted:function(){this.taggable&&this.onSearch(this.search,this.toggleLoading)}},b=m,g=i("2877"),v=Object(g["a"])(b,n,a,!1,null,null,null),_=v.exports;function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var w={name:"A17VueSelect",mixins:[c["a"],d["a"],u["a"],f["a"]],props:{placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},name:{type:String,default:""},transition:{type:String,default:"fade_move_dropdown"},multiple:{type:Boolean,default:!1},taggable:{type:Boolean,default:!1},pushTags:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},clearSearchOnSelect:{type:Boolean,default:!0},selected:{default:null},emptyText:{default:function(){return this.$trans("select.empty-text","Sorry, no matching options.")}},options:{default:function(){return[]}},optionsLabel:{type:String,default:"label"},endpoint:{type:String,default:""},size:{type:String,default:""},required:{type:Boolean,default:!1},maxHeight:{type:String,default:"400px"}},components:{"v-select":_},data:function(){return{value:this.selected,currentOptions:this.options,ajaxUrl:this.endpoint}},watch:{options:function(e){this.currentOptions=this.options}},computed:{uniqId:function(e){return this.name+"-"+this.randKey},inputValue:{get:function(){if(this.value){if(this.multiple){if(Array.isArray(this.value))return"object"===y(this.value[0])?this.value.map((function(e){return e.value})):this.value.join(",")}else if("object"===y(this.value))return this.value.value;return this.value}return""},set:function(e){Array.isArray(e)?this.taggable?this.value=e:this.value=this.options.filter((function(t){return e.includes(t.value)})):this.value=this.options.find((function(t){return t.value===e}))}},vselectClasses:function(){return[this.value?"vselect--has-value":"",this.multiple?"vselect--multiple":"vselect--single","small"===this.size?"vselect--small":"","large"===this.size?"vselect--large":"",this.error?"vselect--error":""]}},methods:{updateFromStore:function(e){this.inputValue=e},isAjax:function(){return""!==this.ajaxUrl},updateValue:function(e){this.value=e,this.saveIntoStore(),this.$emit("change",e)},getOptions:l()((function(e,t){var i=this;if(!this.isAjax())return!0;t(!0),this.$http.get(this.ajaxUrl,{params:{q:e}}).then((function(e){e.data.items&&e.data.items.length&&(i.taggable&&Array.isArray(i.value)?i.currentOptions=e.data.items.filter((function(e){return!i.value.includes(e)})):i.currentOptions=e.data.items),t(!1)}),(function(e){t(!1)}))}),500)}},O=w,E=Object(g["a"])(O,r,s,!1,null,null,null);t["a"]=E.exports},"7ba2":function(e,t,i){"use strict";var n=i("32c4"),a=i.n(n);a.a},"7bd8":function(e,t,i){},"7c45":function(e,t,i){"use strict";var n=i("da1e"),a=i.n(n);a.a},"7ce9":function(e,t,i){"use strict";var n=i("38a4"),a=i.n(n);a.a},"7d15":function(e,t,i){"use strict";var n=i("6587"),a=i.n(n);a.a},"7d9f":function(e,t,i){"use strict";var n=i("2f62");function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t["a"]={props:{locale:{default:null}},computed:r({hasLocale:function(){return null!=this.locale},hasCurrentLocale:function(){return null!=this.currentLocale},isCurrentLocale:function(){return!this.hasLocale||!this.hasCurrentLocale||this.locale.value===this.currentLocale.value},displayedLocale:function(){return!!this.hasLocale&&this.locale.shortlabel}},Object(n["c"])({currentLocale:function(e){return e.language.active},languages:function(e){return e.language.all}})),methods:{onClickLocale:function(){this.$emit("localize",this.locale)},updateLocale:function(e){this.$emit("localize",e)}}}},"7dc6":function(e,t,i){"use strict";var n=i("5c37"),a=i.n(n);a.a},"7eaf":function(e,t,i){"use strict";var n=i("cf06"),a=i.n(n);a.a},"825f":function(e,t,i){"use strict";t["a"]={data:function(){return{randKey:Date.now()+Math.floor(9999*Math.random())}}}},8268:function(e,t,i){},"82dc":function(e,t,i){"use strict";var n=i("74ac"),a=i.n(n);a.a},"841f":function(e,t,i){"use strict";var n=i("5e75"),a=i.n(n);a.a},"85cf":function(e,t,i){"use strict";var n=i("11ed"),a=i.n(n);a.a},8740:function(e,t,i){"use strict";var n=i("c917"),a=i.n(n);a.a},"878a":function(e,t,i){"use strict";var n,a=i("a026"),r=i("2e01"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container search",class:{"search--dashboard":"dashboard"===e.type}},["dashboard"===e.type?i("transition",{attrs:{name:"fade_search-overlay"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.readyToShowResult,expression:"readyToShowResult"}],staticClass:"search__overlay",on:{click:e.toggleSearch}})]):e._e(),i("div",{staticClass:"search__input"},[i("input",{ref:"search",staticClass:"form__input",attrs:{type:"search",name:"search",autocomplete:"off",placeholder:e.placeholder},on:{input:e.onSearchInput}}),i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"search"}})]),i("transition",{attrs:{name:"fade_search-overlay"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.readyToShowResult,expression:"readyToShowResult"}],staticClass:"search__results"},[i("ul",[e._l(e.searchResults,(function(t){return i("li",{key:t.id},[i("a",{staticClass:"search__result",attrs:{href:t.href}},[i("div",{staticClass:"search__cell search__cell--thumb hide--xsmall"},[i("figure",{staticClass:"search__thumb"},[i("img",{attrs:{src:t.thumbnail}})])]),i("div",{staticClass:"search__cell search__cell--pubstate hide--xsmall"},[i("span",{staticClass:"search__pubstate",class:{"search__pubstate--live":t.published}})]),i("div",{staticClass:"search__cell"},[i("span",{staticClass:"search__title"},[e._v(e._s(t.title))]),i("p",{staticClass:"f--note"},[e._v(" "+e._s(t.activity)+" "),i("timeago",{attrs:{"auto-update":1,since:new Date(t.date)}}),e._v(" by "+e._s(t.author)+" "),i("span",{staticClass:"search__type"},[e._v(e._s(t.type))])],1)])])])})),i("li",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"search__no-result"},[e._v(" Loading ")]),i("li",{directives:[{name:"show",rawName:"v-show",value:e.readyToShowResult&&!e.searchResults.length&&!e.loading,expression:"readyToShowResult && !searchResults.length && !loading"}],staticClass:"search__no-result"},[e._v(" No results found. ")])],2)])])],1)},o=[],l=i("b047"),c=i.n(l),u=i("bc3a"),d=i.n(u),f=i("0a8f"),h=document.documentElement,p=[f["a"].search,f["a"].overlay],m=d.a.CancelToken,b=m.source(),g=document.querySelector(".header .header__title > a"),v={name:"A17Search",props:{open:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},placeholder:{type:String,default:"Search everything"},endpoint:{type:String,default:null},type:{type:String,default:"header"}},data:function(){return{searchValue:"",loading:!1,readyToShowResult:!1,searchResults:[]}},watch:{open:function(){this.toggleSearch()},opened:function(){this.opened&&(n=this.$refs.search,n.focus())}},methods:{toggleSearch:function(){p.forEach((function(e){h.classList.toggle(e)})),this.open?document.addEventListener("keydown",this.handleKeyDown,!1):(this.$refs.search.blur(),this.searchResults=[],this.searchValue="",this.readyToShowResult=!1,document.removeEventListener("keydown",this.handleKeyDown,!1))},handleKeyDown:function(e){e.keyCode&&9===e.keyCode&&(e.shiftKey?document.activeElement.isEqualNode(g)&&(n.focus(),e.preventDefault()):document.activeElement.isEqualNode(n)&&(g.focus(),e.preventDefault()))},setLastFocusElement:function(){var e=this.searchResults.length;e?setTimeout((function(){n=document.querySelectorAll(".search__result")[e-1]}),1):n=this.$refs.search},fetchSearchResults:function(){var e=this,t={search:this.searchValue};this.loading?(b.cancel(),b=m.source()):this.loading=!0,this.readyToShowResult=!0,this.$http.get(this.endpoint,{params:t,cancelToken:b.token}).then((function(t){e.searchResults=t.data,e.loading=!1,e.setLastFocusElement()}),(function(t){d.a.isCancel(t)||(e.loading=!1)}))},onSearchInput:c()((function(e){this.searchValue=e.target.value,this.searchValue&&this.searchValue.length>2?("dashboard"===this.type&&p.forEach((function(e){h.classList.add(e)})),this.fetchSearchResults()):("dashboard"===this.type&&p.forEach((function(e){h.classList.remove(e)})),this.readyToShowResult=!1,this.searchResults=[],this.setLastFocusElement())}),300)}},_=v,y=(i("a3d8"),i("2877")),w=Object(y["a"])(_,s,o,!1,null,"afce0992",null),O=w.exports;a["a"].use(r["a"]);var E="searchApp",T={el:"#searchApp",components:{"a17-search":O},props:{topSpacing:{type:Number,default:60}},data:function(){return{open:!1,opened:!1,top:this.topSpacing}},computed:{positionStyle:function(){return{top:this.top+"px"}}},methods:{afterAnimate:function(){this.opened=!0},toggleSearch:function(){this.open=!this.open,this.top=this.topSpacing-(window.pageYOffset||document.documentElement.scrollTop),this.open?document.addEventListener("keydown",this.handleKeyDown,!1):(this.opened=!1,document.removeEventListener("keydown",this.handleKeyDown,!1))},handleKeyDown:function(e){e.keyCode&&27===e.keyCode&&this.toggleSearch()}}},C=!!document.getElementById(E)&&new a["a"](T);t["a"]=C},"892e":function(e,t,i){},"8aa1":function(e,t,i){"use strict";var n=i("90d3"),a=i.n(n);a.a},"8ca9":function(e,t,i){"use strict";var n=i("ffb1"),a=i.n(n);a.a},"8d2b":function(e,t,i){"use strict";var n=i("5ac4"),a=i.n(n);a.a},"8e8c":function(e,t,i){},"8f79":function(e,t,i){},"90d3":function(e,t,i){},9170:function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"e",(function(){return p})),i.d(t,"c",(function(){return b})),i.d(t,"d",(function(){return g})),i.d(t,"b",(function(){return v}));var n=i("13ea"),a=i.n(n);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e){return c(e)||l(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object.assign.apply(Object,[{}].concat(s(Object.keys(e).map((function(i){if(t){if(d(i,t.id))return r({},f(i,t.id),e[i])}else if(!i.startsWith("blocks["))return r({},i,e[i]);return null})).filter((function(e){return e})))))},d=function(e,t){return e.startsWith("blocks["+t+"]")},f=function(e,t){var i=e.replace("blocks["+t+"][","");return i.match(/]/gi).length>1?i.replace("]",""):i.slice(0,-1)},h=function e(t,i){return{id:t.id,type:t.type,content:i.form.fields.filter((function(e){return d(e.name,t.id)})).map((function(e){return{name:f(e.name,t.id),value:e.value}})).reduce((function(e,t){return e[t.name]=t.value,e}),{}),medias:u(i.mediaLibrary.selected,t),browsers:u(i.browser.selected,t),blocks:Object.assign.apply(Object,[{}].concat(s(Object.keys(i.repeaters.repeaters).filter((function(e){return e.startsWith("blocks-"+t.id)})).map((function(n){return r({},n.replace("blocks-"+t.id+"_",""),i.repeaters.repeaters[n].map((function(t){return e(t,i)})))})))))}},p=function(e){return a()(e.content)&&a()(e.browsers)&&a()(e.medias)&&a()(e.blocks)},m=function(e){return Object.assign.apply(Object,[{}].concat(s(Object.keys(e.repeaters.repeaters).filter((function(e){return!e.startsWith("blocks-")})).map((function(t){return r({},t,e.repeaters.repeaters[t].map((function(t){var i=h(t,e),n=i.content;return delete i.content,delete i.type,n.id=t.id,Object.assign(i,n)})))})))))},b=function(e){var t=e.form.fields.filter((function(e){return!e.name.startsWith("blocks[")&&!e.name.startsWith("mediaMeta[")})).reduce((function(e,t){return e[t.name]=t.value,e}),{});return t},g=function(e){var t=e.form.modalFields.filter((function(e){return!e.name.startsWith("blocks[")&&!e.name.startsWith("mediaMeta[")})).reduce((function(e,t){return e[t.name]=t.value,e}),{});return t},v=function(e){var t=b(e),i=Object.assign(t,{cmsSaveType:e.form.type,published:e.publication.published,public:"public"===e.publication.visibility,publish_start_date:e.publication.startDate,publish_end_date:e.publication.endDate,languages:e.language.all,parent_id:e.parents.active,medias:u(e.mediaLibrary.selected),browsers:u(e.browser.selected),blocks:e.content.blocks.map((function(t){return h(t,e)})),repeaters:m(e)});return i}},"935b":function(e,t,i){"use strict";var n=i("a8c9"),a=i.n(n);a.a},9462:function(e,t,i){"use strict";var n=i("4fcf"),a=i.n(n);a.a},"95ca":function(e,t,i){"use strict";var n=i("0de3"),a=i.n(n);a.a},"968a":function(e,t,i){"use strict";var n=i("4283"),a=i.n(n);a.a},9788:function(e,t,i){"use strict";i.d(t,"g",(function(){return n})),i.d(t,"f",(function(){return a})),i.d(t,"d",(function(){return r})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"h",(function(){return g}));var n="updateFormPermalink",a="updateFormField",r="removeFormField",s="addFormBlock",o="deleteFormBlock",l="duplicateFormBlock",c="reorderFormBlocks",u="updateFormLoading",d="setFormErrors",f="clearFormErrors",h="updateFormSaveType",p="replaceFormField",m="emptyFormField",b="emptyModalField",g="updateModalField",v="removeModalField",_="replaceModalField";t["i"]={UPDATE_FORM_PERMALINK:n,UPDATE_FORM_FIELD:a,REMOVE_FORM_FIELD:r,ADD_FORM_BLOCK:s,DELETE_FORM_BLOCK:o,DUPLICATE_FORM_BLOCK:l,REORDER_FORM_BLOCKS:c,UPDATE_FORM_LOADING:u,SET_FORM_ERRORS:d,CLEAR_FORM_ERRORS:f,UPDATE_FORM_SAVE_TYPE:h,REPLACE_FORM_FIELDS:p,EMPTY_FORM_FIELDS:m,EMPTY_MODAL_FIELDS:b,UPDATE_MODAL_FIELD:g,REMOVE_MODAL_FIELD:v,REPLACE_MODAL_FIELDS:_}},"98d2":function(e,t,i){"use strict";i.d(t,"c",(function(){return Se})),i.d(t,"b",(function(){return Pe})),i.d(t,"a",(function(){return je}));var n,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a17-dropdown",{ref:"rowSetupDropdown",attrs:{position:"bottom-right",fixed:!0}},[i("a17-button",{attrs:{variant:"icon"},on:{click:function(t){return e.$refs.rowSetupDropdown.toggle()}}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),i("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e.row.hasOwnProperty("permalink")?i("a",{attrs:{href:e.row["permalink"],target:"_blank"}},[e._v("View permalink")]):e._e(),e.row.hasOwnProperty("edit")&&!e.row.hasOwnProperty("deleted")&&e.row["edit"]?i("a",{attrs:{href:e.editUrl},on:{click:function(t){return e.preventEditInPlace(t)}}},[e._v(e._s(e.$trans("listing.dropdown.edit","Edit")))]):e._e(),e.row.hasOwnProperty("published")&&!e.row.hasOwnProperty("deleted")?i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.update("published")}}},[e._v(e._s(e.row["published"]?e.$trans("listing.dropdown.unpublish","Unpublish"):e.$trans("listing.dropdown.publish","Publish")))]):e._e(),e.row.hasOwnProperty("featured")&&!e.row.hasOwnProperty("deleted")?i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.update("featured")}}},[e._v(e._s(e.row["featured"]?e.$trans("listing.dropdown.unfeature","Unfeature"):e.$trans("listing.dropdown.feature","Feature")))]):e._e(),e.row.duplicate&&!e.row.hasOwnProperty("deleted")?i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.duplicateRow(t)}}},[e._v(e._s(e.$trans("listing.dropdown.duplicate","Duplicate")))]):e._e(),e.row.hasOwnProperty("deleted")?i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.restoreRow(t)}}},[e._v(e._s(e.$trans("listing.dropdown.restore","Restore")))]):e._e(),e.row.hasOwnProperty("deleted")&&e.row.hasOwnProperty("destroyable")?i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.destroyRow(t)}}},[e._v(e._s(e.$trans("listing.dropdown.destroy","Destroy")))]):e.row.delete&&!e.row.hasOwnProperty("deleted")?i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.deleteRow(t)}}},[e._v(e._s(e.$trans("listing.dropdown.delete","Delete")))]):e._e()])],1)},r=[],s=i("3417"),o={name:"TableCellActions",mixins:[s["f"]],methods:{update:function(e){this.$emit("update",{row:this.row,col:e})}}},l=o,c=i("2877"),u=Object(c["a"])(l,a,r,!1,null,"d181c362",null),d=u.exports,f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toggleBulk(t)}}},[i("a17-checkbox",{attrs:{name:"bulkEdit",value:e.value,initialValue:e.initialValue}})],1)},h=[],p={name:"A17TableCellBulk",mixins:[s["f"]],components:{},props:{value:{type:Number,required:!0},initialValue:{type:Array,required:!0}},methods:{toggleBulk:function(){this.update()}}},m=p,b=(i("ba21"),Object(c["a"])(m,f,h,!1,null,"f6f9ab32",null)),g=b.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e.formatDateLabel.length>0?i("span",{staticClass:"tablecell__datePub",class:{"s--expired":e.formatDateLabel===e.textExpired}},[e._v(" "+e._s(e._f("formatDatatableDate")(e.startDate))+" "),i("br"),i("span",[e._v(e._s(e.formatDateLabel))])]):i("span",[e.startDate?[e._v(" "+e._s(e._f("formatDatatableDate")(e.startDate))+" ")]:[e._v("  ")]],2)])},_=[],y=i("4e53"),w=i("0d3e"),O=i.n(w),E={name:"A17TableCellDates",mixins:[s["f"]],props:{textExpired:{type:String,default:"Expired"},textScheduled:{type:String,default:"Scheduled"}},computed:{formatDateLabel:function(){var e="",t=O()(this.startDate,new Date),i=this.endDate?O()(this.endDate,new Date):1;return this.startDate&&i<0?e=this.textExpired:t>0&&(e=this.textScheduled),e},startDate:function(){return this.row.hasOwnProperty("publish_start_date")?this.row.publish_start_date:""},endDate:function(){return this.row.hasOwnProperty("publish_end_date")?this.row.publish_end_date:""}},filters:y["a"]},T=E,C=(i("968a"),Object(c["a"])(T,v,_,!1,null,"5be0985c",null)),A=C.exports,D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.row.hasOwnProperty("featured")?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"tablecell__feature",class:{"tablecell__feature--active":e.row[e.colName]},attrs:{"data-tooltip-title":e.row.featured?"Unfeature":"Feature"},on:{click:function(t){return t.preventDefault(),e.toggleFeatured(t)}}},[i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"star-feature_active"}}),i("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"star-feature"}})]):e._e()},S=[],P={name:"A17TableCellFeatured",mixins:[s["f"]],methods:{toggleFeatured:function(){this.update()}}},x=P,M=(i("2881"),Object(c["a"])(x,D,S,!1,null,"933e4642",null)),k=M.exports,L=function(e,t){var i=t._c;return i("span",{staticClass:"tablecell__handle"})},I=[],j={name:"A17TableCellDraggable",mixins:[s["f"]]},R=j,N=(i("45b6"),Object(c["a"])(R,L,I,!0,null,"dc279052",null)),B=N.exports,F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._l(e.displayedLanguages,(function(t){return i("a",{key:t.value,staticClass:"tag tag--disabled",class:{"tag--enabled":t.published},attrs:{href:e.editWithLanguage(t)},on:{click:function(i){return e.editInPlace(i,t)}}},[e._v(" "+e._s(t.shortlabel)+" ")])})),e.languages.length>4?i("a",{staticClass:"more__languages f--small",attrs:{href:e.editWithLanguage(e.languages[0])},on:{click:function(t){return e.editInPlace(t,e.languages[0])}}},[e._v(" + "+e._s(e.languages.length-4)+" more ")]):e._e()],2)},$=[],U={name:"A17TableCellLanguages",mixins:[s["f"]],props:{languages:{type:Array,default:function(){return[]}}},computed:{displayedLanguages:function(){return this.languages.slice(0,4)}},methods:{editWithLanguage:function(e){var t={};return t.lang=e.value,this.editWithQuery(t)},editWithQuery:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));var n=t.length?"?"+t.join("&"):"";return"#"!==this.editUrl?this.editUrl+n:this.editUrl},editInPlace:function(e,t){this.$emit("editInPlace",e,t)}}},V=U,q=(i("3c2e"),Object(c["a"])(V,F,$,!1,null,"1f660d22",null)),H=q.exports,W=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.row.hasOwnProperty("published")?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"tablecell__pubstate",class:{"tablecell__pubstate--live":e.row[e.colName]},attrs:{"data-tooltip-title":e.row.published?"Unpublish":"Publish"},on:{click:function(t){return t.preventDefault(),e.togglePublish(t)}}}):e._e()},z=[],K={name:"A17TableCellPublished",mixins:[s["f"]],methods:{togglePublish:function(){this.update()}}},G=K,Y=(i("9462"),Object(c["a"])(G,W,z,!1,null,"c7179774",null)),X=Y.exports,Q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"name"===e.colName?i("a17-table-cell-name",e._b({on:{update:e.update,editInPlace:e.editInPlace}},"a17-table-cell-name",e.childProps,!1)):e.col.hasOwnProperty("html")?i("a17-table-cell-html",e._b({on:{update:e.update,editInPlace:e.editInPlace}},"a17-table-cell-html",e.childProps,!1)):i("span",[e._v(e._s(e.row[e.colName]))])},J=[],Z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.row.hasOwnProperty("deleted")?i("span",[e._v(e._s(e.row[e.colName]))]):i("a",{staticClass:"tablecell__name",attrs:{href:e.editUrl},on:{click:function(t){return e.preventEditInPlace(t)}}},[i("span",{staticClass:"f--link-underlined--o"},[e._v(e._s(e.row[e.colName]))])])},ee=[],te={name:"A1TableCellName",mixins:[s["f"]]},ie=te,ne=(i("82dc"),Object(c["a"])(ie,Z,ee,!1,null,"0c40a3f2",null)),ae=ne.exports,re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"tablecell__raw",domProps:{innerHTML:e._s(e.row[e.colName])}})},se=[],oe={name:"A1TableCellHtml",mixins:[s["f"]]},le=oe,ce=(i("7949"),Object(c["a"])(le,re,se,!1,null,null,null)),ue=ce.exports,de={name:"A17TableCellGeneric",mixins:[s["f"]],computed:{childProps:function(){return this.$props}},components:{"a17-table-cell-name":ae,"a17-table-cell-html":ue}},fe=de,he=Object(c["a"])(fe,Q,J,!1,null,"0290614d",null),pe=he.exports,me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"tablecell__nested-depth",style:e.cellWidth})},be=[],ge={name:"A17TableCellNested",mixins:[s["f"]],props:{depth:{type:Number,default:0},offset:{type:Number,default:0}},computed:{cellWidth:function(){return this.depth>0?{width:80*this.depth-20-this.offset+"px"}:""}}},ve=ge,_e=(i("c397"),Object(c["a"])(ve,me,be,!1,null,"453028cc",null)),ye=_e.exports,we=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.row.hasOwnProperty("deleted")?i("a",{staticClass:"tablecell__thumb"},[i("img",{attrs:{src:e.row[e.colName]}})]):i("a",{staticClass:"tablecell__thumb",attrs:{href:e.editUrl},on:{click:function(t){return e.preventEditInPlace(t)}}},[i("img",{attrs:{src:e.row[e.colName]}})])},Oe=[],Ee={name:"A17TableCellThumbNail",mixins:[s["f"]]},Te=Ee,Ce=(i("633a"),Object(c["a"])(Te,we,Oe,!1,null,"0ec0f270",null)),Ae=Ce.exports;function De(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Se=["draggable","bulk","languages","featured","published","thumbnail","publish_start_date","nested"],Pe="a17-table-cell-",xe=d,Me=g,ke=A,Le=k,Ie=B,je=H,Re=X,Ne=pe,Be=ye,Fe=Ae;t["d"]=(n={},De(n,Pe+"actions",xe),De(n,Pe+"bulk",Me),De(n,Pe+"publish_start_date",ke),De(n,Pe+"featured",Le),De(n,Pe+"draggable",Ie),De(n,Pe+"generic",Ne),De(n,Pe+"languages",je),De(n,Pe+"published",Re),De(n,Pe+"nested",Be),De(n,Pe+"thumbnail",Fe),n)},"9aba":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n="switchLanguage",a="updateLanguage",r="updatePublishedLanguage",s="publishLanguage",o="replaceLanguages",l="resetLanguages";t["b"]={SWITCH_LANG:n,UPDATE_LANG:a,PUBLISH_LANG:r,PUBLISH_SINGLE_LANG:s,REPLACE_LANGUAGES:o,RESET_LANGUAGES:l}},"9dc1":function(e,t,i){},"9e7b":function(e,t,i){"use strict";var n=i("c828"),a=i.n(n);a.a},a062:function(e,t,i){},a3d8:function(e,t,i){"use strict";var n=i("b074"),a=i.n(n);a.a},a8c9:function(e,t,i){},a91e:function(e,t,i){"use strict";var n=i("d557"),a=i.n(n);a.a},a9bc:function(e,t,i){"use strict";var n=i("9dc1"),a=i.n(n);a.a},abfb:function(e,t,i){},ac00:function(e,t,i){},ae2b:function(e,t,i){"use strict";var n=i("c7d5"),a=i.n(n);a.a},aeaa:function(e,t,i){},b057:function(e,t,i){},b074:function(e,t,i){},b0ae:function(e,t,i){"use strict";var n,a,r=i("bc3a"),s=i.n(r),o=i("5b51"),l=i("727d"),c="DATATABLE",u={get:function(e,t){s.a.get(window["TWILL"].CMS_URLS.index,{params:e}).then((function(e){if(e.data.replaceUrl){var i=e.request.responseURL;Object(o["b"])(i)}if(t&&"function"===typeof t){var n={data:e.data.tableData?e.data.tableData:[],nav:e.data.tableMainFilters?e.data.tableMainFilters:[],maxPage:e.data.maxPage?e.data.maxPage:1};t(n)}}),(function(e){var t={message:"Get request error.",value:e};Object(l["a"])(c,t)}))},togglePublished:function(e,t,i){s.a.put(window["TWILL"].CMS_URLS.publish,{id:e.id,active:e.published}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Publish request error.",value:e};Object(l["a"])(c,t),i&&"function"===typeof i&&i(e.response)}))},toggleFeatured:function(e,t){s.a.put(window["TWILL"].CMS_URLS.feature,{id:e.id,active:e.featured}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Feature request error.",value:e};Object(l["a"])(c,t)}))},delete:function(e,t){s.a.delete(e.delete).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Delete request error.",value:e};Object(l["a"])(c,t)}))},restore:function(e,t){s.a.put(window["TWILL"].CMS_URLS.restore,{id:e.id}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Restore request error.",value:e};Object(l["a"])(c,t)}))},destroy:function(e,t){s.a.put(window["TWILL"].CMS_URLS.forceDelete,{id:e.id}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Destroy request error.",value:e};Object(l["a"])(c,t)}))},duplicate:function(e,t){s.a.put(e.duplicate).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Duplicate request error.",value:e};Object(l["a"])(c,t)}))},reorder:function(e,t){s.a.post(window["TWILL"].CMS_URLS.reorder,{ids:e}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Reorder request error.",value:e};Object(l["a"])(c,t)}))},bulkPublish:function(e,t){s.a.post(window["TWILL"].CMS_URLS.bulkPublish,{ids:e.ids,publish:e.toPublish}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Bulk publish request error.",value:e};Object(l["a"])(c,t)}))},bulkFeature:function(e,t){s.a.post(window["TWILL"].CMS_URLS.bulkFeature,{ids:e.ids,feature:e.toFeature}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Bulk feature request error.",value:e};Object(l["a"])(c,t)}))},bulkDelete:function(e,t){s.a.post(window["TWILL"].CMS_URLS.bulkDelete,{ids:e}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Bulk delete request error.",value:e};Object(l["a"])(c,t)}))},bulkRestore:function(e,t){s.a.post(window["TWILL"].CMS_URLS.bulkRestore,{ids:e}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Bulk restore request error.",value:e};Object(l["a"])(c,t)}))},bulkDestroy:function(e,t){s.a.post(window["TWILL"].CMS_URLS.bulkForceDelete,{ids:e}).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Bulk destroy request error.",value:e};Object(l["a"])(c,t)}))}},d=i("0429"),f=i("f1af"),h=i("f930");function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var m=function e(t,i,n){t.forEach((function(t){t.id===i&&n(t),t.children&&e(t.children,i,n)}))},b=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id","children"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",a=JSON.parse(JSON.stringify(t));return a.forEach((function(t){for(var a in t)i.includes(a)||delete t[a],a===n&&(t[a]=e(t[a]))})),a},g={baseUrl:window["TWILL"].STORE.datatable.baseUrl||"",data:window["TWILL"].STORE.datatable.data||[],columns:window["TWILL"].STORE.datatable.columns||[],filter:window["TWILL"].STORE.datatable.filter||{},filtersNav:window["TWILL"].STORE.datatable.navigation||[],page:window["TWILL"].STORE.datatable.page||1,maxPage:window["TWILL"].STORE.datatable.maxPage||1,defaultMaxPage:window["TWILL"].STORE.datatable.defaultMaxPage||1,offset:window["TWILL"].STORE.datatable.offset||60,defaultOffset:window["TWILL"].STORE.datatable.defaultOffset||60,sortKey:window["TWILL"].STORE.datatable.sortKey||"",sortDir:window["TWILL"].STORE.datatable.sortDir||"asc",bulk:[],localStorageKey:window["TWILL"].STORE.datatable.localStorageKey||window.location.pathname,loading:!1,updateTracker:0},v={dataIds:function(e){return e.data.map((function(e){return e.id}))},hideableColumns:function(e){return e.columns.filter((function(e){return e.optional}))},visibleColumns:function(e){return e.columns.filter((function(e){return e.visible}))},visibleColumnsNames:function(e){var t=[];return e.columns.length&&e.columns.forEach((function(e){e.visible&&t.push(e.name)})),t}},_=(n={},p(n,d["e"].UPDATE_DATATABLE_DATA,(function(e,t){e.bulk=[],e.data=t})),p(n,d["e"].UPDATE_DATATABLE_BULK,(function(e,t){e.bulk.indexOf(t)>-1?e.bulk=e.bulk.filter((function(e){return e!==t})):e.bulk.push(t)})),p(n,d["e"].REPLACE_DATATABLE_BULK,(function(e,t){e.bulk=t})),p(n,d["e"].ADD_DATATABLE_COLUMN,(function(e,t){e.columns.splice(t.index,0,t.data)})),p(n,d["e"].REMOVE_DATATABLE_COLUMN,(function(e,t){e.columns.forEach((function(i,n){i.name===t&&e.columns.splice(n,1)}))})),p(n,d["e"].UPDATE_DATATABLE_FILTER,(function(e,t){e.filter=Object.assign({},e.filter,t)})),p(n,d["e"].CLEAR_DATATABLE_FILTER,(function(e){e.filter=Object.assign({},{search:"",status:e.filter.status})})),p(n,d["e"].UPDATE_DATATABLE_FILTER_STATUS,(function(e,t){e.filter.status=t})),p(n,d["e"].UPDATE_DATATABLE_OFFSET,(function(e,t){e.offset=t,Object(h["b"])(e.localStorageKey+"_page-offset",e.offset)})),p(n,d["e"].UPDATE_DATATABLE_PAGE,(function(e,t){e.page=t})),p(n,d["e"].UPDATE_DATATABLE_MAXPAGE,(function(e,t){e.page>t&&(e.page=t),e.maxPage=t})),p(n,d["e"].UPDATE_DATATABLE_VISIBLITY,(function(e,t){Object(h["b"])(e.localStorageKey+"_columns-visible",JSON.stringify(t)),e.columns.forEach((function(e){for(var i=0;i<t.length;i++){if(t[i]===e.name){e.visible=!0;break}e.visible=!1}}))})),p(n,d["e"].UPDATE_DATATABLE_SORT,(function(e,t){var i="asc";e.sortKey===t.name?e.sortDir=e.sortDir===i?"desc":i:e.sortDir=i,e.sortKey=t.name})),p(n,d["e"].UPDATE_DATATABLE_NAV,(function(e,t){t.forEach((function(t){e.filtersNav.forEach((function(e){e.name===t.name&&(e.number=t.number)}))}))})),p(n,d["e"].PUBLISH_DATATABLE,(function(e,t){var i=t.id,n=t.value;function a(t){t>=0&&(e.data[t].published="toggle"===n?!e.data[t].published:n)}function r(t){return e.data.findIndex((function(e,i){return e.id===t}))}if(Array.isArray(i))i.forEach((function(e){var t=r(e);a(t)})),e.bulk=[];else{var s=r(i);a(s)}})),p(n,d["e"].FEATURE_DATATABLE,(function(e,t){var i=t.id,n=t.value;function a(t){t>=0&&(e.data[t].featured="toggle"===n?!e.data[t].featured:n)}function r(t){return e.data.findIndex((function(e,i){return e.id===t}))}if(Array.isArray(i))i.forEach((function(e){var t=r(e);a(t)})),e.bulk=[];else{var s=r(i);a(s)}})),p(n,d["e"].UPDATE_DATATABLE_LOADING,(function(e,t){e.loading=!e.loading})),p(n,d["e"].UPDATE_DATATABLE_NESTED,(function(e,t){m(e.data,t.parentId,(function(e){e.children=t.val}))})),p(n,d["e"].UPDATE_DATATABLE_TRACKER,(function(e,t){e.updateTracker=t?e.updateTracker+1:0})),n),y=(a={},p(a,f["a"].GET_DATATABLE,(function(e){var t=e.commit,i=e.state,n=e.getters;if(!i.loading){t(d["e"].UPDATE_DATATABLE_LOADING,!0);var a={sortKey:i.sortKey,sortDir:i.sortDir,page:i.page,offset:i.offset,columns:n.visibleColumnsNames,filter:i.filter};u.get(a,(function(e){t(d["e"].UPDATE_DATATABLE_DATA,e.data),t(d["e"].UPDATE_DATATABLE_MAXPAGE,e.maxPage),t(d["e"].UPDATE_DATATABLE_NAV,e.nav),t(d["e"].UPDATE_DATATABLE_LOADING,!1)}))}})),p(a,f["a"].SET_DATATABLE_NESTED,(function(e){var t=e.commit,i=e.state,n=(e.dispatch,b(i.data));u.reorder(n,(function(e){t(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant})}))})),p(a,f["a"].SET_DATATABLE,(function(e){var t=e.commit,i=e.state,n=(e.dispatch,i.data.map((function(e){return e.id})));u.reorder(n,(function(e){t(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant})}))})),p(a,f["a"].TOGGLE_PUBLISH,(function(e,t){var i=e.commit,n=(e.state,e.dispatch);u.togglePublished(t,(function(e){i(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant}),n(f["a"].GET_DATATABLE)}),(function(e){i(d["j"].SET_NOTIF,{message:e.data.error.message,variant:"error"})}))})),p(a,f["a"].DELETE_ROW,(function(e,t){var i=e.commit,n=(e.state,e.dispatch);u.delete(t,(function(e){i(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant}),n(f["a"].GET_DATATABLE)}))})),p(a,f["a"].DUPLICATE_ROW,(function(e,t){var i=e.commit;e.state,e.dispatch;u.duplicate(t,(function(e){i(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant}),e.data.hasOwnProperty("redirect")&&window.location.replace(e.data.redirect)}))})),p(a,f["a"].RESTORE_ROW,(function(e,t){var i=e.commit,n=(e.state,e.dispatch);u.restore(t,(function(e){i(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant}),n(f["a"].GET_DATATABLE)}))})),p(a,f["a"].DESTROY_ROW,(function(e,t){var i=e.commit,n=(e.state,e.dispatch);u.destroy(t,(function(e){i(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant}),n(f["a"].GET_DATATABLE)}))})),p(a,f["a"].BULK_PUBLISH,(function(e,t){var i=e.commit,n=e.state,a=e.dispatch;u.bulkPublish({ids:n.bulk.join(),toPublish:t.toPublish},(function(e){i(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant}),a(f["a"].GET_DATATABLE)}))})),p(a,f["a"].TOGGLE_FEATURE,(function(e,t){var i=e.commit;e.state;u.toggleFeatured(t,(function(e){i(d["e"].FEATURE_DATATABLE,{id:t.id,value:"toggle"}),i(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant})}))})),p(a,f["a"].BULK_FEATURE,(function(e,t){var i=e.commit,n=e.state;u.bulkFeature({ids:n.bulk.join(),toFeature:t.toFeature},(function(e){i(d["e"].FEATURE_DATATABLE,{id:n.bulk,value:!0}),i(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant})}))})),p(a,f["a"].BULK_DELETE,(function(e){var t=e.commit,i=e.state,n=e.dispatch;u.bulkDelete(i.bulk.join(),(function(e){t(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant}),n(f["a"].GET_DATATABLE)}))})),p(a,f["a"].BULK_RESTORE,(function(e){var t=e.commit,i=e.state,n=e.dispatch;u.bulkRestore(i.bulk.join(),(function(e){t(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant}),n(f["a"].GET_DATATABLE)}))})),p(a,f["a"].BULK_DESTROY,(function(e){var t=e.commit,i=e.state,n=e.dispatch;u.bulkDestroy(i.bulk.join(),(function(e){t(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant}),n(f["a"].GET_DATATABLE)}))})),a);t["a"]={state:g,getters:v,actions:y,mutations:_}},b0ae2:function(e,t,i){"use strict";var n=i("a062"),a=i.n(n);a.a},b171:function(e,t,i){"use strict";i("78ad");var n=i("a026"),a=i("bfa9"),r=function(){var e=!1,t=!1,i=0,n=document.documentElement,r=document.querySelector("[data-header-mobile]"),s=document.querySelector(".ham"),o=document.querySelectorAll("[data-ham-btn]"),l=document.querySelectorAll("[data-closenav-btn]"),c=document.querySelector(".a17"),u="s--nav";function d(){return!e&&(!t&&(e=!0,i=window.pageYOffset,n.classList.add(u),c.style.top="-"+i+"px",s.style.top="-"+i+"px",r.style.top="-"+i+"px",document.addEventListener("keydown",h,!1),t=!0,void(e=!1)))}function f(){return!e&&(!!t&&(e=!0,n.classList.remove(u),c.style.top="",s.style.top="",r.style.top="",document.removeEventListener("keydown",h,!1),window.scrollTo(0,i),i=0,t=!1,void(e=!1)))}function h(e){27===e.keyCode&&t&&f()}o.length&&Object(a["a"])(o,(function(e){e.addEventListener("click",(function(i){t?f():d(),e.blur()}))})),l.length&&Object(a["a"])(l,(function(e){e.addEventListener("click",(function(i){t&&f(),e.blur()}))}))},s=r,o=i("b047"),l=i.n(o),c=function(){var e=0,t=!1,i=167,n=document.documentElement,a="s--env";function r(){e=window.pageYOffset,t||window.requestAnimationFrame((function(){s()})),t=!0}function s(){e>i?n.classList.add(a):n.classList.remove(a),t=!1}window.addEventListener("scroll",(function(){r()})),window.addEventListener("resize",l()((function(){r()}))),r()},u=c,d=i("878a"),f=i("42454"),h=i.n(f),p=function(){s(),u()};window["TWILL"]||(window["TWILL"]={}),window["TWILL"].vheader=new n["a"]({el:"#headerUser"}),window["TWILL"].vsearch=d["a"],console.log("[32m","Made with ".concat("TWILL"," - v").concat(window["TWILL"].version)),h()(window["TWILL"].STORE,window.STORE);t["a"]=p},b487:function(e,t,i){},b773:function(e,t,i){"use strict";var n=i("8f79"),a=i.n(n);a.a},ba21:function(e,t,i){"use strict";var n=i("e6ea"),a=i.n(n);a.a},ba26:function(e,t,i){},ba2c:function(e,t,i){"use strict";var n=i("34a6"),a=i.n(n);a.a},bb7b:function(e,t,i){},bc48:function(e,t,i){},be93:function(e,t,i){},bfa9:function(e,t,i){"use strict";t["a"]=function(e,t,i){for(var n=0;n<e.length;n++)t.call(i,e[n],n)}},c234:function(e,t,i){},c292:function(e,t,i){},c391:function(e,t,i){"use strict";var n=i("d545"),a=i.n(n);a.a},c397:function(e,t,i){"use strict";var n=i("892e"),a=i.n(n);a.a},c5ec:function(e,t,i){"use strict";var n,a=i("0429");function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s={all:window["TWILL"].STORE.languages.all||[],initialAll:window["TWILL"].STORE.languages.all||[],active:window["TWILL"].STORE.languages.active||window["TWILL"].STORE.languages.all[0]||{}},o={publishedLanguages:function(e){return e.all.filter((function(e){return e.published}))}},l=(n={},r(n,a["g"].SWITCH_LANG,(function(e,t){var i=t.oldValue;function n(e){return e.value===i.value}var a=e.all.findIndex(n),r=a<e.all.length-1?a+1:0;e.active=e.all[r]})),r(n,a["g"].UPDATE_LANG,(function(e,t){function i(e){return e.value===t}var n=e.all.findIndex(i);e.active=e.all[n]})),r(n,a["g"].PUBLISH_LANG,(function(e,t){e.all.forEach((function(e){e.published=!!t.includes(e.value)}))})),r(n,a["g"].PUBLISH_SINGLE_LANG,(function(e,t){function i(e){return e.value===t}var n=e.all.findIndex(i);e.all[n].published=!e.all[n].published})),r(n,a["g"].REPLACE_LANGUAGES,(function(e,t){e.all=t})),r(n,a["g"].RESET_LANGUAGES,(function(e){e.all=e.initialAll})),n);t["a"]={state:s,getters:o,mutations:l}},c7d5:function(e,t,i){},c828:function(e,t,i){},c917:function(e,t,i){},cc98:function(e,t,i){},ce72:function(e,t,i){"use strict";var n,a,r=i("bc3a"),s=i.n(r),o=i("727d"),l="FORM",c={get:function(e,t,i){s.a.get(e).then((function(e){t&&"function"===typeof t&&t(e)}),(function(e){var t={message:"Get request error.",value:e};Object(o["a"])(l,t),i&&"function"===typeof i&&i(e)}))},post:function(e,t,i,n){s.a.post(e,t).then((function(e){i&&"function"===typeof i&&i(e)}),(function(e){var t={message:"Post request error.",value:e};Object(o["a"])(l,t),n&&"function"===typeof n&&n(e)}))},put:function(e,t,i,n){s.a.put(e,t).then((function(e){i&&"function"===typeof i&&i(e)}),(function(e){var t={message:"Save request error.",value:e};Object(o["a"])(l,t),n&&"function"===typeof n&&n(e)}))}},u=i("9170"),d=i("0429"),f=i("f1af");function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var p=function(e,t){return e.findIndex((function(e){return e.name===t.name}))},m={loading:!1,type:"save",baseUrl:window["TWILL"].STORE.form.baseUrl||"",fields:window["TWILL"].STORE.form.fields||[],modalFields:[],saveUrl:window["TWILL"].STORE.form.saveUrl||"",previewUrl:window["TWILL"].STORE.form.previewUrl||"",restoreUrl:window["TWILL"].STORE.form.restoreUrl||"",blockPreviewUrl:window["TWILL"].STORE.form.blockPreviewUrl||"",errors:{},isCustom:window["TWILL"].STORE.form.isCustom||!1,reloadOnSuccess:window["TWILL"].STORE.form.reloadOnSuccess||!1},b={fieldsByName:function(e){return function(t){return e.fields.filter((function(e){return e.name===t}))}},fieldValueByName:function(e,t){return function(e){return t.fieldsByName(e).length?t.fieldsByName(e)[0].value:""}},modalFieldsByName:function(e){return function(t){return e.modalFields.filter((function(e){return e.name===t}))}},modalFieldValueByName:function(e,t){return function(e){return t.modalFieldsByName(e).length?t.modalFieldsByName(e)[0].value:""}}},g=(n={},h(n,d["f"].UPDATE_FORM_PERMALINK,(function(e,t){t&&""!==t&&(e.permalink=t)})),h(n,d["f"].EMPTY_FORM_FIELDS,(function(e,t){e.fields=[]})),h(n,d["f"].REPLACE_FORM_FIELDS,(function(e,t){e.fields=t})),h(n,d["f"].UPDATE_FORM_FIELD,(function(e,t){var i=t.locale?{}:null,n=p(e.fields,t);-1!==n&&(t.locale&&(i=e.fields[n].value),e.fields.splice(n,1)),t.locale?i[t.locale]=t.value:i=t.value,e.fields.push({name:t.name,value:i})})),h(n,d["f"].REMOVE_FORM_FIELD,(function(e,t){e.fields.forEach((function(i,n){i.name===t&&e.fields.splice(n,1)}))})),h(n,d["f"].EMPTY_MODAL_FIELDS,(function(e,t){e.modalFields=[]})),h(n,d["f"].REPLACE_MODAL_FIELDS,(function(e,t){e.modalFields=t})),h(n,d["f"].UPDATE_MODAL_FIELD,(function(e,t){var i=t.locale?{}:null,n=p(e.modalFields,t);-1!==n&&(t.locale&&(i=e.modalFields[n].value),e.modalFields.splice(n,1)),t.locale?i[t.locale]=t.value:i=t.value,e.modalFields.push({name:t.name,value:i})})),h(n,d["f"].REMOVE_MODAL_FIELD,(function(e,t){e.modalFields.forEach((function(i,n){i.name===t&&e.modalFields.splice(n,1)}))})),h(n,d["f"].UPDATE_FORM_LOADING,(function(e,t){e.loading=t||!e.loading})),h(n,d["f"].SET_FORM_ERRORS,(function(e,t){e.errors=t})),h(n,d["f"].CLEAR_FORM_ERRORS,(function(e){e.errors=[]})),h(n,d["f"].UPDATE_FORM_SAVE_TYPE,(function(e,t){e.type=t})),n),v=(a={},h(a,f["a"].REPLACE_FORM,(function(e,t){var i=e.commit;e.state,e.getters,e.rootState;return new Promise((function(e,n){i(d["f"].CLEAR_FORM_ERRORS),i(d["j"].CLEAR_NOTIF,"error"),c.get(t,(function(t){i(d["f"].UPDATE_FORM_LOADING,!1);var n=t.data;n.hasOwnProperty("languages")&&(i(d["g"].REPLACE_LANGUAGES,n.languages),delete n.languages),n.hasOwnProperty("revisions")&&(i(d["n"].UPDATE_REV_ALL,n.revisions),delete n.revisions),i(d["f"].REPLACE_FORM_FIELDS,n.fields),e()}),(function(e){i(d["f"].UPDATE_FORM_LOADING,!1),i(d["f"].SET_FORM_ERRORS,e.response.data),n(e)}))}))})),h(a,f["a"].UPDATE_FORM_IN_LISTING,(function(e,t){var i=e.commit,n=(e.state,e.getters,e.rootState);return new Promise((function(e,a){i(d["f"].CLEAR_FORM_ERRORS),i(d["j"].CLEAR_NOTIF,"error");var r=Object.assign(Object(u["c"])(n),{languages:n.language.all});c[t.method](t.endpoint,r,(function(n){i(d["f"].UPDATE_FORM_LOADING,!1),n.data.hasOwnProperty("redirect")&&t.redirect&&window.location.replace(n.data.redirect),i(d["j"].SET_NOTIF,{message:n.data.message,variant:n.data.variant}),e()}),(function(e){i(d["f"].UPDATE_FORM_LOADING,!1),i(d["f"].SET_FORM_ERRORS,e.response.data),i(d["j"].SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"}),a(e)}))}))})),h(a,f["a"].CREATE_FORM_IN_MODAL,(function(e,t){var i=e.commit,n=(e.state,e.getters,e.rootState);return new Promise((function(e,a){i(d["f"].CLEAR_FORM_ERRORS),i(d["j"].CLEAR_NOTIF,"error");var r=Object.assign(Object(u["d"])(n),{languages:n.language.all});c[t.method](t.endpoint,r,(function(n){i(d["f"].UPDATE_FORM_LOADING,!1),i(d["a"].UPDATE_OPTIONS,{name:t.name,options:n.data}),e()}),(function(e){i(d["f"].UPDATE_FORM_LOADING,!1),i(d["f"].SET_FORM_ERRORS,e.response.data),i(d["j"].SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"}),a(e)}))}))})),h(a,f["a"].SAVE_FORM,(function(e,t){var i=e.commit,n=e.state,a=(e.getters,e.rootState);i(d["f"].CLEAR_FORM_ERRORS),i(d["j"].CLEAR_NOTIF,"error"),i(d["f"].UPDATE_FORM_SAVE_TYPE,t);var r=Object(u["b"])(a);c.put(n.saveUrl,r,(function(e){i(d["f"].UPDATE_FORM_LOADING,!1),e.data.hasOwnProperty("redirect")&&window.location.replace(e.data.redirect),n.reloadOnSuccess&&window.location.reload(),i(d["j"].SET_NOTIF,{message:e.data.message,variant:e.data.variant}),i(d["m"].UPDATE_PUBLISH_SUBMIT),e.data.hasOwnProperty("revisions")&&i(d["n"].UPDATE_REV_ALL,e.data.revisions)}),(function(e){i(d["f"].UPDATE_FORM_LOADING,!1),i(d["f"].SET_FORM_ERRORS,e.response.data),i(d["j"].SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"})}))})),a);t["a"]={state:m,getters:b,mutations:g,actions:v}},cf05:function(e,t,i){"use strict";var n=i("aeaa"),a=i.n(n);a.a},cf06:function(e,t,i){},cfc1:function(e,t,i){"use strict";var n=i("6f52"),a=i.n(n);a.a},d545:function(e,t,i){},d557:function(e,t,i){},d675:function(e,t,i){"use strict";i.d(t,"d",(function(){return n})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return r})),i.d(t,"c",(function(){return s}));var n="saveSelectedItems",a="destroyAllItems",r="destroySelectedItem",s="reorderSelectedItems",o="updateBrowserMax",l="updateBrowserTitle",c="updateBrowserConnector",u="destroyBrowserConnector",d="updateBrowserEndpoint",f="updateBrowserEndpoints",h="destroyBrowserEndpoint",p="destroyBrowserEndpoints";t["e"]={SAVE_ITEMS:n,DESTROY_ITEMS:a,DESTROY_ITEM:r,REORDER_ITEMS:s,UPDATE_BROWSER_MAX:o,UPDATE_BROWSER_TITLE:l,UPDATE_BROWSER_CONNECTOR:c,DESTROY_BROWSER_CONNECTOR:u,UPDATE_BROWSER_ENDPOINT:d,DESTROY_BROWSER_ENDPOINT:h,UPDATE_BROWSER_ENDPOINTS:f,DESTROY_BROWSER_ENDPOINTS:p}},da1e:function(e,t,i){},da6f:function(e,t,i){"use strict";t["a"]={props:{autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},name:{default:""},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"on"}}}},dc8f:function(e,t,i){"use strict";var n=i("ecf1"),a=i.n(n);a.a},df63:function(e,t,i){"use strict";var n=i("2f62");function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t["a"]={props:{items:{type:Array,default:function(){return[]}},selectedItems:{type:Array,default:function(){return[]}},usedItems:{type:Array,default:function(){return[]}}},computed:r({},Object(n["c"])({itemsLoading:function(e){return e.mediaLibrary.loading}})),methods:{isSelected:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id"];return Boolean(this.selectedItems.find((function(i){return t.every((function(t){return i[t]===e[t]}))})))},isUsed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id"];return Boolean(this.usedItems.find((function(i){return t.every((function(t){return i[t]===e[t]}))})))},toggleSelection:function(e){this.$emit("change",e)},shiftToggleSelection:function(e){this.$emit("shiftChange",e,!0)}}}},e2c4:function(e,t,i){"use strict";var n=i("abfb"),a=i.n(n);a.a},e45c:function(e,t,i){"use strict";var n=i("8268"),a=i.n(n);a.a},e6ea:function(e,t,i){},eb13:function(e,t,i){},ecf1:function(e,t,i){},ed28:function(e,t,i){"use strict";var n=i("2f62");function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t["a"]={props:{name:{type:String,default:""},addNew:{type:String,default:""},options:{type:Array,default:function(){return[]}}},computed:r({fullOptions:function(){var e=this.optionsByName(this.name),t=this.options;return Array.isArray(e)&&e.forEach((function(e){var i=t.findIndex((function(t){return t.value===e.value}));-1===i&&t.push(e)})),e.length?t:this.options}},Object(n["b"])(["optionsByName"]))}},f03e:function(e,t,i){"use strict";function n(e){var t=e.length;return e.reduce((function(e,i,n){return e+(n-1===t?", ":" and ")+i}))}t["a"]={props:{label:{type:String,default:""},labelFor:{type:String,default:""},size:{type:String,default:"large"},note:{type:String,default:""}},computed:{errorKey:function(){return this.hasLocale?this.name.replace("[",".").replace("]",""):this.name},errorLocales:function(){if(!this.hasLocale)return[];var e=this.errorKey.substr(0,this.errorKey.indexOf(".")),t=[];return Object.keys(this.$store.state.form.errors).forEach((function(i){i.substr(0,i.indexOf("."))===e&&t.push(i.substr(i.indexOf(".")+1,i.length))}),[]),t},otherLocalesError:function(){var e=this;return this.errorLocales.filter((function(t){return t!==e.currentLocale.value})).length},errorMessageLocales:function(){var e=this;return n(this.errorLocales.map((function(t){return e.languages.find((function(e){return e.value===t})).label})))+" language"+(this.errorLocales.length>1?"s":"")+" missing details."},errorMessage:function(){var e=this.error?this.$store.state.form.errors[this.errorKey][0]:"";return e.endsWith("is required.")&&!this.errorKey.startsWith("block")?"":e},error:function(){return!!this.$store.state.form&&Object.keys(this.$store.state.form.errors).includes(this.errorKey)}}}},f0f8:function(e,t,i){"use strict";t["a"]={props:{name:{type:String,required:!0},isOpen:{type:Boolean,default:!1}},data:function(){return{opened:this.isOpen}},methods:{open:function(){this.opened=!0},fieldName:function(e){return this.name+"["+e+"]"},repeaterName:function(e){return this.name.replace("[","-").replace("]","")+"_"+e}}}},f1af:function(e,t,i){"use strict";var n="getBucketsData",a="saveBuckets",r="getDatatableDatas",s="setDatatableNestedDatas",o="setDatatableDatas",l="togglePublishedData",c="deleteData",u="duplicateData",d="restoreData",f="destroyData",h="toggleFeaturedData",p="bulkPublishData",m="bulkFeatureData",b="bulkExportData",g="bulkDeleteData",v="bulkRestoreData",_="bulkDestroyData",y="replaceFormData",w="saveFormData",O="updateFormInListing",E="createFormInModal",T="getAllPreviews",C="getPreview",A="getRevisionContent",D="getCurrentContent";t["a"]={GET_BUCKETS:n,SAVE_BUCKETS:a,GET_DATATABLE:r,SET_DATATABLE_NESTED:s,SET_DATATABLE:o,TOGGLE_PUBLISH:l,DELETE_ROW:c,DUPLICATE_ROW:u,RESTORE_ROW:d,DESTROY_ROW:f,TOGGLE_FEATURE:h,BULK_PUBLISH:p,BULK_FEATURE:m,BULK_EXPORT:b,BULK_DELETE:g,BULK_RESTORE:v,BULK_DESTROY:_,REPLACE_FORM:y,SAVE_FORM:w,UPDATE_FORM_IN_LISTING:O,CREATE_FORM_IN_MODAL:E,GET_ALL_PREVIEWS:T,GET_PREVIEW:C,GET_REVISION:A,GET_CURRENT:D}},f389:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"browser"},[i("div",{staticClass:"browser__frame"},[i("div",{ref:"form",staticClass:"browser__header"},[e.multiSources?i("div",{staticClass:"browser__sources"},[i("a17-vselect",{staticClass:"browser__sources-select",attrs:{name:"sources",selected:e.currentEndpoint,options:e.endpoints,required:!0},on:{change:e.changeBrowserSource}})],1):e._e(),i("div",{staticClass:"browser__search"},[i("a17-filter",{on:{submit:e.submitFilter}})],1)]),i("div",{staticClass:"browser__inner"},[i("div",{ref:"list",staticClass:"browser__list"},[i("a17-itemlist",{attrs:{items:e.fullItems,keysToCheck:["id","edit"],selectedItems:e.selectedItems},on:{change:e.updateSelectedItems}})],1)]),i("div",{staticClass:"browser__footer"},[i("a17-button",{attrs:{type:"button",variant:"action"},on:{click:e.saveAndClose}},[e._v(e._s(e.browserTitle))]),i("span",{staticClass:"browser__size-infos"},[e._v(e._s(e.selectedItems.length)+" / "+e._s(e.max))])],1)])])},a=[],r=i("2f62"),s=i("0429"),o=i("5d16"),l=i("1800"),c=i("4fee");function u(e){return h(e)||f(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function h(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){b(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var g={name:"A17Browser",components:{"a17-filter":o["a"],"a17-itemlist":l["a"]},props:{btnLabel:{type:String,default:"Insert"},btnMultiLabel:{type:String,default:"Insert files"},initialPage:{type:Number,default:1}},data:function(){return{maxPage:20,fullItems:[],listHeight:0,page:this.initialPage}},computed:m({currentEndpoint:function(){var e=this;return this.endpoints.find((function(t){return t.value===e.endpoint}))},multiSources:function(){return this.endpoints.length>0},selectedItems:{get:function(){return this.selected[this.connector]||[]},set:function(e){this.$store.commit(s["b"].SAVE_ITEMS,e)}}},Object(r["c"])({connector:function(e){return e.browser.connector},max:function(e){return e.browser.max},endpoint:function(e){return e.browser.endpoint},endpointName:function(e){return e.browser.endpointName},endpoints:function(e){return e.browser.endpoints},browserTitle:function(e){return e.browser.title},selected:function(e){return e.browser.selected}})),methods:{updateSelectedItems:function(e){var t=this.multiSources?["id","endpointType"]:["id"],i=this.fullItems.some((function(i){return t.every((function(t){return i[t]===e[t]}))}));if(i){var n=this.selectedItems.some((function(i){return t.every((function(t){return i[t]===e[t]}))}));if(n){var a=this.selectedItems.findIndex((function(i){return t.every((function(t){return i[t]===e[t]}))}));if(a<0)return;var r=u(this.selectedItems);r.splice(a,1),this.selectedItems=r}else{if(1===this.max&&this.clearSelectedItems(),this.selectedItems.length>=this.max&&this.max>0)return;this.selectedItems=[].concat(u(this.selectedItems),[e])}}},getFormData:function(e){var t=Object(c["a"])(e);return t?t.page=this.page:t={page:this.page},t},clearSelectedItems:function(){this.selectedItems=[]},clearFullItems:function(){this.fullItems.splice(0)},reloadList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.page=1);var i=this.$refs.form,n=this.$refs.list,a=this.getFormData(i);this.$http.get(this.endpoint,{params:a}).then((function(i){var a;t&&e.clearFullItems(),(a=e.fullItems).push.apply(a,u(i.data.data)),e.$nextTick((function(){e.listHeight!==n.scrollHeight&&(e.listHeight=n.scrollHeight,n.addEventListener("scroll",e.scrollToPaginate))}))}),(function(e){}))},submitFilter:function(){this.page=1,this.clearFullItems(),this.reloadList()},scrollToPaginate:function(){var e=this.$refs.list;e.scrollTop+e.clientHeight>this.listHeight-10&&(e.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page&&(this.page=this.page+1,this.reloadList()))},saveAndClose:function(){this.$store.commit(s["b"].SAVE_ITEMS,this.selectedItems),this.$parent.close()},changeBrowserSource:function(e){this.$store.commit(s["b"].UPDATE_BROWSER_ENDPOINT,e),this.reloadList(!0)}},mounted:function(){this.reloadList()}},v=g,_=(i("6b35"),i("cf05"),i("2877")),y=Object(_["a"])(v,n,a,!1,null,"0b9ed432",null);t["a"]=y.exports},f451:function(e,t,i){"use strict";var n,a=i("a026"),r=i("0429");function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o={options:{}},l={optionsByName:function(e){return function(t){return e.options[t]||[]}}},c=(n={},s(n,r["a"].EMPTY_OPTIONS,(function(e,t){e.options[t]&&a["a"].delete(e.options,t)})),s(n,r["a"].UPDATE_OPTIONS,(function(e,t){var i=t.name,n=t.options,r=[];e.options[i]&&(r=e.options[i],a["a"].delete(e.options,i)),Array.isArray(n)&&n.forEach((function(e){var t=r.findIndex((function(t){return t.value===e.value}));-1===t&&r.push(e)})),a["a"].set(e.options,i,r)})),n),u={};t["a"]={state:o,getters:l,mutations:c,actions:u}},f880:function(e,t,i){"use strict";var n=i("45e0"),a=i.n(n);a.a},f899:function(e,t,i){"use strict";var n=i("cc98"),a=i.n(n);a.a},f8c8:function(e,t,i){},f930:function(e,t,i){"use strict";function n(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}function a(e,t){var i="";n()?localStorage.setItem(e,t):document.cookie=e+"="+t+i+"; path=/"}function r(e){if(n())return localStorage.getItem(e);for(var t=e+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){var r=i[a];while(" "===r.charAt(0))r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return r}))},f99e:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("9788"),a=i("5589"),r=i("9aba"),s=i("d675"),o=[n["g"],n["f"],n["d"],n["a"],n["b"],n["c"],n["e"],n["h"],r["a"],a["e"],a["f"],a["d"],a["a"],a["b"],a["c"],s["d"],s["b"],s["a"],s["c"]]},fa4a:function(e,t,i){"use strict";var n=i("442c"),a=i.n(n);a.a},fc07:function(e,t,i){},ffb1:function(e,t,i){}}]);