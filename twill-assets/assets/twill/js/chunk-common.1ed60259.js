(self["webpackChunk_area17_twill"]=self["webpackChunk_area17_twill"]||[]).push([[64],{9827:function(t){function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=9827,t.exports=e},9927:function(t,e,n){var i={"./BlockEditorItem.vue":586,"./BlockEditorModel.js":6214,"./BlockImage.vue":4718,"./BlockTable.vue":9223,"./BlockTitle.vue":7495,"./BlockWysiwyg.vue":3621,"./Blocks.vue":8398,"./BlocksList.js":139};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=9927},9764:function(t){function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=9764,t.exports=e},3848:function(t,e,n){var i={"./EditorIframe.vue":9328};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=3848},2279:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{class:t.avatarClasses},[t.thumbnail?e("img",{attrs:{src:t.thumbnail,alt:t.name}}):t._e(),e("span",{staticClass:"avatar__letter"},[t._v(t._s(t.nameFirstLetter))])])},r=[],o={name:"A17Avatar",props:{name:{type:String,default:null},thumbnail:{type:String,default:null}},computed:{avatarClasses:function(){return["avatar",this.getBackgroundColor]},getBackgroundColor:function(){var t=["orange","blue","purple","red"],e=this.name.length%t.length;return"avatar--background-".concat(t[e])},nameFirstLetter:function(){return this.name.charAt(0)}}},a=o,s=n(1001),l=(0,s.Z)(a,i,r,!1,null,"44a53510",null),u=l.exports},5989:function(t,e,n){"use strict";n.d(e,{Z:function(){return T}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"browser"},[e("div",{staticClass:"browser__frame"},[e("div",{ref:"form",staticClass:"browser__header"},[t.multiSources?e("div",{staticClass:"browser__sources"},[e("a17-vselect",{staticClass:"browser__sources-select",attrs:{name:"sources",selected:t.currentEndpoint,options:t.endpoints,required:!0},on:{change:t.changeBrowserSource}})],1):t._e(),e("div",{staticClass:"browser__search"},[e("a17-filter",{on:{submit:t.submitFilter}},[t.browserNote?e("div",{attrs:{slot:"additional-actions"},slot:"additional-actions"},[e("span",{staticClass:"browser__note f--small"},[t._v(" "+t._s(t.browserNote)+" ")])]):t._e()])],1)]),e("div",{staticClass:"browser__inner"},[e("div",{ref:"list",staticClass:"browser__list"},[e("a17-itemlist",{attrs:{items:t.fullItems,keysToCheck:["id","edit"],selectedItems:t.selectedItems},on:{change:t.updateSelectedItems}})],1)]),e("div",{staticClass:"browser__footer"},[e("a17-button",{attrs:{type:"button",variant:"action"},on:{click:t.saveAndClose}},[t._v(t._s(t.browserTitle))]),e("span",{staticClass:"browser__size-infos"},[t._v(t._s(t.selectedItems.length)+" / "+t._s(t.max))])],1)])])},r=[],o=n(629),a=n(4622),s=n(5573),l=n(7713),u=n(1385);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function d(t){return m(t)||h(t)||p(t)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,e){if(t){if("string"===typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}function h(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function m(t){if(Array.isArray(t))return b(t)}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e=_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=w(t,"string");return"symbol"===c(e)?e:String(e)}function w(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var O={name:"A17Browser",components:{"a17-filter":l.Z,"a17-itemlist":u.Z},props:{btnLabel:{type:String,default:"Insert"},btnMultiLabel:{type:String,default:"Insert files"},initialPage:{type:Number,default:1}},data:function(){return{maxPage:20,fullItems:[],listHeight:0,page:this.initialPage}},computed:v({currentEndpoint:function(){var t=this;return this.endpoints.find((function(e){return e.value===t.endpoint}))},multiSources:function(){return this.endpoints.length>0},selectedItems:{get:function(){return this.selected[this.connector]||[]},set:function(t){this.$store.commit(a.Uv.SAVE_ITEMS,t)}}},(0,o.rn)({connector:function(t){return t.browser.connector},max:function(t){return t.browser.max},endpoint:function(t){return t.browser.endpoint},endpointName:function(t){return t.browser.endpointName},endpoints:function(t){return t.browser.endpoints},browserTitle:function(t){return t.browser.title},browserNote:function(t){return t.browser.note},selected:function(t){return t.browser.selected}})),methods:{updateSelectedItems:function(t){var e=this.multiSources?["id","endpointType"]:["id"],n=this.fullItems.some((function(n){return e.every((function(e){return n[e]===t[e]}))}));if(n){var i=this.selectedItems.some((function(n){return e.every((function(e){return n[e]===t[e]}))}));if(i){var r=this.selectedItems.findIndex((function(n){return e.every((function(e){return n[e]===t[e]}))}));if(r<0)return;var o=d(this.selectedItems);o.splice(r,1),this.selectedItems=o}else{if(1===this.max&&this.clearSelectedItems(),this.selectedItems.length>=this.max&&this.max>0)return;this.selectedItems=[].concat(d(this.selectedItems),[t])}}},getFormData:function(t){var e=(0,s.Z)(t);return e?e.page=this.page:e={page:this.page},e},clearSelectedItems:function(){this.selectedItems=[]},clearFullItems:function(){this.fullItems.splice(0)},reloadList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.page=1);var n=this.$refs.form,i=this.$refs.list,r=this.getFormData(n);this.$http.get(this.endpoint,{params:r}).then((function(n){var r;e&&t.clearFullItems(),(r=t.fullItems).push.apply(r,d(n.data.data)),t.$nextTick((function(){t.listHeight!==i.scrollHeight&&(t.listHeight=i.scrollHeight,i.addEventListener("scroll",t.scrollToPaginate))}))}),(function(t){}))},submitFilter:function(){this.page=1,this.clearFullItems(),this.reloadList()},scrollToPaginate:function(){var t=this.$refs.list;t.scrollTop+t.clientHeight>this.listHeight-10&&(t.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page&&(this.page=this.page+1,this.reloadList()))},saveAndClose:function(){this.$store.commit(a.Uv.SAVE_ITEMS,this.selectedItems),this.$parent.close()},changeBrowserSource:function(t){this.$store.commit(a.Uv.UPDATE_BROWSER_ENDPOINT,t),this.reloadList(!0)}},mounted:function(){this.reloadList()}},E=O,S=n(1001),k=(0,S.Z)(E,i,r,!1,null,"0de50c6f",null),T=k.exports},7352:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown",class:t.dropdownClasses,attrs:{"aria-title":t.title}},[t.fixed?e("div",{ref:"dropdown__cta"},[t._t("default")],2):t._t("default"),e("transition",{attrs:{name:"fade_move_dropdown"}},[t.active?e("div",{ref:"dropdown__position",staticClass:"dropdown__position"},[e("div",{staticClass:"dropdown__content",style:t.offsetStyle,attrs:{"data-dropdown-content":""}},[e("div",{staticClass:"dropdown__inner"},[t.arrow?e("span",{staticClass:"dropdown__arrow"}):t._e(),e("div",{staticClass:"dropdown__scroller",style:t.innerStyle},[t.title?e("span",{staticClass:"dropdown__title f--small"},[t._v(t._s(t.title))]):t._e(),t._t("dropdown__content")],2)])])]):t._e()])],2)},r=[],o={name:"A17Dropdown",props:{title:{type:String,default:""},position:{type:String,default:"bottom"},width:{type:String,default:"auto"},maxWidth:{type:Number,default:300},maxHeight:{type:Number,default:0},minWidth:{type:Number,default:0},arrow:{type:Boolean,default:!1},clickable:{type:Boolean,default:!1},offset:{type:Number,default:5},sideOffset:{type:Number,default:0},fixed:{type:Boolean,default:!1}},data:function(){return{currentPosition:this.position,currentHeight:100,currentMaxWidth:this.maxWidth,active:!1,originScrollPostion:null,scrollOffset:75}},computed:{dropdownClasses:function(){return{"dropdown--active":this.active,"dropdown--arrow":this.arrow,"dropdown--bottom":this.isPosition("bottom"),"dropdown--top":this.isPosition("top"),"dropdown--left":this.isPosition("left"),"dropdown--right":this.isPosition("right"),"dropdown--center":this.isPosition("center"),"dropdown--full":"full"===this.width,"dropdown--fixed":this.fixed}},offsetStyle:function(){return{"margin-top":this.isPosition("bottom")?this.offset+"px":"","margin-bottom":this.isPosition("top")?this.offset+"px":"",transform:this.sideOffset?"translateX("+this.sideOffset+"px)":"","max-width":this.currentMaxWidth>0&&"full"!==this.width?this.currentMaxWidth+"px":"","min-width":this.minWidth>0?this.minWidth+"px":""}},innerStyle:function(){return{"max-height":this.maxHeight>0?this.maxHeight+"px":"",overflow:this.maxHeight>0?"hidden":"","overflow-y":this.maxHeight>0?"scroll":""}}},methods:{isPosition:function(t){return-1!==this.currentPosition.indexOf(t)},reposition:function(){var t=this.$el.getBoundingClientRect().top+this.$el.offsetHeight+window.pageYOffset+this.offset,e=this.$el.getBoundingClientRect().top+window.pageYOffset-this.offset,n=window.pageYOffset+window.innerHeight;this.currentPosition!==this.position&&(this.currentPosition=this.position),this.isPosition("bottom")?t+this.currentHeight>n&&(this.currentPosition=this.currentPosition.replace(/bottom/i,"top")):this.isPosition("top")&&e-this.currentHeight<window.pageYOffset&&(this.currentPosition=this.currentPosition.replace(/top/i,"bottom"))},getHeight:function(){this.currentHeight=this.$el.querySelector("[data-dropdown-content]")?this.$el.querySelector("[data-dropdown-content]").offsetHeight:100},setMaxWidth:function(){var t=this.$el.getBoundingClientRect();this.isPosition("left")?this.currentMaxWidth=this.maxWidth+t.left>window.innerWidth?window.innerWidth-t.left:this.maxWidth:this.isPosition("right")?this.currentMaxWidth=this.maxWidth+(window.innerWidth-t.right)>window.innerWidth?window.innerWidth-(window.innerWidth-t.right):this.maxWidth:this.currentMaxWidth=this.maxWidth>window.innerWidth?window.innerWidth:this.maxWidth},setFixedPosition:function(){var t=this.$refs.dropdown__cta.getBoundingClientRect();this.isPosition("top")?this.$refs.dropdown__position.style.bottom=Math.round(window.innerHeight-t.bottom+t.height)+"px":this.$refs.dropdown__position.style.top=Math.round(t.top+t.height)+"px",this.isPosition("left")?this.$refs.dropdown__position.style.left=Math.round(t.left)+"px":this.isPosition("right")?this.$refs.dropdown__position.style.right=Math.round(window.innerWidth-t.right)+"px":this.$refs.dropdown__position.style.left=Math.round(t.left+t.width/2)+"px"},closeFromDoc:function(t){var e=t.target;if("scroll"===t.type){if(this.$el.querySelector("[data-dropdown-content]").contains(e))return;var n=window.pageYOffset||document.documentElement.scrollTop;if(n>this.originScrollPostion-this.scrollOffset&&n<this.originScrollPostion+this.scrollOffset)return void this.setFixedPosition()}this.clickable?!this.$el.querySelector("[data-dropdown-content]").contains(e)&&this.clickable&&this.close():this.close()},open:function(t){var e=this;this.active||(document.body.click(),this.timer=setTimeout((function(){e.timer=null,e.active=!0,document.addEventListener("click",e.closeFromDoc,!1),document.addEventListener("touchend",e.closeFromDoc,!1),e.fixed&&(window.addEventListener("scroll",e.closeFromDoc,!0),e.originScrollPostion=window.pageYOffset||document.documentElement.scrollTop),e.$nextTick((function(){this.getHeight(),this.reposition(),this.setMaxWidth(),this.fixed&&this.setFixedPosition()})),e.$emit("open")}),1))},close:function(t){var e=this;if(this.active){if(clearTimeout(this.timer),document.removeEventListener("click",this.closeFromDoc,!0),document.removeEventListener("touchend",this.closeFromDoc,!0),this.fixed)return window.removeEventListener("scroll",this.closeFromDoc,!0),this.originScrollPostion=null,this.active=!1,void this.$emit("close");setTimeout((function(){e.active=!1,e.$emit("close")}),0)}},toggle:function(t){this.active?this.close():this.open()}}},a=o,s=n(1001),l=(0,s.Z)(a,i,r,!1,null,"a897d080",null),u=l.exports},7536:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"fieldset",class:t.visibilityClasses},[t.title?e("header",{staticClass:"fieldset__header",class:t.activeClasses},[t.activeToggle?e("h3",{attrs:{role:"button","aria-expanded":t.visible?"true":"false"},on:{click:t.onClickVisibility}},[t._v(t._s(t.title)+" "),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]):e("h3",[t._v(t._s(t.title))])]):e("header",{staticClass:"fieldset__header",class:t.activeClasses},[t._t("header")],2),e("div",{staticClass:"fieldset__content",attrs:{hidden:!t.visible||null,"aria-hidden":!t.visible||null}},[t._t("default")],2)])},r=[],o=n(9996),a={name:"A17Fieldset",mixins:[o.Z],props:{open:{type:Boolean,default:!0},title:{default:""},activeToggle:{type:Boolean,default:!0}},computed:{activeClasses:function(){return{"fieldset--hoverable":this.activeToggle}}}},s=a,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,"5e017f1a",null),c=u.exports},7713:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var i=function(){var t=this,e=t._self._c;return e("form",{ref:"form",staticClass:"filter",class:{"filter--opened":t.opened,"filter--single":!t.withNavigation,"filter--full":!t.withNavigation&&t.fullWidth,"filter--withHiddenFilters":t.withHiddenFilters},on:{submit:function(e){return e.preventDefault(),t.submitFilter.apply(null,arguments)}}},[e("div",{staticClass:"filter__inner"},[e("div",{staticClass:"filter__navigation"},[t._t("navigation")],2),e("div",{staticClass:"filter__search"},[e("input",{staticClass:"form__input form__input--small",attrs:{type:"search",name:"search",placeholder:t.placeholder},domProps:{value:t.searchValue},on:{input:t.onSearchInput}}),t.withHiddenFilters?e("a17-button",{staticClass:"filter__toggle",attrs:{variant:"ghost","aria-expanded":t.opened?"true":"false"},on:{click:t.toggleFilter}},[t._v(t._s(t.$trans("filter.toggle-label","Filter"))+" "),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]):t._e(),t._t("additional-actions"),e("button",{staticClass:"visually-hidden",attrs:{"aria-hidden":"true",type:"submit"}},[t._v(t._s(t.$trans("filter.apply-btn","Apply")))])],2)]),e("transition",{attrs:{css:!1,duration:275},on:{"before-enter":t.beforeEnter,enter:t.enter,"before-leave":t.beforeLeave,leave:t.leave}},[t.withHiddenFilters?e("div",{directives:[{name:"show",rawName:"v-show",value:t.opened,expression:"opened"}],ref:"more",staticClass:"filter__more",attrs:{"aria-hidden":!t.opened||null}},[e("div",{ref:"moreInner",staticClass:"filter__moreInner"},[t._t("hidden-filters"),e("a17-button",{attrs:{variant:"ghost",type:"submit"}},[t._v(t._s(t.$trans("filter.apply-btn","Apply")))]),t.clearOption?e("a17-button",{attrs:{variant:"ghost",type:"button"},on:{click:t.clear}},[t._v(t._s(t.$trans("filter.clear-btn","Clear")))]):t._e()],2)]):t._e()])],1)},r=[],o=n(3279),a=n.n(o),s=n(5573),l={name:"A17Filter",props:{initialSearchValue:{type:String,default:""},placeholder:{type:String,default:function(){return this.$trans("filter.search-placeholder","Search")}},closed:{type:Boolean,default:!1},clearOption:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},data:function(){return{openable:!this.closed,open:!1,withHiddenFilters:!0,withNavigation:!0,searchValue:this.initialSearchValue,transitionTimeout:null}},computed:{opened:function(){return this.open&&this.openable}},watch:{closed:function(){this.openable=!this.closed},initialSearchValue:function(){this.searchValue=this.initialSearchValue}},methods:{getHeight:function(){return this.$refs.moreInner.clientHeight},beforeEnter:function(t){t.style.height="0px",t.style.overflow="hidden"},enter:function(t,e){this.resetHeight(),this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.transitionTimeout=setTimeout((function(){t.style.overflow="visible"}),275),window.addEventListener("resize",this._resize,!1)},beforeLeave:function(t){this.transitionTimeout&&clearTimeout(this.transitionTimeout),this.resetHeight(),t.style.overflow="hidden",window.removeEventListener("resize",this._resize)},leave:function(t,e){t.style.height="0px"},toggleFilter:function(){this.openable=!0,this.open=!this.open},submitFilter:function(){var t=(0,s.Z)(this.$refs.form);this.$emit("submit",t)},onSearchInput:function(t){this.searchValue=t.target.value},clear:function(){this.searchValue="",this.$emit("clear")},resetHeight:function(){this.$refs.more&&(this.$refs.more.style.height=this.getHeight()+"px")},_resize:a()((function(){this.resetHeight()}),50)},beforeMount:function(){this.$slots.navigation||(this.withNavigation=!1),this.$slots["hidden-filters"]||(this.withHiddenFilters=!1)}},u=l,c=n(1001),d=(0,c.Z)(u,i,r,!1,null,"a04856e4",null),f=d.exports},1385:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"itemlist"},[e("table",{staticClass:"itemlist__table"},[e("tbody",[t._l(t.itemsLoading,(function(n,i){return e("tr",{directives:[{name:"show",rawName:"v-show",value:!n.isReplacement,expression:"!item.isReplacement"}],key:n.id,staticClass:"itemlist__row"},[e("td",{staticClass:"itemlist__cell itemlist__cell--loading",class:{"itemlist__cell--error":n.error},attrs:{colspan:t.columnsNumber}},[n.error?e("span",{staticClass:"itemlist__progressError"},[t._v("Upload Error")]):e("span",{staticClass:"itemlist__progress"},[e("span",{staticClass:"itemlist__progressBar",style:t.loadingProgress(i)})])])])})),t._l(t.allItems,(function(n,i){return e("tr",{key:"".concat(n.endpointType,"_").concat(n.id),staticClass:"itemlist__row",class:{"s--picked":t.isSelected(n,t.keysToCheck),"s--disabled":n.disabled||!!t.replacingMediaIds[n.id]},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.toggleSelection(n))},function(e){return e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.shiftToggleSelection(n)):null}]}},[n.isReplacement?n.isReplacement?[e("td",{staticClass:"itemlist__cell itemlist__cell--loading",class:{"itemlist__cell--error":n.error},attrs:{colspan:t.columnsNumber}},[n.error?e("span",{staticClass:"itemlist__progressError"},[t._v("Upload Error")]):e("span",{staticClass:"itemlist__progress"},[e("span",{staticClass:"itemlist__progressBar",style:t.loadingProgress(i,"allItems")})])])]:t._e():[n.hasOwnProperty("id")?e("td",{staticClass:"itemlist__cell itemlist__cell--btn"},[e("a17-checkbox",{attrs:{name:"item_list",value:n.endpointType+"_"+n.id,initialValue:t.checkedItems,theme:"bold",disabled:n.disabled}})],1):t._e(),n.hasOwnProperty("thumbnail")?e("td",{class:"itemlist__cell itemlist__cell--thumb ".concat("users"===n.endpointType?"itemlist__cell--thumb-rounded":"")},["users"===n.endpointType?[e("a17-avatar",{attrs:{name:n.name,thumbnail:n.thumbnail}})]:[e("img",{attrs:{src:n.thumbnail}})]],2):t._e(),n.hasOwnProperty("name")?e("td",{staticClass:"itemlist__cell itemlist__cell--name"},[n.hasOwnProperty("renderHtml")?e("div",{domProps:{innerHTML:t._s(n.name)}}):e("div",[t._v(t._s(n.name))])]):t._e(),t._l(t.extraColumns,(function(i,r){return e("td",{key:r,staticClass:"itemlist__cell",class:t.rowClass(i)},["size"===i?[t._v(t._s(t._f("uppercase")(n[i])))]:[t._v(t._s(n[i]))]],2)}))]],2)}))],2)])])},r=[],o=n(2279),a=n(9160),s=n(1633),l={name:"A17Itemlist",props:{keysToCheck:{type:Array,default:function(){return["id"]}}},components:{"a17-avatar":o.Z},mixins:[a.Z],filters:s.Z,computed:{allItems:function(){var t=this;return this.items.map((function(e){if(t.replacingMediaIds[e.id]){var n=t.itemsLoading.find((function(t){return t.replacementId===e.id}));return n||e}return e}))},columnsNumber:function(){if(!this.items.length)return 0;var t=this.extraColumns.length,e=this.items[0];return e.hasOwnProperty("id")&&t++,e.hasOwnProperty("name")&&t++,e.hasOwnProperty("thumbnail")&&t++,t},extraColumns:function(){if(!this.items.length)return[];var t=this.items[0];return Object.keys(t).filter((function(e){return!["id","name","thumbnail","src","original","edit","crop","deleteUrl","updateUrl","updateBulkUrl","deleteBulkUrl","endpointType","filesizeInMb"].includes(e)&&"string"===typeof t[e]}))},checkedItems:function(){var t=[];return this.selectedItems.length&&this.selectedItems.forEach((function(e){t.push(e.endpointType+"_"+e.id)})),t}},methods:{rowClass:function(t){return"itemlist__cell--"+t},loadingProgress:function(t,e){var n=e?this[e]:this.itemsLoading;return{width:n[t].progress?n[t].progress+"%":"0%"}},getFirstLetter:function(t){return t.name.charAt(0)}}},u=l,c=n(1001),d=(0,c.Z)(u,i,r,!1,null,"04a8279a",null),f=d.exports},8193:function(t,e,n){"use strict";n.d(e,{Z:function(){return _}});var i=function(){var t=this,e=t._self._c;return t.languages.length>1?e("div",{staticClass:"languageManager"},[e("div",{staticClass:"languageManager__switcher"},[e("a17-langswitcher",{attrs:{"in-modal":!0,"all-published":!t.controlPublication}})],1),t.controlPublication?e("a17-dropdown",{ref:"languageManagerDropdown",staticClass:"languageManager__dropdown",attrs:{position:"bottom-right",clickable:!0}},[e("button",{staticClass:"languageManager__button",attrs:{type:"button"},on:{click:function(e){return t.$refs.languageManagerDropdown.toggle()}}},[t._v(" "+t._s(t.currentValue.length)+" "+t._s(t.$trans("lang-manager.published"))+" "),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"dropdown_module"}})]),e("div",{staticClass:"languageManager__dropdown-content",attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e("a17-checkboxgroup",{attrs:{name:"langManager",options:t.languages,selected:t.currentValue,min:1},on:{change:t.changeValue}})],1)]):t._e()],1):t._e()},r=[],o=n(629),a=n(8348),s=n(9996),l=n(4622),u=n(4884);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e=h(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){var e=m(t,"string");return"symbol"===c(e)?e:String(e)}function m(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var b={name:"A17LangManager",mixins:[s.Z,a.Z],components:{"a17-langswitcher":u.Z},props:{controlPublication:{type:Boolean,default:!0},value:{default:function(){return[]}}},computed:f(f({currentValue:{get:function(){var t=[];return this.publishedLanguages.length&&this.publishedLanguages.forEach((function(e){t.push(e.value)})),t}}},(0,o.rn)({languages:function(t){return t.language.all}})),(0,o.Se)(["publishedLanguages"])),methods:{changeValue:function(t){this.$store.commit(l.ad.PUBLISH_LANG,t)}}},y=b,v=n(1001),g=(0,v.Z)(y,i,r,!1,null,"06768eb6",null),_=g.exports},4884:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var i=function(){var t=this,e=t._self._c;return t.languages.length>1?e("div",{staticClass:"language",class:t.languageClass},[t.inModal?t._e():e("span",{staticClass:"language__label f--small"},[t._v(t._s(t.$trans("lang-switcher.edit-in")))]),e("span",{staticClass:"language__toolbar"},t._l(t.languages,(function(n){return e("button",{key:n.value,staticClass:"language__button",class:{selected:n.value===t.localeValue.value,published:n.published,"no-state":t.allPublished},attrs:{type:"button"},on:{click:function(e){return t.onClick(n.value)}}},[t._v(t._s(n.shortlabel))])})),0)]):t._e()},r=[],o=n(629),a=n(8348),s=n(4622);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e=f(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){var e=p(t,"string");return"symbol"===l(e)?e:String(e)}function p(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var h={name:"A17Langswitcher",mixins:[a.Z],props:{inModal:{type:Boolean,default:!1},toggleOnClick:{type:Boolean,default:!1},allPublished:{type:Boolean,default:!1}},computed:c({languageClass:function(){return{"language--in-modal":this.inModal}},localeValue:function(){return this.$store.state.language.active}},(0,o.Se)(["publishedLanguages"])),methods:{onClick:function(t){this.$store.commit(s.ad.UPDATE_LANG,t)}}},m=h,b=n(1001),y=(0,b.Z)(m,i,r,!1,null,"1131928c",null),v=y.exports},9935:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal",class:t.modalClasses,on:{mousedown:t.hide,touchend:function(e){return e.preventDefault(),t.hide.apply(null,arguments)}}},[e("transition",{attrs:{name:"fade_scale_modal"}},[t.active?e("div",{directives:[{name:"show",rawName:"v-show",value:!t.hidden,expression:"!hidden"}],staticClass:"modal__window",on:{mousedown:function(t){t.stopPropagation()},touchend:function(t){t.stopPropagation()}}},[t.modalTitle?e("header",{staticClass:"modal__header"},[t._v(" "+t._s(t.modalTitle)+" "),e("button",{staticClass:"modal__close",attrs:{type:"button"},on:{click:t.hide}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_modal"}})])]):t._e(),e("div",{staticClass:"modal__content"},[t._t("default")],2)]):t._e()])],1)},r=[],o=n(629),a=n(3523);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e=d(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){var e=f(t,"string");return"symbol"===s(e)?e:String(e)}function f(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var p=document.documentElement,h=a.Z.modal,m={name:"A17Modal",props:{title:{type:String,default:""},mode:{type:String,default:""},forceClose:{type:Boolean,default:!1},forceLock:{type:Boolean,default:!1}},data:function(){return{active:!1,hidden:!0,locked:!1,firstFocusableEl:null,lastFocusableEl:null}},computed:u({modalTitle:function(){return""!==this.title?this.title:this.browserTitle},modalClasses:function(){return{"modal--active":this.active,"modal--hidden":this.hidden,"modal--tiny":"tiny"===this.mode,"modal--medium":"medium"===this.mode,"modal--wide":"wide"===this.mode}}},(0,o.rn)({browserTitle:function(t){return t.browser.title}})),watch:{forceLock:function(){this.locked=this.forceLock}},methods:{open:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.active&&!this.hidden||(this.active=!0,this.hidden=!1,p.classList.add(h),this.bindKeyboard(),this.$nextTick((function(){if(t){var e='textarea, input:not([type="hidden"]), select, button[type="submit"]',n=this.$el.querySelectorAll(e),i=this.$el.querySelectorAll(e+', a, button[type="button"]');this.firstFocusableEl=this.$el.querySelector(".modal__close"),this.lastFocusableEl=i[i.length-1],n.length&&n[0].focus()}this.$emit("open")})))},mask:function(){p.classList.remove(h),this.unbindKeyboard(),this.$emit("close")},hide:function(){this.active&&(this.locked||(this.forceClose?this.close():(this.hidden=!0,this.mask())))},close:function(t){this.active&&(this.locked||(this.active=!1,this.$emit("close"),this.mask()))},bindKeyboard:function(){window.addEventListener("keyup",this.keyPressed),document.addEventListener("keydown",this.keyDown,!1)},unbindKeyboard:function(){window.removeEventListener("keyup",this.keyPressed),document.removeEventListener("keydown",this.keyDown)},keyPressed:function(t){27!==t.which&&27!==t.keyCode||(this.hide(),this.$emit("esc-key"))},keyDown:function(t){t.keyCode&&9===t.keyCode&&(t.shiftKey?document.activeElement.isEqualNode(this.firstFocusableEl)&&(this.lastFocusableEl.focus(),t.preventDefault()):document.activeElement.isEqualNode(this.lastFocusableEl)&&(this.firstFocusableEl.focus(),t.preventDefault()))}},beforeDestroy:function(){this.$el.parentNode&&(this.active&&this.unbindKeyboard(),this.$el.parentNode.removeChild(this.$el))}},b=m,y=n(1001),v=(0,y.Z)(b,i,r,!1,null,"5d2936e8",null),g=v.exports},1124:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade_spinner"},on:{"before-enter":t.beforeEnter,"after-enter":t.afterEnter,"before-leave":t.beforeLeave}},[e("div",{staticClass:"a17spinner"},[e("div",{staticClass:"a17spinner__anim",class:{"a17spinner__anim--visible":t.isVisible}},[e("span",{staticClass:"loader"},[e("span")])])])])},r=[],o={name:"A17Spinner",props:{visible:{type:Boolean,default:!1}},data:function(){return{isVisible:this.visible}},methods:{beforeEnter:function(t){this.isVisible=this.visible},afterEnter:function(t){this.isVisible=!0},beforeLeave:function(t){this.isVisible=!1}}},a=o,s=n(1001),l=(0,s.Z)(a,i,r,!1,null,null,null),u=l.exports},1086:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("a17-modal",{ref:"standalone-"+t.endpointName,staticClass:"modal--browser",attrs:{mode:"medium","force-close":!0},on:{close:t.closeModal}},[e("div",{staticClass:"browser"},[e("div",{staticClass:"browser__frame"},[e("div",{ref:"form",staticClass:"browser__header"},[t.multiSources?e("div",{staticClass:"browser__sources"},[e("a17-vselect",{staticClass:"browser__sources-select",attrs:{name:"sources",selected:t.currentEndpoint,options:t.endpoints,required:!0},on:{change:t.changeBrowserSource}})],1):t._e(),e("div",{staticClass:"browser__search"},[e("a17-filter",{on:{submit:t.submitFilter}},[t.browserNote?e("div",{attrs:{slot:"additional-actions"},slot:"additional-actions"},[e("span",{staticClass:"browser__note f--small"},[t._v(" "+t._s(t.browserNote)+" ")])]):t._e()])],1)]),e("div",{staticClass:"browser__inner"},[e("div",{ref:"list",staticClass:"browser__list"},[e("a17-itemlist",{attrs:{items:t.fullItems,keysToCheck:["id","edit"],selectedItems:t.selectedItems},on:{change:t.updateSelectedItems}})],1)]),e("div",{staticClass:"browser__footer"},[e("a17-button",{attrs:{type:"button",variant:"action"},on:{click:t.saveAndClose}},[t._v(t._s(t.browserTitle))]),e("span",{staticClass:"browser__size-infos"},[t._v(t._s(t.selectedItems.length)+" / "+t._s(t.max))])],1)])])])},r=[],o=n(5573),a=n(7713),s=n(1385),l=n(9935);function u(t){return p(t)||f(t)||d(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function f(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function p(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var m={name:"A17StandaloneBrowser",components:{"a17-filter":a.Z,"a17-itemlist":s.Z,"a17-modal":l.Z},props:{btnLabel:{type:String,default:"Insert"},btnMultiLabel:{type:String,default:"Insert files"},initialPage:{type:Number,default:1},open:{type:Boolean,default:!1},forRepeater:{type:Boolean,default:!1},endpoint:{type:Object,required:!1,default:null},endpointMultiple:{type:Array,required:!1,default:null},max:{type:Number,default:0}},data:function(){return{maxPage:20,fullItems:[],listHeight:0,page:this.initialPage,endpoints:[],endpointName:null,browserTitle:"Select",browserNote:null,currentSource:null,selected:[]}},computed:{currentEndpoint:function(){var t=this;return this.endpoints.find((function(e){return e.value===t.currentSource}))},multiSources:function(){return this.endpoints.length>1},selectedItems:{get:function(){return this.selected||[]},set:function(t){this.selected=t}}},watch:{open:function(t,e){t!==e&&(t?this.openModal():this.closeModal())}},methods:{openModal:function(){var t="standalone-"+this.endpointName;this.$refs[t].open()},closeModal:function(){var t="standalone-"+this.endpointName;this.$refs[t].close(),this.$emit("close")},updateSelectedItems:function(t){var e=this.multiSources?["id","endpointType"]:["id"],n=this.fullItems.some((function(n){return e.every((function(e){return n[e]===t[e]}))}));if(n){var i=this.selectedItems.some((function(n){return e.every((function(e){return n[e]===t[e]}))}));if(i){var r=this.selectedItems.findIndex((function(n){return e.every((function(e){return n[e]===t[e]}))}));if(r<0)return;var o=u(this.selectedItems);o.splice(r,1),this.selectedItems=o}else{if(1===this.max&&this.clearSelectedItems(),this.selectedItems.length>=this.max&&this.max>0)return;this.selectedItems=[].concat(u(this.selectedItems),[t])}}},getFormData:function(t){var e=(0,o.Z)(t);return e?e.page=this.page:e={page:this.page},e.forRepeater=this.forRepeater,e},clearSelectedItems:function(){this.selectedItems=[]},clearFullItems:function(){this.fullItems.splice(0)},reloadList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.page=1);var n=this.$refs.form,i=this.getFormData(n);this.$http.get(this.currentEndpoint.value,{params:i}).then((function(n){var i;e&&t.clearFullItems(),(i=t.fullItems).push.apply(i,u(n.data.data)),t.$nextTick((function(){t.listHeight!==t.$refs.list.scrollHeight&&(t.listHeight=t.$refs.list.scrollHeight,t.$refs.list.addEventListener("scroll",t.scrollToPaginate))}))}),(function(t){}))},submitFilter:function(){this.page=1,this.clearFullItems(),this.reloadList()},scrollToPaginate:function(){var t=this.$refs.list;t.scrollTop+t.clientHeight>this.listHeight-10&&(t.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page&&(this.page=this.page+1,this.reloadList()))},saveAndClose:function(){this.$emit("selected",this.selectedItems),this.closeModal()},changeBrowserSource:function(t){this.currentSource=t.value,this.reloadList(!0)}},mounted:function(){this.openModal(),this.endpointMultiple?this.endpoints=this.endpointMultiple:this.endpoints=[this.endpoint],this.currentSource=this.endpoints[0].value,this.reloadList()}},b=m,y=n(1001),v=(0,y.Z)(b,i,r,!1,null,"3ff94fa2",null),g=v.exports},6287:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var i=function(){var t=this,e=t._self._c;return e("a17-inputframe",{attrs:{error:t.error,note:t.note,label:t.label,locale:t.locale,size:t.size,name:t.name,"label-for":t.uniqId,required:t.required},on:{localize:t.updateLocale}},[e("div",{staticClass:"input__field",class:t.textfieldClasses,attrs:{dir:t.dirLocale}},[t.hasPrefix?e("span",{staticClass:"input__prefix"},[t._v(t._s(t.prefix))]):t._e(),"textarea"===t.type?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"clone",staticClass:"input__clone",attrs:{rows:t.rows,disabled:"true"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}):t._e(),"textarea"===t.type?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"input",attrs:{name:t.name,id:t.uniqId,placeholder:t.placeholder,disabled:t.disabled,required:t.required,readonly:t.readonly,rows:t.rows,autofocus:t.autofocus},domProps:{value:t.value},on:{focus:t.onFocus,blur:t.onBlur,input:[function(e){e.target.composing||(t.value=e.target.value)},t.onInput]}}):t._e(),"number"===t.type?e("input",{ref:"input",attrs:{type:"number",placeholder:t.placeholder,name:t.name,id:t.uniqId,disabled:t.disabled,maxlength:t.displayedMaxlength,required:t.required,readonly:t.readonly,autofocus:t.autofocus,autocomplete:t.autocomplete,min:t.min,max:t.max,step:t.step},domProps:{value:t.value},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput}}):t._e(),"text"===t.type?e("input",{ref:"input",attrs:{type:"text",placeholder:t.placeholder,name:t.name,id:t.uniqId,disabled:t.disabled,maxlength:t.displayedMaxlength,required:t.required,readonly:t.readonly,autofocus:t.autofocus,autocomplete:t.autocomplete,"x-mask":t.mask},domProps:{value:t.value},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput}}):t._e(),"email"===t.type?e("input",{ref:"input",attrs:{type:"email",placeholder:t.placeholder,name:t.name,id:t.uniqId,disabled:t.disabled,maxlength:t.displayedMaxlength,required:t.required,readonly:t.readonly,autofocus:t.autofocus,autocomplete:t.autocomplete,pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+"},domProps:{value:t.value},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput}}):t._e(),"password"===t.type?e("input",{ref:"input",attrs:{type:"password",placeholder:t.placeholder,name:t.name,id:t.uniqId,disabled:t.disabled,maxlength:t.displayedMaxlength,required:t.required,readonly:t.readonly,autofocus:t.autofocus,autocomplete:t.autocomplete},domProps:{value:t.value},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput}}):t._e(),"url"===t.type?e("input",{ref:"input",attrs:{type:"url",placeholder:t.placeholder,name:t.name,id:t.uniqId,disabled:t.disabled,maxlength:t.displayedMaxlength,required:t.required,readonly:t.readonly,autofocus:t.autofocus,autocomplete:t.autocomplete},domProps:{value:t.value},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput}}):t._e(),t.hasMaxlength?e("span",{staticClass:"input__limit f--tiny",class:t.limitClasses},[t._v(t._s(t.counter))]):t._e(),"email"===t.type?e("span",{class:t.validityClasses}):t._e()])])},r=[],o=n(3279),a=n.n(o),s=n(2240),l=n(35),u=n(6830),c=n(8348),d=n(9464),f={name:"A17Textfield",mixins:[d.Z,l.Z,u.Z,c.Z,s.Z],props:{name:{type:String,required:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:null},initialValue:{default:""},mask:{type:String,default:null},rows:{type:Number,default:5}},computed:{uniqId:function(t){return this.name+"-"+this.randKey},textfieldClasses:function(){return{"input__field--textarea":"textarea"===this.type,"input__field--small":"small"===this.size&&"textarea"===!this.type,"s--focus":this.focused,"s--disabled":this.disabled}},hasMaxlength:function(){return this.maxlength>0},hasPrefix:function(){return""!==this.prefix},displayedMaxlength:function(){return!!this.hasMaxlength&&this.maxlength},limitClasses:function(){return{"input__limit--red":this.counter<.1*this.maxlength}},validityClasses:function(){return["input__validity",!0===this.isFieldValid?"input__validity--valid":"",!1===this.isFieldValid?"input__validity--error":""]}},data:function(){return{value:this.initialValue,lastSavedValue:this.initialValue,focused:!1,isFieldValid:null,counter:0}},watch:{initialValue:function(){this.updateValue(this.initialValue)}},methods:{updateFromStore:function(t){"undefined"===typeof t&&(t=""),this.value!==t&&this.updateValue(t)},updateValue:function(t){this.value=t,this.updateCounter(t)},updateAndSaveValue:function(t){this.updateValue(t),this.lastSavedValue=this.value,this.saveIntoStore()},updateCounter:function(t){this.maxlength>0&&(this.counter=this.maxlength-(t?t.toString().length:0))},onFocus:function(t){this.focused=!0,this.resizeTextarea(),this.$emit("focus")},onBlur:function(t){var e=t.target.value;this.updateAndSaveValue(e),this.focused=!1,this.$emit("blur",e)},onInput:function(t){this.preventSubmit(),this._onInputInternal(t)},_onInputInternal:a()((function(t){var e=t.target.value;this.updateAndSaveValue(e),this.checkFieldValidity(t.target),this.$emit("change",e),this.$emit("input",e),this.allowSubmit()}),250),resizeTextarea:function(){if("textarea"===this.type){var t=this.$refs.clone,e=15;if(t){var n=t.scrollHeight;this.$refs.input.style.minHeight="".concat(n+e,"px")}}},checkFieldValidity:function(t){var e=null,n=null;switch(t.type){case"email":if(t.value.length<1)return void(this.isFieldValid=null);e=t.pattern,n=RegExp(e),this.isFieldValid=n.test(this.value);break}}},mounted:function(){this.updateCounter(this.value),"textarea"===this.type&&(this.resizeTextarea(),this.$watch("value",this.resizeTextarea),this.$nextTick((function(){window.addEventListener("resize",this.resizeTextarea)})))},beforeDestroy:function(){"textarea"===this.type&&window.removeEventListener("resize",this.resizeTextarea)}},p=f,h=n(1001),m=(0,h.Z)(p,i,r,!1,null,"9edd5ab6",null),b=m.exports},1894:function(t,e,n){"use strict";n.d(e,{Z:function(){return k}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vselectOuter"},[e("a17-inputframe",{attrs:{error:t.error,label:t.label,note:t.note,size:t.size,name:t.name,"label-for":t.uniqId,required:t.required,"add-new":t.addNew}},[e("div",{staticClass:"vselect",class:t.vselectClasses},[e("div",{staticClass:"vselect__field"},[e("input",{attrs:{type:"hidden",name:t.name,id:t.uniqId},domProps:{value:t.inputValue}}),e("v-select",{attrs:{multiple:t.multiple,placeholder:t.placeholder,value:t.value,options:t.currentOptions,searchable:t.searchable,selectable:t.selectable,clearSearchOnSelect:t.clearSearchOnSelect,label:t.optionsLabel,taggable:t.taggable,pushTags:t.pushTags,transition:t.transition,requiredValue:t.required,maxHeight:t.maxHeight,disabled:t.disabled},on:{input:t.updateValue,search:t.getOptions}},[e("span",{attrs:{slot:"no-options"},slot:"no-options"},[t._v(t._s(t.emptyText))])])],1)])]),t.addNew?[e("a17-modal-add",{ref:"addModal",attrs:{name:t.name,"form-create":t.addNew,"modal-title":"Add new "+t.label}},[t._t("addModal")],2)]:t._e()],2)},r=[],o=n(3279),a=n.n(o),s=n(9938),l=n.n(s);function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}var c,d,f={extends:l(),props:{toggleSelectOption:{type:Boolean,default:!1},requiredValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{mutableValue:this.value}},computed:{showClearButton:function(){return!1}},methods:{maybeDeleteValue:function(){if(!this.requiredValue&&!this.$refs.search.value.length&&this.mutableValue)return this.multiple?this.mutableValue.pop():this.mutableValue=null},isOptionSelected:function(t){var e=this;return void 0!==this.valueAsArray&&this.valueAsArray.some((function(n){return"object"===u(n)?e.optionObjectComparator(n,t):n===t||n===t[e.index]}))}},mounted:function(){this.taggable&&this.$emit("search",this.search,this.toggleLoading)}},p=f,h=n(1001),m=(0,h.Z)(p,c,d,!1,null,null,null),b=m.exports,y=n(6193),v=n(2240),g=n(6830),_=n(9464);function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}var O={name:"A17VueSelect",mixins:[_.Z,g.Z,v.Z,y.Z],props:{placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},name:{type:String,default:""},transition:{type:String,default:"fade_move_dropdown"},multiple:{type:Boolean,default:!1},taggable:{type:Boolean,default:!1},pushTags:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},selectable:{type:Function,default:function(t){var e;return null===(e=t.selectable)||void 0===e||e}},clearSearchOnSelect:{type:Boolean,default:!0},selected:{default:null},emptyText:{default:function(){return this.$trans("select.empty-text","Sorry, no matching options.")}},options:{default:function(){return[]}},optionsLabel:{type:String,default:"label"},endpoint:{type:String,default:""},size:{type:String,default:""},required:{type:Boolean,default:!1},maxHeight:{type:String,default:"400px"}},components:{"v-select":b},data:function(){return{value:this.selected,currentOptions:this.options,ajaxUrl:this.endpoint}},watch:{options:function(t){this.currentOptions=this.options}},computed:{uniqId:function(t){return this.name+"-"+this.randKey},inputValue:{get:function(){if(this.value){if(this.multiple){if(Array.isArray(this.value))return"object"===w(this.value[0])?this.value.map((function(t){return t.value})):this.value.join(",")}else if("object"===w(this.value))return this.value.value;return this.value}return""},set:function(t){Array.isArray(t)?this.taggable?this.value=t:this.value=this.options.filter((function(e){return t.includes(e.value)})):this.value=this.options.find((function(e){return"number"===typeof e.value?e.value%1!==0?e.value===parseFloat(t):e.value===parseInt(t):e.value===String(t)}))}},vselectClasses:function(){return[this.value?"vselect--has-value":"",this.multiple?"vselect--multiple":"vselect--single","small"===this.size?"vselect--small":"","large"===this.size?"vselect--large":"",this.error?"vselect--error":""]}},methods:{updateFromStore:function(t){this.inputValue=t},isAjax:function(){return""!==this.ajaxUrl},updateValue:function(t){this.value=t,this.saveIntoStore(),this.$emit("change",t)},getOptions:a()((function(t,e){var n=this;if(!this.isAjax())return!0;e(!0),this.$http.get(this.ajaxUrl,{params:{q:t}}).then((function(t){t.data.items&&t.data.items.length&&(n.taggable&&Array.isArray(n.value)?n.currentOptions=t.data.items.filter((function(t){return!n.value.includes(t)})):n.currentOptions=t.data.items),e(!1)}),(function(t){e(!1)}))}),500)}},E=O,S=(0,h.Z)(E,i,r,!1,null,null,null),k=S.exports},586:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block",class:t.blockClasses},[e("div",{staticClass:"block__header",on:{dblclick:function(e){return e.preventDefault(),t.toggleExpand()}}},[t.withHandle?e("span",{staticClass:"block__handle"}):t._e(),e("div",{staticClass:"block__toggle"},[t.withMoveDropdown?e("a17-dropdown",{ref:t.moveDropdown,staticClass:"f--small",attrs:{position:"bottom-left",maxHeight:270}},[e("span",{staticClass:"block__counter f--tiny",on:{click:function(e){return t.$refs[t.moveDropdown].toggle()}}},[t._v(t._s(t.index+1))]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._t("dropdown-numbers")],2)]):e("span",{staticClass:"block__counter f--tiny"},[t._v(t._s(t.index+1))]),e("span",{staticClass:"block__title"},[t._v(t._s(t.blockTitle))])],1),t.withActions?e("div",{staticClass:"block__actions"},[t._t("block-actions"),t.withAddDropdown?e("a17-dropdown",{ref:t.addDropdown,attrs:{position:"bottom-right",maxHeight:430},on:{open:function(e){t.hover=!0},close:function(e){t.hover=!1}}},[e("a17-button",{attrs:{variant:"icon","data-action":""},on:{click:function(e){return t.$refs[t.addDropdown].toggle()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}})]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._t("dropdown-add")],2)],1):t._e(),e("a17-button",{attrs:{variant:"icon","data-action":"","aria-expanded":t.visible?"true":"false"},on:{click:function(e){return t.toggleExpand()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"expand"}})]),e("a17-dropdown",{ref:t.actionsDropdown,attrs:{position:"bottom-right"},on:{open:function(e){t.hover=!0},close:function(e){t.hover=!1}}},[e("a17-button",{attrs:{variant:"icon"},on:{click:function(e){return t.$refs[t.actionsDropdown].toggle()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._t("dropdown-action")],2)],1)],2):t._e()]),t.visible?e("div",{staticClass:"block__content"},[e("".concat(t.block.type),t._b({key:"form_".concat(t.block.type,"_").concat(t.block.id),tag:"component",attrs:{name:t.componentName(t.block.id)}},"component",t.block.attributes,!1)),e("a17-inputframe",{attrs:{size:"small",label:"",name:"block.".concat(t.block.id)}})],1):t._e()])},r=[],o=n(629),a=n(1633);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e=d(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){var e=f(t,"string");return"symbol"===s(e)?e:String(e)}function f(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var p={name:"A17BlockEditorItem",props:{index:{type:Number,default:0},opened:{type:Boolean,default:!0},size:{type:String,default:""},block:{type:Object,default:function(){}},withHandle:{type:Boolean,default:!0},withActions:{type:Boolean,default:!0}},data:function(){return{visible:!1,hover:!1,withMoveDropdown:!0,withAddDropdown:!0}},filters:a.Z,computed:u(u({titleFieldValue:function(){var t=this.blockFieldValue(this.block.titleField);return t?"object"===s(t)?t[this.currentLocale.value]:t:null},blockTitle:function(){var t,e=this.block.title||"",n=this.titleFieldValue||"",i=e&&n?" — ":"";t=this.block.hideTitlePrefix?"".concat(n):"".concat(e).concat(i).concat(n);var r=document.createElement("div");return r.innerHTML=t,r.innerText},blockClasses:function(){return[this.visible?"block--open":"",this.hover?"block--focus":"",this.size?"block--".concat(this.size):""]},moveDropdown:function(){return"moveBlock".concat(this.index,"Dropdown")},actionsDropdown:function(){return"action".concat(this.block.id,"Dropdown")},addDropdown:function(){return"add".concat(this.block.id,"Dropdown")}},(0,o.rn)({currentLocale:function(t){return t.language.active}})),(0,o.Se)(["fieldValueByName"])),watch:{opened:function(){this.visible=this.opened}},created:function(){this.block.ui&&this.block.ui.isNew&&this.toggleExpand()},methods:{toggleExpand:function(){this.visible=!this.visible},componentName:function(t){return"blocks["+t+"]"},blockFieldName:function(t){return t?"blocks[".concat(this.block.id,"][").concat(t,"]"):""},blockFieldValue:function(t){if(!t)return null;var e=this.blockFieldName(t);return this.fieldValueByName(e)}},beforeMount:function(){this.$slots["dropdown-numbers"]||(this.withMoveDropdown=!1),this.$slots["dropdown-add"]||(this.withAddDropdown=!1)}},h=p,m=n(1001),b=(0,m.Z)(h,i,r,!1,null,"7de64297",null),y=b.exports},4718:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block__body"},[e("a17-inputframe",{attrs:{label:"Image",name:"medias.image"}},[e("a17-mediafield",{attrs:{name:t.fieldName("image"),"crop-context":"image"}})],1)],1)},r=[],o=n(5340),a={name:"A17Image",mixins:[o.Z]},s=a,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,null,null),c=u.exports},9223:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block__body"},[e("a17-wysiwyg-tiptap",{attrs:{name:t.fieldName("html"),label:"Body",options:{modules:{toolbar:["table"],syntax:!1}},placeholder:"Insert your table",editSource:"true",inStore:"value"}})],1)},r=[],o=n(5340),a={name:"A17Bodytable",mixins:[o.Z]},s=a,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,null,null),c=u.exports},7495:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block__body"},[e("a17-locale",{attrs:{type:"a17-textfield",attributes:{label:"Title",name:t.fieldName("text"),type:"text",maxlength:250,inStore:"value"}}})],1)},r=[],o=n(5340),a={name:"A17Title",mixins:[o.Z]},s=a,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,null,null),c=u.exports},3621:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"block__body"},[e("a17-wysiwyg",{attrs:{name:t.fieldName("html"),inStore:"value"}})],1)},r=[],o=n(5340),a={name:"A17Bodytext",mixins:[o.Z]},s=a,l=n(1001),u=(0,l.Z)(s,i,r,!1,null,null,null),c=u.exports},8398:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return O}});var i=function(){var t=this,e=t._self._c;return e("a17-blocks-list",{attrs:{"editor-name":t.editorName},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.savedBlocks,r=n.availableBlocks,o=n.moveBlock,a=n.moveBlockToEditor,s=n.cloneBlock;return[e("div",{staticClass:"blocks"},[e("draggable",{staticClass:"blocks__container",attrs:{value:i,group:"blocks",move:t.handleOnMove,options:t.dragOptions},on:{end:function(e){return t.handleOnEnd(o,a)}}},[e("transition-group",{attrs:{name:"draggable_list",tag:"div"}},t._l(i,(function(n){return e("div",{key:n.id,staticClass:"blocks__item"},[e("a17-blockeditor-model",{attrs:{"editor-name":t.editorName,block:n},scopedSlots:t._u([{key:"default",fn:function(n){var o=n.block,a=n.blockIndex,l=n.add,u=n.edit,c=n.move,d=n.remove,f=n.duplicate;return[r.length?e("a17-blockeditor-item",{ref:"blockList",refInFor:!0,attrs:{block:o,index:a,opened:t.opened,"with-handle":!t.isSettings,"with-actions":!t.isSettings,"with-move-dropdown":t.isSettings},on:{expand:t.setOpened}},[t._l(r,(function(n){return[e("button",{key:n.component,staticClass:"blocks__addButton",attrs:{slot:"dropdown-add",type:"button"},on:{click:function(e){return t.handleBlockAdd(l,n,a+1)}},slot:"dropdown-add"},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"blocks__icon",attrs:{symbol:n.icon}}),e("span",{staticClass:"blocks__title"},[t._v(t._s(n.title))])])]})),e("div",{attrs:{slot:"dropdown-action"},slot:"dropdown-action"},[t.opened?e("button",{attrs:{type:"button"},on:{click:function(e){return t.collapseAllBlocks()}}},[t._v(" "+t._s(t.$trans("fields.block-editor.collapse-all","Collapse all"))+" ")]):e("button",{attrs:{type:"button"},on:{click:function(e){return t.expandAllBlocks()}}},[t._v(" "+t._s(t.$trans("fields.block-editor.expand-all","Expand all"))+" ")]),t.editor&&!t.editorName.includes("|")?e("button",{attrs:{type:"button"},on:{click:function(e){return t.openInEditor(u,a,t.editorName)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.open-in-editor","Open in editor"))+" ")]):t._e(),e("button",{attrs:{type:"button"},on:{click:function(e){return t.handleClone(s,a,o)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.clone-block","Clone block"))+" ")]),e("button",{attrs:{type:"button"},on:{click:function(e){return t.handleDuplicateBlock(f)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.create-another","Create another"))+" ")]),e("button",{attrs:{type:"button"},on:{click:function(e){return t.handleDeleteBlock(d)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.delete","Delete"))+" ")])]),t._l(i.length,(function(n){return e("button",{key:n,attrs:{slot:"dropdown-numbers",type:"button"},on:{click:function(t){return c(n-1)}},slot:"dropdown-numbers"},[t._v(t._s(n)+" ")])}))],2):t._e()]}}],null,!0)})],1)})),0)],1),t.isSettings?t._e():e("div",{staticClass:"blocks__actions"},[r.length?e("a17-dropdown",{ref:"blocksDropdown",attrs:{position:"top-center",arrow:!0,offset:10,maxHeight:430}},[e("a17-button",{attrs:{size:"small",variant:"action"},on:{click:function(e){return t.$refs.blocksDropdown.toggle()}}},[t._v(t._s(t.trigger)+" ")]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t._l(r,(function(n){return[e("a17-blockeditor-model",{key:n.component,attrs:{"editor-name":t.editorName,block:n},scopedSlots:t._u([{key:"default",fn:function(i){var r=i.add,o=i.block;return[e("button",{key:n.component,staticClass:"blocks__addButton",attrs:{type:"button"},on:{click:function(e){return t.handleBlockAdd(r,o)}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],staticClass:"blocks__icon",attrs:{symbol:n.icon}}),e("span",{staticClass:"blocks__title"},[t._v(t._s(n.title))])])]}}],null,!0)})]}))],2)],1):t._e(),t.editorName.includes("|")?t._e():e("div",{staticClass:"blocks__secondaryActions"},[t.editor?e("a",{staticClass:"f--link f--link-underlined--o",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openEditor(-1,t.editorName)}}},[t._v(" "+t._s(t.$trans("fields.block-editor.open-in-editor","Open in editor"))+" ")]):t._e()])],1)],1)]}}])})},r=[],o=n(2719),a=n.n(o),s=n(629),l=n(586),u=n(6214),c=n(139),d=n(4690);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return e=b(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t){var e=y(t,"string");return"symbol"===f(e)?e:String(e)}function y(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var v={name:"A17Blocks",components:{"a17-blockeditor-item":l["default"],"a17-blockeditor-model":u["default"],"a17-blocks-list":c["default"],draggable:a()},mixins:[d.tD,d.Rb],props:{trigger:{type:String,default:""},isSettings:{type:Boolean,required:!0},title:{type:String,default:""},editorName:{type:String,required:!0}},data:function(){return{opened:!0,handle:".block__handle"}},computed:h(h({},(0,s.rn)({editor:function(t){return t.blocks.editor},editorNames:function(t){return t.blocks.editorNames}})),(0,s.Se)(["blocks","fieldsByBlockId","availableBlocks"])),methods:{setOpened:function(){var t=this.$refs.blockList&&this.$refs.blockList.every((function(t){return!t.visible}));t&&(this.opened=!1)},collapseAllBlocks:function(){this.opened=!1},expandAllBlocks:function(){this.opened=!0},checkExpandBlocks:function(){void 0!==this.$refs.blockList[this.$refs.blockList.length-1]&&this.$refs.blockList[this.$refs.blockList.length-1].toggleExpand()},handleOnMove:function(t){var e=t.draggedContext,n=t.relatedContext,i=e.index,r=e.element,o=e.futureIndex,a=n.element;this.nextMove={block:r,editorName:a.name,newIndex:o,index:i}},handleOnEnd:function(t,e){var n=this.nextMove,i=n.block,r=n.editorName,o=n.newIndex,a=n.index;i.name!==r?this.checkIfBlockTypeIsAvailable(r,i.type)&&e&&e(i,r,a,o):t&&t({oldIndex:a,newIndex:o})},handleClone:function(t,e,n){var i=this;t&&t({block:n,index:e+1}),this.$nextTick((function(){i.checkExpandBlocks()}))},handleBlockAdd:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;t(e,i),this.$nextTick((function(){n.checkExpandBlocks()}))},handleDuplicateBlock:function(t,e){var n=this;t(e),this.$nextTick((function(){n.checkExpandBlocks()}))},handleDeleteBlock:function(t,e){var n=this;this.$root.$refs.warningContentEditor?this.$root.$refs.warningContentEditor.open((function(){t(e),n.$nextTick((function(){n.checkExpandBlocks()}))})):(t(e),this.$nextTick((function(){n.checkExpandBlocks()})))},checkIfBlockTypeIsAvailable:function(t,e){var n=JSON.parse(JSON.stringify(this.availableBlocks(t))),i=n.map((function(t){return t.component}));return-1!==i.indexOf(e)},openInEditor:function(t,e,n){t(),this.openEditor(e,n)}},mounted:function(){this.$nextTick((function(){this.$refs.blockList&&this.blocks(this.editorName)&&this.blocks(this.editorName).length<4&&this.$refs.blockList.forEach((function(t){return t.toggleExpand()})),this.setOpened()}))}},g=v,_=n(1001),w=(0,_.Z)(g,i,r,!1,null,"2288058f",null),O=w.exports},9328:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return b}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editorIframe"},[""===t.preview?e("div",{staticClass:"editorIframe__empty"},[t._v(" "+t._s(t.title)+" ")]):[t.sandbox?e("iframe",{ref:"frame",attrs:{srcdoc:t.preview,sandbox:t.sandboxOptions,scrolling:"no"},on:{load:t.loadedPreview}}):e("iframe",{ref:"frame",attrs:{srcdoc:t.preview,scrolling:"no"},on:{load:t.loadedPreview}})]],2)},r=[],o=n(629);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e=c(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){var e=d(t,"string");return"symbol"===a(e)?e:String(e)}function d(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var f={name:"A17editorIframe",props:{block:{type:Object,default:function(){return{}}}},computed:l({preview:function(){return this.previewsById(this.block.id)||""},title:function(){return this.block.title||""},sandboxOptions:function(){return"boolean"===typeof this.sandbox?"allow-same-origin allow-top-navigation allow-scripts":this.sandbox.join(" ")}},(0,o.Se)(["previewsById"])),inject:["sandbox"],methods:{loadedPreview:function(){var t=this;this.$refs.frame&&this.$refs.frame.srcdoc&&(this.$emit("loaded",this.$refs.frame),window.setTimeout((function(){t.resize()}),1e3))},resize:function(){var t=this;if(this.$refs.frame){var e=this.$refs.frame.contentWindow.document.body;e.style.overflow="hidden";var n=window.getComputedStyle(e),i=n.getPropertyValue("margin-top"),r=n.getPropertyValue("margin-bottom"),o=e.scrollHeight+parseInt(i)+parseInt(r);window.requestAnimationFrame((function(){t.$refs.frame.height=o+"px"}))}}},mounted:function(){window.addEventListener("resize",this.resize)},beforeDestroy:function(){window.removeEventListener("resize",this.resize)}},p=f,h=n(1001),m=(0,h.Z)(p,i,r,!1,null,"86c47f36",null),b=m.exports},2674:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modalValidation"},[e("a17-inputframe",["create"===t.mode?[e("a17-button",{attrs:{type:"submit",name:"create",variant:"validate",disabled:t.isDisabled}},[t._v(t._s(t.$trans("modal.create.button","Create")))]),t.isDisabled?t._e():e("a17-button",{attrs:{type:"submit",name:"create-another",variant:"aslink-grey"},nativeOn:{click:function(t){return t.currentTarget.focus()}}},[e("span",[t._v(t._s(t.$trans("modal.create.create-another","Create and add another")))])])]:"update"===t.mode?e("a17-button",{attrs:{type:"submit",name:"update",variant:"validate",disabled:t.isDisabled}},[t._v(t._s(t.$trans("modal.update.button","Update")))]):e("a17-button",{attrs:{type:"submit",name:"done",variant:"validate",disabled:t.isDisabled}},[t._v(t._s(t.$trans("modal.done.button","Done")))])],2),t.activePublishState?e("label",{staticClass:"switcher__button",class:t.switcherClasses,attrs:{for:t.publishedName}},[t.isChecked?e("span",{staticClass:"switcher__label"},[t._v(t._s(t.textEnabled))]):t._e(),t.isChecked?t._e():e("span",{staticClass:"switcher__label"},[t._v(t._s(t.textDisabled))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.published,expression:"published"}],attrs:{type:"checkbox",disabled:t.disabled,name:t.publishedName,id:t.publishedName},domProps:{value:1,checked:Array.isArray(t.published)?t._i(t.published,1)>-1:t.published},on:{change:function(e){var n=t.published,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=1,a=t._i(n,o);i.checked?a<0&&(t.published=n.concat([o])):a>-1&&(t.published=n.slice(0,a).concat(n.slice(a+1)))}else t.published=r}}}),e("span",{staticClass:"switcher__switcher"})]):t._e()],1)},r=[],o=n(4622);function a(t){return c(t)||u(t)||l(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function c(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var f={name:"A17ModalValidationButtons",props:{publishedName:{type:String,required:!1},disabled:{type:Boolean,default:!1},activePublishState:{type:Boolean,default:!1},isPublish:{type:Boolean,default:!1},isDisable:{type:Boolean,default:!1},mode:{type:String,default:"create"},textEnabled:{type:String,default:"Live"},textDisabled:{type:String,default:"Draft"}},data:function(){return{fields:!1,isDisabled:this.isDisable,published:this.isPublish}},watch:{published:function(t){this.$store.commit(o.Yc.UPDATE_FORM_FIELD,{name:"published",value:t})}},computed:{switcherClasses:function(){return[this.isChecked?"switcher--active":""]},isChecked:function(){return this.published},checkedValue:{get:function(){return this.published},set:function(t){this.published=t}}},methods:{addListeners:function(){var t=this;this.$nextTick((function(){t.fields.forEach((function(e){e.removeEventListener("input",t.disable)})),t.fields=a(t.$parent.$el.querySelectorAll("input, textarea, select")),t.fields.forEach((function(e){e.addEventListener("input",(function(){t.disable()}))}))}))},disable:function(){if(!this.fields)return this.isDisabled=!0,void this.$emit("disable",!0);var t=this.fields.filter((function(t){return t.getAttribute("required")}));if(0===t.length)return this.isDisabled=!1,void this.$emit("disable",!1);var e=t.filter((function(t){return t.value.length>0}));if(e.length===t.length)return this.isDisabled=!1,void this.$emit("disable",!1);this.isDisabled=!0,this.$emit("disable",!0)}},mounted:function(){var t=this;this.fields=a(this.$parent.$el.querySelectorAll("input, textarea, select")),t.disable(),this.fields.length&&this.addListeners()},beforeDestroy:function(){var t=this;this.fields.length&&this.fields.forEach((function(e){e.removeEventListener("input",t.disable)}))}},p=f,h=n(1001),m=(0,h.Z)(p,i,r,!1,null,"376dc8cc",null),b=m.exports},4126:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"paginate"},[e("p",{staticClass:"paginate__offset f--small"},[t._v(" "+t._s(t.$trans("listing.paginate.rows-per-page"))+" "),t.availableOffsets.length>1?[e("a17-dropdown",{ref:"paginateDropdown",attrs:{position:"bottom-right"}},[e("button",{staticClass:"paginate__button",on:{click:function(e){return t.$refs.paginateDropdown.toggle()}}},[t._v(t._s(t.newOffset))]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},t._l(t.availableOffsets,(function(n){return e("button",{key:n,class:{dropdown__active:n===t.newOffset},attrs:{type:"button"},on:{click:function(e){return t.changeOffset(n)}}},[t._v(t._s(n))])})),0)])]:[t._v(" "+t._s(t.newOffset)+" ")]],2),t.max>1?e("div",{staticClass:"paginate__pages"},[e("p",{staticClass:"paginate__current f--small"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newPageFormat,expression:"newPageFormat"}],staticClass:"form__input paginate__input",attrs:{type:"number",maxlength:"4"},domProps:{value:t.newPageFormat},on:{blur:t.formatPage,input:function(e){e.target.composing||(t.newPageFormat=e.target.value)}}}),t._v(" of "+t._s(t.max))]),e("button",{staticClass:"paginate__prev",attrs:{type:"button",disabled:t.value<=t.min},on:{click:t.previousPage}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"pagination_left"}})]),e("button",{staticClass:"paginate__next",attrs:{type:"button",disabled:t.value>=t.max},on:{click:t.nextPage}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"pagination_right"}})])]):t._e()])},r=[],o={name:"A17Paginate",props:{value:{type:Number,required:!0},offset:{type:Number,default:60},availableOffsets:{type:Array,default:function(){return[]}},min:{type:Number,default:1},max:{type:Number,required:!0}},data:function(){return{newOffset:this.offset}},computed:{newPageFormat:{get:function(){return this.value},set:function(t){return parseInt(t)}}},methods:{formatPage:function(t){var e=t.target.value;e=""!==e?parseInt(e):1,e>this.max&&(e=this.max),e<1&&(e=1),t.target.value=e,e!==this.value&&this.$emit("changePage",e)},changeOffset:function(t){this.newOffset=t,this.$emit("changeOffset",parseInt(this.newOffset))},previousPage:function(){this.$emit("changePage",parseInt(this.value-1))},nextPage:function(){this.$emit("changePage",parseInt(this.value+1))}}},a=o,s=n(1001),l=(0,s.Z)(a,i,r,!1,null,"7a3996c9",null),u=l.exports},4670:function(t,e,n){"use strict";var i=n(8963),r=function(){var t=document.querySelectorAll("[data-medialib-btn]");function e(){window["TWILL"].vm&&window["TWILL"].vm.openFreeMediaLibrary()}t.length&&(0,i.Z)(t,(function(t){t.addEventListener("click",(function(n){n.preventDefault(),e(),t.blur()}))}))};e["Z"]=r},6214:function(t,e,n){"use strict";n.r(e);var i=n(629),r=n(3145),o=n(4622);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e=c(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){var e=d(t,"string");return"symbol"===a(e)?e:String(e)}function d(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["default"]={props:{block:{type:Object},editorName:{type:String,required:!0}},computed:l(l({blockIndex:function(){return this.block?this.getBlockIndex(this.block,this.editorName):0},isActive:function(){return!!(this.block&&Object.keys(this.activeBlock).length>0)&&this.block.id===this.activeBlock.id}},(0,i.rn)({activeBlock:function(t){return t.blocks.active}})),(0,i.Se)({getBlockIndex:"blockIndex"})),methods:{add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.$store.commit(o.RG.ADD_BLOCK,{editorName:this.editorName,block:{id:this.setBlockID(),title:t.title,type:t.component,icon:t.icon,attributes:t.attributes},index:e})},edit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.blockIndex;this.$store.commit(o.RG.ACTIVATE_BLOCK,{editorName:this.editorName,index:t})},unEdit:function(){this.$store.commit(o.RG.ACTIVATE_BLOCK,{editorName:this.editorName,index:-1})},move:function(t){this.blockIndex!==t&&this.$store.commit(o.RG.MOVE_BLOCK,{editorName:this.editorName,oldIndex:this.blockIndex,newIndex:t})},duplicate:function(){var t=Object.assign({},this.block);this.$store.commit(o.RG.DUPLICATE_BLOCK,{editorName:this.editorName,index:this.blockIndex,block:t,id:this.setBlockID()})},remove:function(){this.unEdit(),this.$store.commit(o.RG.DELETE_BLOCK,{editorName:this.editorName,index:this.blockIndex})},cloneBlock:function(){this.$store.dispatch(r.ZP.DUPLICATE_BLOCK,{editorName:this.editorName,futureIndex:this.blockIndex+1,block:this.block,id:Date.now()+Math.floor(1e3*Math.random())})},setBlockID:function(){return Date.now()+Math.floor(1e3*Math.random())}},render:function(){return this.$scopedSlots.default({block:this.block,blockIndex:this.blockIndex,add:this.add,edit:this.edit,unEdit:this.unEdit,isActive:this.isActive,remove:this.remove,move:this.move,duplicate:this.duplicate,cloneBlock:this.cloneBlock})}}},139:function(t,e,n){"use strict";n.r(e);var i=n(629),r=n(3145),o=n(4622);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e=c(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){var e=d(t,"string");return"symbol"===a(e)?e:String(e)}function d(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["default"]={props:{editorName:{type:String,required:!0}},computed:l(l({availableBlocks:function(){var t=this.editorName.split("|"),e=t[t.length-1];return this.getAvailableBlocks(e)},savedBlocks:function(){return this.blocks(this.editorName)},allSavedBlocks:function(){var t=this;return this.used&&Object.keys(this.used).reduce((function(e,n){return e.concat(t.used[n])}),[])},hasBlockActive:function(){return Object.keys(this.activeBlock).length>0}},(0,i.rn)({activeBlock:function(t){return t.blocks.active},used:function(t){return t.blocks.blocks},editorNames:function(t){return t.blocks.editorNames}})),(0,i.Se)({getAvailableBlocks:"availableBlocks",blocks:"blocks"})),methods:{reorderBlocks:function(t){this.$store.commit(o.RG.REORDER_BLOCKS,{editorName:this.editorName,value:t})},addBlock:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.$store.commit(o.RG.ADD_BLOCK,{editorName:e,block:l(l({},t),{},{type:t.type||t.component}),index:n})},moveBlock:function(t){var e=t.oldIndex,n=t.newIndex;this.$store.commit(o.RG.MOVE_BLOCK,{editorName:this.editorName,oldIndex:e,newIndex:n})},moveBlockToEditor:function(t,e,n,i){this.$store.dispatch(r.ZP.MOVE_BLOCK_TO_EDITOR,{block:t,editorName:e,index:n,futureIndex:i,id:Date.now()+Math.floor(1e3*Math.random())})},cloneBlock:function(t){var e=t.block,n=t.index;this.$store.dispatch(r.ZP.DUPLICATE_BLOCK,{editorName:this.editorName,futureIndex:n,block:e,id:Date.now()+Math.floor(1e3*Math.random())})}},render:function(){return this.$scopedSlots.default({availableBlocks:this.availableBlocks,savedBlocks:this.savedBlocks,reorderBlocks:this.reorderBlocks,moveBlock:this.moveBlock,editorNames:this.editorNames,hasBlockActive:this.hasBlockActive,allSavedBlocks:this.allSavedBlocks,activeBlock:this.activeBlock,addBlock:this.addBlock,moveBlockToEditor:this.moveBlockToEditor,cloneBlock:this.cloneBlock})}}},7088:function(t,e,n){"use strict";n.d(e,{wk:function(){return It},_i:function(){return Pt},iC:function(){return Tt},ZP:function(){return Bt}});var i,r=function(){var t=this,e=t._self._c;return e("a17-dropdown",{ref:"rowSetupDropdown",attrs:{position:"bottom-right",fixed:!0}},[e("a17-button",{attrs:{variant:"icon"},on:{click:function(e){return t.$refs.rowSetupDropdown.toggle()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[t.row.hasOwnProperty("permalink")?e("a",{attrs:{href:t.row["permalink"],target:"_blank"}},[t._v("View permalink")]):t._e(),t.row.hasOwnProperty("edit")&&!t.row.hasOwnProperty("deleted")&&t.row["edit"]?e("a",{attrs:{href:t.editUrl},on:{click:function(e){return t.preventEditInPlace(e)}}},[t._v(t._s(t.$trans("listing.dropdown.edit","Edit")))]):t._e(),t.row.hasOwnProperty("published")&&!t.row.hasOwnProperty("deleted")?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.update("published")}}},[t._v(t._s(t.row["published"]?t.$trans("listing.dropdown.unpublish","Unpublish"):t.$trans("listing.dropdown.publish","Publish")))]):t._e(),t.row.hasOwnProperty("featured")&&!t.row.hasOwnProperty("deleted")?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.update("featured")}}},[t._v(t._s(t.row["featured"]?t.$trans("listing.dropdown.unfeature","Unfeature"):t.$trans("listing.dropdown.feature","Feature")))]):t._e(),t.row.duplicate&&!t.row.hasOwnProperty("deleted")?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.duplicateRow.apply(null,arguments)}}},[t._v(t._s(t.$trans("listing.dropdown.duplicate","Duplicate")))]):t._e(),t.row.hasOwnProperty("deleted")?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.restoreRow.apply(null,arguments)}}},[t._v(t._s(t.$trans("listing.dropdown.restore","Restore")))]):t._e(),t.row.hasOwnProperty("deleted")&&t.row.hasOwnProperty("destroyable")?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.destroyRow.apply(null,arguments)}}},[t._v(t._s(t.$trans("listing.dropdown.destroy","Destroy")))]):t.row.delete&&!t.row.hasOwnProperty("deleted")?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteRow.apply(null,arguments)}}},[t._v(t._s(t.$trans("listing.dropdown.delete","Delete")))]):t._e()])],1)},o=[],a=n(325),s={name:"TableCellActions",mixins:[a.Z],methods:{update:function(t){this.$emit("update",{row:this.row,col:t})}}},l=s,u=n(1001),c=(0,u.Z)(l,r,o,!1,null,"13effc32",null),d=c.exports,f=function(){var t=this,e=t._self._c;return e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleBulk.apply(null,arguments)}}},[e("a17-checkbox",{attrs:{name:"bulkEdit",value:t.value,initialValue:t.initialValue}})],1)},p=[],h={name:"A17TableCellBulk",mixins:[a.Z],components:{},props:{value:{type:Number,required:!0},initialValue:{type:Array,required:!0}},methods:{toggleBulk:function(){this.update()}}},m=h,b=(0,u.Z)(m,f,p,!1,null,"39bc7724",null),y=b.exports,v=function(){var t=this,e=t._self._c;return e("span",[t.formatDateLabel.length>0?e("span",{staticClass:"tablecell__datePub",class:{"s--expired":t.formatDateLabel===t.textExpired}},[t._v(" "+t._s(t._f("formatDatatableDate")(t.startDate))+" "),t.endDate?[t._v("- "+t._s(t._f("formatDatatableDate")(t.endDate)))]:t._e(),e("br"),e("span",[t._v(t._s(t.formatDateLabel))])],2):e("span",[t.startDate?[t._v(" "+t._s(t._f("formatDatatableDate")(t.startDate))+" ")]:[t._v(" — ")]],2)])},g=[],_=n(3374),w=n.n(_),O=n(1633),E={name:"A17TableCellDates",mixins:[a.Z],data:function(){return{textExpired:this.$trans("publisher.expired"),textScheduled:this.$trans("publisher.scheduled")}},computed:{formatDateLabel:function(){var t="",e=w()(this.startDate,new Date),n=this.endDate?w()(this.endDate,new Date):1;return this.startDate&&n<0?t=this.textExpired:e>0&&(t=this.textScheduled),t},startDate:function(){return this.row.hasOwnProperty("publish_start_date")?this.row.publish_start_date:""},endDate:function(){return this.row.hasOwnProperty("publish_end_date")?this.row.publish_end_date:""}},filters:O.Z},S=E,k=(0,u.Z)(S,v,g,!1,null,"01c55ed4",null),T=k.exports,P=function(t,e){return t("span",{staticClass:"tablecell__handle"})},C=[],x={name:"A17TableCellDraggable",mixins:[a.Z]},A=x,D=(0,u.Z)(A,P,C,!0,null,"5e2e3a3a",null),L=D.exports,I=function(){var t=this,e=t._self._c;return t.row.hasOwnProperty("featured")?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"tablecell__feature",class:{"tablecell__feature--active":t.row[t.colName]},attrs:{"data-tooltip-title":t.row.featured?"Unfeature":"Feature"},on:{click:function(e){return e.preventDefault(),t.toggleFeatured.apply(null,arguments)}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"star-feature_active"}}),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"star-feature"}})]):t._e()},M=[],j={name:"A17TableCellFeatured",mixins:[a.Z],methods:{toggleFeatured:function(){this.update()}}},N=j,R=(0,u.Z)(N,I,M,!1,null,"4b9e917c",null),B=R.exports,F=function(){var t=this,e=t._self._c;return t.col.hasOwnProperty("html")?e("a17-table-cell-html",t._b({on:{update:t.update,editInPlace:t.editInPlace}},"a17-table-cell-html",t.childProps,!1)):e("span",[t._v(t._s(t.row[t.colName]))])},$=[],U=function(){var t=this,e=t._self._c;return e("span",{ref:"cell",staticClass:"tablecell__raw",domProps:{innerHTML:t._s(t.row[t.colName])}})},V=[],Z={name:"A1TableCellHtml",mixins:[a.Z],mounted:function(){var t=this.$refs.cell.querySelector('a[data-edit="true"]');t&&t.addEventListener("click",this.preventEditInPlace)}},q=Z,W=(0,u.Z)(q,U,V,!1,null,null,null),H=W.exports,Y={name:"A17TableCellGeneric",mixins:[a.Z],computed:{childProps:function(){return this.$props}},components:{"a17-table-cell-html":H}},z=Y,K=(0,u.Z)(z,F,$,!1,null,"5babcbdd",null),G=K.exports,X=function(){var t=this,e=t._self._c;return e("span",[t._l(t.displayedLanguages,(function(n){return e("a",{key:n.value,staticClass:"tag tag--disabled",class:{"tag--enabled":n.published},attrs:{href:t.editWithLanguage(n)},on:{click:function(e){return t.editInPlace(e,n)}}},[t._v(" "+t._s(n.shortlabel)+" ")])})),t.languages.length>4?e("a",{staticClass:"more__languages f--small",attrs:{href:t.editWithLanguage(t.languages[0])},on:{click:function(e){return t.editInPlace(e,t.languages[0])}}},[t._v(" + "+t._s(t.languages.length-4)+" more ")]):t._e()],2)},Q=[],J={name:"A17TableCellLanguages",mixins:[a.Z],props:{languages:{type:Array,default:function(){return[]}}},computed:{displayedLanguages:function(){return this.languages.slice(0,4)}},methods:{editWithLanguage:function(t){var e={};return e.lang=t.value,this.editWithQuery(e)},editWithQuery:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));var i=e.length?"?"+e.join("&"):"";return"#"!==this.editUrl?this.editUrl+i:this.editUrl},editInPlace:function(t,e){this.$emit("editInPlace",t,e)}}},tt=J,et=(0,u.Z)(tt,X,Q,!1,null,"9ab54676",null),nt=et.exports,it=function(){var t=this,e=t._self._c;return e("span",{staticClass:"tablecell__nested-depth",style:t.cellWidth})},rt=[],ot={name:"A17TableCellNested",mixins:[a.Z],props:{depth:{type:Number,default:0},offset:{type:Number,default:0}},computed:{cellWidth:function(){return this.depth>0?{width:80*this.depth-20-this.offset+"px"}:""}}},at=ot,st=(0,u.Z)(at,it,rt,!1,null,"20294257",null),lt=st.exports,ut=function(){var t=this,e=t._self._c;return t.row.hasOwnProperty("published")?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"tablecell__pubstate",class:{"tablecell__pubstate--live":t.row[t.colName]},attrs:{"data-tooltip-title":t.row.published?"Unpublish":"Publish"},on:{click:function(e){return e.preventDefault(),t.togglePublish.apply(null,arguments)}}}):t._e()},ct=[],dt={name:"A17TableCellPublished",mixins:[a.Z],methods:{togglePublish:function(){this.update()}}},ft=dt,pt=(0,u.Z)(ft,ut,ct,!1,null,"120b42fa",null),ht=pt.exports,mt=function(){var t=this,e=t._self._c;return e("div",{class:t.getThumbClasses},[e("a",{attrs:{href:!t.row.hasOwnProperty("deleted")&&t.editUrl},on:{click:function(e){!t.row.hasOwnProperty("deleted")&&t.preventEditInPlace(e)}}},["rounded"===t.col.variation?[e("a17-avatar",{attrs:{name:t.rowTitle,thumbnail:t.row[t.colName]}})]:[e("img",{attrs:{src:t.row[t.colName]}})]],2)])},bt=[],yt=n(2279),vt={name:"A17TableCellThumbNail",mixins:[a.Z],components:{"a17-avatar":yt.Z},computed:{rowTitle:function(){var t,e;return null!==(t=null!==(e=this.row.name)&&void 0!==e?e:this.row.title.replace(/<[^>]*>?/gm,""))&&void 0!==t?t:""},getThumbClasses:function(){return["tablecell__thumb",this.col.variation?"tablecell__thumb--".concat(this.col.variation):""]}}},gt=vt,_t=(0,u.Z)(gt,mt,bt,!1,null,"3311a7fc",null),wt=_t.exports;function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function Et(t,e,n){return e=St(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function St(t){var e=kt(t,"string");return"symbol"===Ot(e)?e:String(e)}function kt(t,e){if("object"!==Ot(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Ot(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Tt=["draggable","bulk","languages","featured","published","thumbnail","publish_start_date","nested"],Pt="a17-table-cell-",Ct=d,xt=y,At=T,Dt=B,Lt=L,It=nt,Mt=ht,jt=G,Nt=lt,Rt=wt,Bt=(i={},Et(i,Pt+"actions",Ct),Et(i,Pt+"bulk",xt),Et(i,Pt+"publish_start_date",At),Et(i,Pt+"featured",Dt),Et(i,Pt+"draggable",Lt),Et(i,Pt+"generic",jt),Et(i,Pt+"languages",It),Et(i,Pt+"published",Mt),Et(i,Pt+"nested",Nt),Et(i,Pt+"thumbnail",Rt),i)},8413:function(t,e,n){"use strict";n.d(e,{Z:function(){return T}});var i,r=n(538),o=n(3268),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container search",class:{"search--dashboard":"dashboard"===t.type}},["dashboard"===t.type?e("transition",{attrs:{name:"fade_search-overlay"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.readyToShowResult,expression:"readyToShowResult"}],staticClass:"search__overlay",on:{click:t.toggleSearch}})]):t._e(),e("div",{staticClass:"search__input"},[e("input",{ref:"search",staticClass:"form__input",attrs:{type:"search",name:"search",autocomplete:"off",placeholder:t.placeholder},on:{input:t.onSearchInput}}),e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"search"}})]),e("transition",{attrs:{name:"fade_search-overlay"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.readyToShowResult,expression:"readyToShowResult"}],staticClass:"search__results"},[e("ul",[t._l(t.searchResults,(function(n){return e("li",{key:n.id},[e("a",{staticClass:"search__result",attrs:{href:n.href}},[e("div",{staticClass:"search__cell search__cell--thumb hide--xsmall"},[e("figure",{staticClass:"search__thumb"},[e("img",{attrs:{src:n.thumbnail}})])]),e("div",{staticClass:"search__cell search__cell--pubstate hide--xsmall"},[e("span",{staticClass:"search__pubstate",class:{"search__pubstate--live":n.published}})]),e("div",{staticClass:"search__cell"},[e("span",{staticClass:"search__title"},[t._v(t._s(n.title))]),n.date?e("p",{staticClass:"f--note"},[t._v(" "+t._s(n.activity)+" "),e("timeago",{attrs:{"auto-update":1,datetime:new Date(n.date)}}),t._v(" by "+t._s(n.author)+" "),e("span",{staticClass:"search__type"},[t._v(t._s(n.type))])],1):t._e()])])])})),e("li",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"search__no-result"},[t._v(" "+t._s(t.$trans("dashboard.search.loading","Loading…"))+" ")]),e("li",{directives:[{name:"show",rawName:"v-show",value:t.readyToShowResult&&!t.searchResults.length&&!t.loading,expression:"readyToShowResult && !searchResults.length && !loading"}],staticClass:"search__no-result"},[t._v(" "+t._s(t.$trans("dashboard.search.no-result","No results found."))+" ")])],2)])])],1)},s=[],l=n(9669),u=n.n(l),c=n(3279),d=n.n(c),f=n(3523),p=document.documentElement,h=[f.Z.search,f.Z.overlay],m=u().CancelToken,b=m.source(),y=document.querySelector(".header .header__title > a"),v={name:"A17Search",props:{open:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},placeholder:{type:String,default:function(){return this.$trans("dashboard.search-placeholder","Search everything…")}},endpoint:{type:String,default:null},type:{type:String,default:"header"}},data:function(){return{searchValue:"",loading:!1,readyToShowResult:!1,searchResults:[]}},watch:{open:function(){this.toggleSearch()},opened:function(){this.opened&&(i=this.$refs.search,i.focus())}},methods:{toggleSearch:function(){h.forEach((function(t){p.classList.toggle(t)})),this.open?document.addEventListener("keydown",this.handleKeyDown,!1):(this.$refs.search.blur(),this.searchResults=[],this.searchValue="",this.readyToShowResult=!1,document.removeEventListener("keydown",this.handleKeyDown,!1))},handleKeyDown:function(t){t.keyCode&&9===t.keyCode&&(t.shiftKey?document.activeElement.isEqualNode(y)&&(i.focus(),t.preventDefault()):document.activeElement.isEqualNode(i)&&(y.focus(),t.preventDefault()))},setLastFocusElement:function(){var t=this.searchResults.length;t?setTimeout((function(){i=document.querySelectorAll(".search__result")[t-1]}),1):i=this.$refs.search},fetchSearchResults:function(){var t=this,e={search:this.searchValue};this.loading?(b.cancel(),b=m.source()):this.loading=!0,this.readyToShowResult=!0,this.$http.get(this.endpoint,{params:e,cancelToken:b.token}).then((function(e){t.searchResults=e.data,t.loading=!1,t.setLastFocusElement()}),(function(e){u().isCancel(e)||(t.loading=!1)}))},onSearchInput:d()((function(t){this.searchValue=t.target.value,this.searchValue&&this.searchValue.length>0?("dashboard"===this.type&&h.forEach((function(t){p.classList.add(t)})),this.fetchSearchResults()):("dashboard"===this.type&&h.forEach((function(t){p.classList.remove(t)})),this.readyToShowResult=!1,this.searchResults=[],this.setLastFocusElement())}),300)}},g=v,_=n(1001),w=(0,_.Z)(g,a,s,!1,null,"2e1cd2e2",null),O=w.exports;r.ZP.use(o.Z);var E="searchApp",S={el:"#searchApp",components:{"a17-search":O},props:{topSpacing:{type:Number,default:60}},data:function(){return{open:!1,opened:!1,top:this.topSpacing}},computed:{positionStyle:function(){return{top:this.top+"px"}}},methods:{afterAnimate:function(){this.opened=!0},toggleSearch:function(){this.open=!this.open,this.top=this.topSpacing-(window.pageYOffset||document.documentElement.scrollTop),this.open?document.addEventListener("keydown",this.handleKeyDown,!1):(this.opened=!1,document.removeEventListener("keydown",this.handleKeyDown,!1))},handleKeyDown:function(t){t.keyCode&&27===t.keyCode&&this.toggleSearch()}}},k=!!document.getElementById(E)&&new r.ZP(S),T=k},2357:function(t,e,n){"use strict";n.d(e,{Z:function(){return T}});var i=n(538),r=n(8963),o=function(){var t=!1,e=!1,n=0,i=document.documentElement,o=document.querySelector("[data-header-mobile]"),a=document.querySelector(".ham"),s=document.querySelectorAll("[data-ham-btn]"),l=document.querySelectorAll("[data-closenav-btn]"),u=document.querySelector(".a17"),c="s--nav";function d(){return!t&&(!e&&(t=!0,n=window.pageYOffset,i.classList.add(c),u.style.top="-"+n+"px",a.style.top="-"+n+"px",o.style.top="-"+n+"px",document.addEventListener("keydown",p,!1),e=!0,void(t=!1)))}function f(){return!t&&(!!e&&(t=!0,i.classList.remove(c),u.style.top="",a.style.top="",o.style.top="",document.removeEventListener("keydown",p,!1),window.scrollTo(0,n),n=0,e=!1,void(t=!1)))}function p(t){27===t.keyCode&&e&&f()}s.length&&(0,r.Z)(s,(function(t){t.addEventListener("click",(function(n){e?f():d(),t.blur()}))})),l.length&&(0,r.Z)(l,(function(t){t.addEventListener("click",(function(n){e&&f(),t.blur()}))}))},a=o,s=n(3279),l=n.n(s),u=function(){var t=0,e=!1,n=167,i=document.documentElement,r="s--env";function o(){t=window.pageYOffset,e||window.requestAnimationFrame((function(){a()})),e=!0}function a(){t>n?i.classList.add(r):i.classList.remove(r),e=!1}window.addEventListener("scroll",(function(){o()})),window.addEventListener("resize",l()((function(){o()}))),o()},c=u,d=function(){var t=document.querySelector("[data-logout-form]");t&&document.body.addEventListener("click",(function(e){e.target.hasAttribute("data-logout-btn")&&(e.preventDefault(),t.submit())}))},f=d,p=n(8413),h=n(3857),m=n.n(h),b=n(5340),y=n(4306),v=n(3550);t=n.hmd(t);var g=function(){a(),c(),f()};t&&t.hot;var _=function(t,e){return!i.ZP.options.components[t]&&i.ZP.component(t,e)};"undefined"!==typeof window["TWILL"].TWILL_BLOCKS_COMPONENTS&&window["TWILL"].TWILL_BLOCKS_COMPONENTS.map((function(t){return _(t,{template:"#"+t,mixins:[b.Z]})}));var w=function(t){return"a17-".concat(t.match(/\w+/)[0].replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase())},O=n(9827);O.keys().map((function(t){var e=w(t.replace(/customs\//,""));return _(e,O(t).default)}));var E=n(9927);E.keys().map((function(t){var e=w(t);return _(e,E(t).default)}));var S=n(3848);S.keys().map((function(t){var e=w(t);return i.ZP.component(e,S(t).default)}));var k=n(9764);k.keys().map((function(t){var e=w(t);return i.ZP.component(e,k(t).default)})),y.Z.plugin(v.Z),window.Alpine=y.Z,y.Z.start(),window["TWILL"]||(window["TWILL"]={}),window["TWILL"].vheader=new i.ZP({el:"#headerUser"}),window["TWILL"].vsearch=p.Z,console.log("[32m","Made with ".concat("TWILL"," - v").concat(window["TWILL"].version)),m()(window["TWILL"].STORE,window.STORE);var T=g},6193:function(t,e,n){"use strict";var i=n(629);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e=l(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){var e=u(t,"string");return"symbol"===r(e)?e:String(e)}function u(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["Z"]={props:{name:{type:String,default:""},addNew:{type:String,default:""},options:{type:Array,default:function(){return[]}}},computed:a({fullOptions:function(){var t=this.optionsByName(this.name),e=this.options;return Array.isArray(t)&&t.forEach((function(t){var n=e.findIndex((function(e){return e.value===t.value}));-1===n&&e.push(t)})),t.length?e:this.options}},(0,i.Se)(["optionsByName"]))}},5340:function(t,e){"use strict";e["Z"]={props:{name:{type:String,required:!0},isOpen:{type:Boolean,default:!1}},data:function(){return{opened:this.isOpen}},methods:{open:function(){this.opened=!0},fieldName:function(t){return this.name+"["+t+"]"},repeaterName:function(t){return this.name.replace("[","-").replace("]","")+"|"+t},nestedEditorName:function(t){return this.name.replace("[","-").replace("]","")+"|"+t}}}},5445:function(t,e){"use strict";e["Z"]={props:{buckets:{type:Array,default:function(){return[]}},item:{type:Object},singleBucket:{type:Boolean,default:!0}},computed:{bucketClasses:function(){return{selected:"bucket"!==this.type&&this.inBuckets,single:this.singleBucket}}},methods:{addToBucket:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bucket;this.$emit("add-to-bucket",this.item,t)},inBucketById:function(t){var e=this,n=this.buckets.findIndex((function(e){return e.id===t}));if(-1!==n){var i=this.buckets[n].children.find((function(t){return t.id===e.item.id&&t.content_type.value===e.item.content_type.value}));return!!i}},restrictedBySource:function(t){var e=this.buckets.find((function(e){return e.id===t}));if(!e)return!1;if(!e.hasOwnProperty("acceptedSources"))return!0;if(0===e.acceptedSources.length)return!0;var n=this.item.content_type.value;return-1!==e.acceptedSources.findIndex((function(t){return t===n}))}}}},2544:function(t,e,n){"use strict";var i=n(8446),r=n.n(i);e["Z"]={props:{min:{type:Number,default:0},max:{type:Number,default:0},disabled:{type:Boolean,default:!1},selected:{type:Array,default:function(){return[]}}},data:function(){return{currentValue:this.selected}},watch:{selected:function(t){this.currentValue=t}},computed:{checkedValue:{get:function(){return this.currentValue},set:function(t){r()(t,this.currentValue)||(this.currentValue=t,"undefined"!==typeof this.saveIntoStore&&this.saveIntoStore(t),this.$emit("change",t))}}},methods:{isMax:function(t){return t.length>this.max&&this.max>0},isMin:function(t){return t.length<this.min&&this.min>0}}}},5602:function(t,e){"use strict";e["Z"]={props:{aspectRatio:{type:Number,default:null},viewMode:{type:Number,default:2},cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},dragMode:{type:String,default:"crop"},rotatable:{type:Boolean,default:!1},scalable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1}},computed:{defaultCropsOpts:function(){return{aspectRatio:this.initAspectRatio,viewMode:this.viewMode,cropBoxResizable:this.cropBoxResizable,cropBoxMovable:this.cropBoxMovable,dragMode:this.dragMode,rotatable:this.rotatable,scalable:this.scalable,zoomable:this.zoomable,guides:!1,center:!1,checkCrossOrigin:!1,background:!1}}}}},8382:function(t,e){"use strict";e["Z"]={props:{draggable:{type:Boolean,default:!0}},data:function(){return{animation:150,handle:".drag__handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",scrollSensitivity:30}},computed:{dragOptions:function(){return{animation:this.animation,handle:this.handle,ghostClass:this.ghostClass,chosenClass:this.chosenClass,dragClass:this.dragClass,scrollSensitivity:this.scrollSensitivity,disabled:!this.draggable}}}}},4084:function(t,e){"use strict";e["Z"]={methods:{openEditor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$root.$refs.editor&&this.$root.$refs.editor.open(t,e)}}}},2240:function(t,e,n){"use strict";var i=n(8446),r=n.n(i),o=n(629),a=n(4622);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e=d(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){var e=f(t,"string");return"symbol"===s(e)?e:String(e)}function f(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["Z"]={props:{hasDefaultStore:{type:Boolean,default:!1},inModal:{type:Boolean,default:!1},inStore:{type:String,default:""},fieldName:{type:String,default:""}},computed:u(u({storedValue:function(){return this.inModal?this.modalFieldValueByName(this.getFieldName()):this.fieldValueByName(this.getFieldName())}},(0,o.Se)(["fieldValueByName","modalFieldValueByName"])),(0,o.rn)({submitting:function(t){return t.form.loading},fields:function(t){return t.form.fields},modalFields:function(t){return t.form.modalFields}})),watch:{storedValue:function(t){if(""!==this.inStore){var e=this[this.inStore],n=this.locale?t[this.locale.value]:t;r()(e,n)||"undefined"!==typeof this.updateFromStore&&this.updateFromStore(n)}}},methods:{getFieldName:function(){return""!==this.fieldName?this.fieldName:this.name},saveIntoStore:function(t){if(""!==this.inStore){var e="";e=t||this[this.inStore];var n={};n.name=this.getFieldName(),n.value=e,this.locale&&(n.locale=this.locale.value),this.inModal?this.$store.commit(a.Yc.UPDATE_MODAL_FIELD,n):this.$store.commit(a.Yc.UPDATE_FORM_FIELD,n)}},preventSubmit:function(){this.$store.commit(a.Yc.PREVENT_SUBMIT)},allowSubmit:function(){this.$store.commit(a.Yc.ALLOW_SUBMIT)},destroyValue:function(){""!==this.inStore&&(this.inModal?this.$store.commit(a.Yc.REMOVE_MODAL_FIELD,this.getFieldName()):this.$store.commit(a.Yc.REMOVE_FORM_FIELD,this.getFieldName()))}},beforeMount:function(){var t=this.getFieldName();if(""!==this.inStore&&""!==t){var e=this.inModal?this.modalFields:this.fields,n=e.filter((function(e){return e.name===t}));n.length?this.locale?this[this.inStore]=n[0].value[this.locale.value]:this[this.inStore]=n[0].value:this.hasDefaultStore&&this.saveIntoStore()}}}},1483:function(t,e,n){"use strict";var i=n(629),r=n(4622),o=n(1633);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e=c(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){var e=d(t,"string");return"symbol"===a(e)?e:String(e)}function d(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["Z"]={filters:o.Z,computed:l({},(0,i.rn)({currentLocale:function(t){return t.language.active}})),methods:{formatPermalink:function(t){var e=this.$refs.permalink;if(e&&t){var n="";t.value&&"string"===typeof t.value?n=t.value:"string"===typeof t&&(n=t);var i=this.$options.filters.slugify(n),o={name:e.attributes?e.attributes.name:e.name,value:i};t.locale?o.locale=t.locale:o.locale=this.currentLocale.value,this.$store.commit(r.Yc.UPDATE_FORM_FIELD,o)}}}}},4690:function(t,e,n){"use strict";n.d(e,{R0:function(){return i},NF:function(){return a},BN:function(){return b},xY:function(){return k},tD:function(){return T.Z},Rb:function(){return P.Z},dx:function(){return C.Z},KS:function(){return x}});n(6193),n(5340);var i={props:{block:{type:Object,default:function(){}},blockIndex:{type:Number,default:0},blocksLength:{type:Number,default:0}},methods:{selectBlock:function(){this.$emit("block:select")},unselectBlock:function(){this.$emit("block:unselect")},deleteBlock:function(){this.$emit("block:delete")},moveBlock:function(t){this.$emit("block:move",t)},cloneBlock:function(){this.$emit("block:clone")},toggleBlockDropdown:function(){this.blocksLength>1&&this.$refs.blockDropdown&&this.$refs.blockDropdown.toggle()}}},r=n(361),o=n.n(r),a={props:{editorName:{type:String,required:!0},blocks:{type:Array,default:function(){return[]}},savedBlocksLength:{type:Number,default:0}},methods:{addAndEditBlock:function(t,e,n){var i=n.block,r=n.index;window["TWILL"].PREVSTATE=o()(this.$store.state),t(i,r),e(r)},saveBlock:function(t,e){window["TWILL"].hasOwnProperty("PREVSTATE")&&delete window["TWILL"].PREVSTATE,this.unselectBlock(t,e),this.$emit("block:save",e)},cancelBlock:function(t,e){window["TWILL"].hasOwnProperty("PREVSTATE")&&(console.warn("Store - Restore previous Store state"),this.$store.replaceState(window["TWILL"].PREVSTATE)),this.unselectBlock(t,e),this.$emit("block:cancel",e)},selectBlock:function(t,e){window["TWILL"].PREVSTATE=o()(this.$store.state),t(),this.$emit("block:select",e)},unselectBlock:function(t,e){t(),window["TWILL"].hasOwnProperty("PREVSTATE")&&delete window["TWILL"].PREVSTATE,this.$emit("block:unselect",e)},moveBlock:function(t){this.$emit("block:move",t)},cloneBlock:function(t){t(),this.$emit("block:clone")},deleteBlock:function(t){var e=this;this.$root.$refs.warningContentEditor?this.$root.$refs.warningContentEditor.open((function(){t(),e.$emit("block:delete")})):(t(),this.$emit("block:delete"))}}},s=(n(5445),n(2544),n(5602),n(629)),l=n(3145),u=n(4622);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e=h(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){var e=m(t,"string");return"symbol"===c(e)?e:String(e)}function m(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var b={props:{nested:{type:Boolean,default:!1},bulkeditable:{type:Boolean,default:!0},emptyMessage:{type:String,default:""}},computed:f(f({rows:{get:function(){return this.$store.state.datatable.data},set:function(t){var e=this.rows.length!==t.length;this.$store.commit(u.yY.UPDATE_DATATABLE_DATA,t),this.saveNewTree(e)}},isEmpty:function(){return this.rows.length<=0},isEmptyDatable:function(){return{"datatable__table--empty":this.isEmpty}}},(0,s.rn)({columns:function(t){return t.datatable.columns}})),(0,s.Se)(["visibleColumns","hideableColumns","visibleColumnsNames"])),methods:{saveNewTree:function(t){var e=this,n=!!t||this.nested,i=n?l.ZP.SET_DATATABLE_NESTED:l.ZP.SET_DATATABLE,r=function(){e.$store.commit(u.yY.UPDATE_DATATABLE_TRACKER,0),e.$store.dispatch(i)};t?(this.$store.commit(u.yY.UPDATE_DATATABLE_TRACKER,1),this.updateTracker>=2&&r()):r()}}},y=n(7088),v=n(484);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e=E(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t){var e=S(t,"string");return"symbol"===g(e)?e:String(e)}function S(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==g(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var k={props:{index:{type:Number,default:0},row:{type:Object,default:function(){return{}}},columns:{type:Array,default:function(){return[]}}},computed:w({editInModal:function(){return!!this.row.hasOwnProperty("editInModal")&&this.row.editInModal},editUrl:function(){return this.row.hasOwnProperty("edit")?this.row.edit:"#"},updateUrl:function(){return this.row.updateUrl?this.row.updateUrl:"#"}},(0,s.rn)({bulkIds:function(t){return t.datatable.bulk}})),methods:{currentComponent:function(t){var e;return"object"===g(t)?y._i+(null!==(e=t.specificType)&&void 0!==e?e:t.name.toLowerCase()):y._i+t},currentComponentProps:function(t){var e={col:t||{},row:this.row,editUrl:this.editUrl,editInModal:Boolean(this.editInModal)};if(!t)return e;switch(t.name){case"bulk":e.value=this.row.id,e.initialValue=this.bulkIds;break;case"languages":e.languages=this.row.hasOwnProperty("languages")?this.row.languages:[],e.editUrl=this.editUrl;break;case"publish_start_date":e.startDate="",e.endDate="";break;default:break}return e},editInPlace:function(t){var e=this;if(t.lang){var n=t.lang;this.$store.commit(u.ad.UPDATE_LANG,n.value)}if(this.editInModal){var i=this.editInModal;this.$store.commit(u.DF.UPDATE_MODAL_MODE,"update"),this.$store.commit(u.DF.UPDATE_MODAL_ACTION,this.updateUrl),this.$store.commit(u.Yc.UPDATE_FORM_LOADING,!0),this.$store.dispatch(l.ZP.REPLACE_FORM,i).then((function(){e.$nextTick((function(){this.$root.$refs.editionModal&&this.$root.$refs.editionModal.open()}))}),(function(t){e.$store.commit(v.ZP.SET_NOTIF,{message:"Your content can not be edited, please retry",variant:"error"})}))}},cellClasses:function(t,e){var n;return n={},O(n,e+"--icon","featured"===t.name||"published"===t.name),O(n,e+"--bulk","bulk"===t.name),O(n,e+"--thumb","thumbnail"===t.name),O(n,e+"--draggable","draggable"===t.name),O(n,e+"--languages","languages"===t.name),O(n,e+"--nested","nested"===t.name),O(n,e+"--nested--parent","nested"===t.name&&0===this.nestedDepth),n},isSpecificColumn:function(t){var e;return y.iC.includes(null!==(e=t.specificType)&&void 0!==e?e:t.name)},tableCellUpdate:function(t){switch(t.col){case"published":this.togglePublish(t.row);break;case"bulk":this.toggleBulk(t.row);break;case"featured":this.toggleFeatured(t.row);break}},toggleFeatured:function(t){t.hasOwnProperty("deleted")?this.$store.commit(v.ZP.SET_NOTIF,{message:"You can’t feature/unfeature a deleted item, please restore it first.",variant:"error"}):this.$store.dispatch(l.ZP.TOGGLE_FEATURE,t)},toggleBulk:function(t){this.$store.commit(u.yY.UPDATE_DATATABLE_BULK,t.id)},togglePublish:function(t){t.hasOwnProperty("deleted")?this.$store.commit(v.ZP.SET_NOTIF,{message:"You can’t publish/unpublish a deleted item, please restore it first.",variant:"error"}):this.$store.dispatch(l.ZP.TOGGLE_PUBLISH,t)},restoreRow:function(t){this.$store.dispatch(l.ZP.RESTORE_ROW,t)},destroyRow:function(t){var e=this;this.$root.$refs.warningDestroyRow?this.$root.$refs.warningDestroyRow.open((function(){e.$store.dispatch(l.ZP.DESTROY_ROW,t)})):this.$store.dispatch(l.ZP.DESTROY_ROW,t)},deleteRow:function(t){var e=this;this.$root.$refs.warningDeleteRow?this.$root.$refs.warningDeleteRow.open((function(){e.$store.dispatch(l.ZP.DELETE_ROW,t)})):this.$store.dispatch(l.ZP.DELETE_ROW,t)},duplicateRow:function(t){this.$store.dispatch(l.ZP.DUPLICATE_ROW,t)}}},T=n(8382),P=n(4084),C=n(1483),x=(n(2240),n(35),n(6830),n(8348),n(9160),n(1017),{props:{nested:{type:Boolean,default:!1},maxDepth:{type:Number,default:1},depth:{type:Number,default:0},name:{type:String,default:"group1"},parentId:{type:Number,default:-1}},data:function(){return{currentElDepth:void 0}},computed:{updateTracker:function(){return this.$store.state.datatable.updateTracker},draggableGetComponentData:function(){return{props:{depth:this.depth}}}}});n(9464),n(325),n(9996)},35:function(t,e){"use strict";e["Z"]={props:{autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},name:{default:""},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"on"}}}},6830:function(t,e){"use strict";function n(t){var e=t.length;return t.reduce((function(t,n,i){return t+(i-1===e?", ":" and ")+n}))}e["Z"]={props:{label:{type:String,default:""},labelFor:{type:String,default:""},size:{type:String,default:"large"},variant:{type:String,default:""},fixedErrorKey:{type:String},note:{type:String,default:""}},computed:{errorKey:function(){return this.fixedErrorKey?this.hasLocale?this.fixedErrorKey.replace("[",".").replace("]",""):this.fixedErrorKey:this.hasLocale?this.name.replace("[",".").replace("]",""):this.name},errorLocales:function(){if(!this.hasLocale)return[];var t=this.errorKey.substr(0,this.errorKey.indexOf(".")),e=[],n=this.$store.state.language.all.map((function(t){return t.value}));return Object.keys(this.$store.state.form.errors).forEach((function(i){if(i.substr(0,i.indexOf("."))===t){var r=i.substr(i.indexOf(".")+1,i.length);n.includes(r)&&e.push(r)}}),[]),e},otherLocalesError:function(){var t=this;return this.errorLocales.filter((function(e){return e!==t.currentLocale.value})).length},errorMessageLocales:function(){var t=this;return n(this.errorLocales.map((function(e){return t.languages.find((function(t){return t.value===e})).label})))+" language"+(this.errorLocales.length>1?"s":"")+" missing details."},errorMessage:function(){return this.error?this.$store.state.form.errors[this.errorKey][0]:""},error:function(){return!!this.$store.state.form&&Object.keys(this.$store.state.form.errors).includes(this.errorKey)}}}},8348:function(t,e,n){"use strict";var i=n(629);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e=l(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){var e=u(t,"string");return"symbol"===r(e)?e:String(e)}function u(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["Z"]={props:{locale:{default:null}},computed:a({hasLocale:function(){return null!=this.locale},hasCurrentLocale:function(){return null!=this.currentLocale},isCurrentLocale:function(){return!this.hasLocale||!this.hasCurrentLocale||this.locale.value===this.currentLocale.value},isLocaleRTL:function(){var t=["ar","arc","dv","fa","ha","he","khw","ks","ku","ps","ur","yi"];return!!this.hasLocale&&t.includes(this.locale.shortlabel.toLowerCase())},dirLocale:function(){return this.isLocaleRTL?"rtl":"auto"},displayedLocale:function(){return!!this.hasLocale&&this.locale.shortlabel}},(0,i.rn)({currentLocale:function(t){return t.language.active},languages:function(t){return t.language.all}})),methods:{onClickLocale:function(){this.$emit("localize",this.locale)},updateLocale:function(t){this.$emit("localize",t)}}}},9160:function(t,e,n){"use strict";var i=n(629);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e=l(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){var e=u(t,"string");return"symbol"===r(e)?e:String(e)}function u(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["Z"]={props:{items:{type:Array,default:function(){return[]}},selectedItems:{type:Array,default:function(){return[]}},usedItems:{type:Array,default:function(){return[]}}},computed:a(a({},(0,i.rn)({itemsLoading:function(t){return t.mediaLibrary.loading}})),{},{replacingMediaIds:function(){return this.itemsLoading.reduce((function(t,e){return e.isReplacement&&(t[e.replacementId]=e.id),t}),{})}}),methods:{isSelected:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id"];return Boolean(this.selectedItems.find((function(n){return e.every((function(e){return n[e]===t[e]}))})))},isUsed:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id"];return Boolean(this.usedItems.find((function(n){return e.every((function(e){return n[e]===t[e]}))})))},toggleSelection:function(t){this.$emit("change",t)},shiftToggleSelection:function(t){this.$emit("shiftChange",t,!0)}}}},1017:function(t,e,n){"use strict";var i=n(4622);e["Z"]={props:{type:{type:String,default:"image"}},methods:{openMediaLibrary:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.name,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this.$store.commit(i.CV.UPDATE_MEDIA_CONNECTOR,e),this.$store.commit(i.CV.UPDATE_MEDIA_TYPE,this.type),this.$store.commit(i.CV.UPDATE_REPLACE_INDEX,n),this.$store.commit(i.CV.UPDATE_MEDIA_MAX,t),this.$store.commit(i.CV.UPDATE_MEDIA_MODE,!0),this.$store.commit(i.CV.UPDATE_MEDIA_FILESIZE_MAX,this.filesizeMax||0),this.$store.commit(i.CV.UPDATE_MEDIA_WIDTH_MIN,this.widthMin||0),this.$store.commit(i.CV.UPDATE_MEDIA_HEIGHT_MIN,this.heightMin||0),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}}},9464:function(t,e){"use strict";e["Z"]={data:function(){return{randKey:Date.now()+Math.floor(9999*Math.random())}}}},5512:function(t,e,n){"use strict";var i=n(629);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e=l(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){var e=u(t,"string");return"symbol"===r(e)?e:String(e)}function u(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}e["Z"]={data:function(){return{shouldRetrySubmitWhenAllowed:!1}},computed:a({},(0,i.rn)({isSubmitPrevented:function(t){return t.form.isSubmitPrevented}})),watch:{isSubmitPrevented:function(t){!t&&this.shouldRetrySubmitWhenAllowed&&(this.shouldRetrySubmitWhenAllowed=!1,this.retrySubmit())}},methods:{retrySubmit:function(){this.submitForm?this.submitForm():this.submit&&this.submit()}}}},325:function(t,e){"use strict";e["Z"]={props:{col:{type:Object,default:function(){}},row:{type:Object,default:function(){}},editUrl:{type:String,default:"#"},editInModal:{type:Boolean,default:!1}},computed:{colName:function(){return this.col.hasOwnProperty("name")?this.col.name:""}},methods:{update:function(){this.$emit("update",{row:this.row,col:this.colName})},preventEditInPlace:function(t){this.editInModal&&t.preventDefault(),this.editInPlace()},editInPlace:function(t,e){this.$emit("editInPlace",{event:t,lang:e})},restoreRow:function(){this.$emit("restoreRow",this.row)},destroyRow:function(){this.$emit("destroyRow",this.row)},deleteRow:function(){this.$emit("deleteRow",this.row)},duplicateRow:function(){this.$emit("duplicateRow",this.row)}}}},9996:function(t,e){"use strict";e["Z"]={props:{open:{type:Boolean,default:!1}},data:function(){return{visible:this.open}},computed:{visibilityClasses:function(){return{"s--open":this.visible}}},methods:{onClickVisibility:function(){this.visible=!this.visible,this.$emit("toggleVisibility",this.visible)}}}},3268:function(t,e,n){"use strict";n.d(e,{Z:function(){return Us}});var i=n(9669),r=n.n(i),o=n(7361),a=n.n(o),s=n(6604),l=n.n(s),u=n(2987),c=n(2279),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"browserField"},[t.buttonOnTop&&t.remainingItems?e("div",{staticClass:"browserField__trigger"},[e("a17-button",{attrs:{type:"button",disabled:t.disabled||t.connectedBrowserField&&0===t.connectedBrowserFieldItems.length,variant:"ghost"},on:{click:t.openBrowser}},[t._v(" "+t._s(t.addLabel)+" ")]),e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.itemsIds}}),e("span",{staticClass:"browserField__note f--small"},[t._t("default")],2)],1):t._e(),t.items.length?e("table",{staticClass:"browserField__table"},[e("draggable",{attrs:{tag:"tbody",disabled:t.disabled},model:{value:t.items,callback:function(e){t.items=e},expression:"items"}},t._l(t.items,(function(n,i){return e("a17-browseritem",{key:n.endpointType+"_"+n.id,staticClass:"item__content",attrs:{name:"".concat(t.name,"_").concat(n.id),draggable:!t.disabled&&t.draggable,item:n,disabled:t.disabled,max:t.max,showType:t.endpoints.length>0},on:{delete:function(e){return t.deleteItem(i)}}})})),1)],1):t._e(),!t.buttonOnTop&&t.remainingItems?e("div",{staticClass:"browserField__trigger"},[e("a17-button",{attrs:{type:"button",disabled:t.disabled||t.connectedBrowserField&&0===t.connectedBrowserFieldItems.length,variant:"ghost"},on:{click:t.openBrowser}},[t._v(" "+t._s(t.addLabel)+" ")]),e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.itemsIds}}),e("span",{staticClass:"browserField__note f--small"},[t._t("default")],2)],1):t._e()])},f=[],p=n(2719),h=n.n(p),m=n(629),b=n(8382),y=n(4622),v=function(){var t=this,e=t._self._c;return e("tr",{staticClass:"browserItem"},[t.draggable&&t.max>1?e("td",{staticClass:"browserItem__cell browserItem__cell--drag"},[e("div",{class:t.dragClasses})]):t._e(),t.hasThumbnail?e("td",{class:t.thumbnailClasses},[t.isUser?[e("a17-avatar",{attrs:{name:t.currentItem.name,thumbnail:t.currentItem.thumbnail}})]:[e("a",{attrs:{href:"#",target:"_blank"}},[e("img",{attrs:{src:t.currentItem.thumbnail}})])]],2):t._e(),e("td",{staticClass:"browserItem__cell browserItem__cell--name"},[e("a",{attrs:{href:t.currentItem.edit,target:"_blank"}},[t.currentItem.hasOwnProperty("renderHtml")?e("span",{staticClass:"f--link-underlined--o",domProps:{innerHTML:t._s(t.currentItem.name)}}):e("span",{staticClass:"f--link-underlined--o"},[t._v(t._s(t.currentItem.name))])]),e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.currentItem.id}})]),t.currentItem.hasOwnProperty("endpointType")&&t.showType?e("td",{staticClass:"browserItem__cell browserItem__cell--type"},[e("span",[t._v(t._s(t.currentItem.endpointType))])]):t._e(),t.deletable?e("td",{staticClass:"browserItem__cell browserItem__cell--icon"},[t.disabled?t._e():e("a17-button",{staticClass:"bucket__action",attrs:{icon:"close"},on:{click:function(e){return t.deleteItem()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})])],1):t._e()])},g=[],_={name:"A17BrowserItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},max:{type:Number,default:10},showType:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{handle:".item__handle"}},computed:{hasThumbnail:function(){return Boolean(this.currentItem.hasOwnProperty("thumbnail"))},hasLargeThumbnail:function(){return this.hasThumbnail&&!this.isUser},isUser:function(){return Boolean("users"===this.currentItem.endpointType)},dragClasses:function(){return["drag__handle--drag",this.hasLargeThumbnail?"":"drag__handle--drag-small"]},thumbnailClasses:function(){return["browserItem__cell","browserItem__cell--thumb",this.isUser?"browserItem__cell--thumb-avatar":""]},currentItem:function(){return this.item},deletable:function(){return!this.currentItem.hasOwnProperty("deletable")||!0===this.currentItem.deletable}},methods:{deleteItem:function(){this.$emit("delete")}}},w=_,O=n(1001),E=(0,O.Z)(w,v,g,!1,null,"19917f52",null),S=E.exports;function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return e=x(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x(t){var e=A(t,"string");return"symbol"===k(e)?e:String(e)}function A(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==k(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var D,L,I={name:"A17BrowserField",components:{"a17-browseritem":S,draggable:h()},mixins:[b.Z],props:{name:{type:String,required:!0},modalTitle:{type:String,default:""},browserNote:{type:String,default:""},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},endpoints:{type:Array,default:function(){return[]}},draggable:{type:Boolean,default:!0},max:{type:Number,default:10},wide:{type:Boolean,default:!1},buttonOnTop:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},connectedBrowserField:{type:String,defautl:null}},data:function(){return{handle:".item__handle"}},computed:P(P({remainingItems:function(){return this.max-this.items.length},addLabel:function(){return this.$trans("fields.browser.add-label","Add")+" "+this.itemLabel},browserTitle:function(){return""!==this.modalTitle?this.modalTitle:this.addLabel},items:{get:function(){return this.selectedBrowser.hasOwnProperty(this.name)&&this.selectedBrowser[this.name]||[]},set:function(t){this.$store.commit(y.Uv.REORDER_ITEMS,{name:this.name,items:t})}},itemsIds:function(){return this.selectedItemsByIds[this.name]?this.selectedItemsByIds[this.name].join():""},connectedBrowserFieldItems:function(){return this.selectedBrowser[this.connectedBrowserField]||[]}},(0,m.rn)({selectedBrowser:function(t){return t.browser.selected}})),(0,m.Se)(["selectedItemsByIds"])),methods:{deleteAll:function(){this.$store.commit(y.Uv.DESTROY_ITEMS,{name:this.name})},deleteItem:function(t){this.$store.commit(y.Uv.DESTROY_ITEM,{name:this.name,index:t})},openBrowser:function(){if(this.$store.commit(y.Uv.UPDATE_BROWSER_CONNECTOR,this.name),this.endpoints.length>0)this.$store.commit(y.Uv.UPDATE_BROWSER_ENDPOINTS,this.endpoints);else{this.$store.commit(y.Uv.DESTROY_BROWSER_ENDPOINTS);var t=this.endpoint;if(this.connectedBrowserFieldItems.length){var e="?";t.indexOf("?")>-1&&(e="&"),t=t+e+"connectedBrowserIds= "+encodeURIComponent(JSON.stringify(this.connectedBrowserFieldItems.map((function(t){return t.id}))))}this.$store.commit(y.Uv.UPDATE_BROWSER_ENDPOINT,{value:t,label:this.name})}this.$store.commit(y.Uv.UPDATE_BROWSER_MAX,this.max),this.$store.commit(y.Uv.UPDATE_BROWSER_TITLE,this.browserTitle),this.$store.commit(y.Uv.UPDATE_BROWSER_NOTE,this.browserNote),this.wide?this.$root.$refs.browserWide.open(this.endpoints.length<=0):this.$root.$refs.browser.open(this.endpoints.length<=0)},destroyValue:function(){this.deleteAll()}},watch:{connectedBrowserFieldItems:function(t){this.connectedBrowserField&&0===t.length&&this.deleteAll()}}},M=I,j=(0,O.Z)(M,d,f,!1,null,"0ddc4be5",null),N=j.exports,R={name:"A17Button",props:{el:{type:String,default:"button"},type:{type:String,default:"button"},href:{type:String,default:""},target:{type:String,default:""},download:{type:String,default:""},rel:{type:String,default:""},variant:{type:String,default:""},icon:{default:""},disabled:{type:Boolean,default:!1},size:{type:String,default:""}},computed:{buttonClasses:function(){var t=["button",this.size?"button--".concat(this.size):""];return this.variant&&this.variant.split(" ").forEach((function(e){t.push("button--".concat(e))})),this.icon&&t.push("button--icon button--".concat(this.icon)),t}},methods:{onClick:function(t){this.$emit("click")}},render:function(t){var e=this,n={class:this.buttonClasses,attrs:{},on:{click:function(t){e.onClick(t)}}};return"button"===this.el&&(n.attrs.type=this.type,this.disabled&&(n.attrs.disabled=this.disabled)),"a"===this.el&&this.href&&(n.attrs.href=this.href,this.target&&(n.attrs.target=this.target),this.download&&(n.attrs.download=this.download),this.rel&&(n.attrs.rel=this.rel)),t(this.el,n,this.$slots.default)}},B=R,F=(0,O.Z)(B,D,L,!1,null,"59eeac35",null),$=F.exports,U=function(){var t=this,e=t._self._c;return e("div",{class:t.barClasses},[t._t("default")],2)},V=[],Z={name:"A17Buttonbar",props:{type:{type:String,default:"button"},variant:{type:String,default:""}},computed:{barClasses:function(){return["buttonbar",this.variant?"buttonbar--".concat(this.variant):""]}}},q=Z,W=(0,O.Z)(q,U,V,!1,null,"7223fc6a",null),H=W.exports,Y=function(){var t=this,e=t._self._c;return e("span",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedValue,expression:"checkedValue"}],key:t.uniqId,staticClass:"checkbox__input",class:t.checkboxClasses,attrs:{type:"checkbox",name:t.name,id:t.uniqId,disabled:t.disabled},domProps:{value:t.value,checked:Array.isArray(t.checkedValue)?t._i(t.checkedValue,t.value)>-1:t.checkedValue},on:{change:function(e){var n=t.checkedValue,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=t.value,a=t._i(n,o);i.checked?a<0&&(t.checkedValue=n.concat([o])):a>-1&&(t.checkedValue=n.slice(0,a).concat(n.slice(a+1)))}else t.checkedValue=r}}}),e("label",{staticClass:"checkbox__label",attrs:{for:t.uniqId}},[t._v(t._s(t.label)+" "),e("span",{staticClass:"checkbox__icon"},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})])])])},z=[],K=n(9464),G={name:"A17Checkbox",mixins:[K.Z],props:{value:{default:""},initialValue:{default:function(){return[]}},name:{type:String,default:""},theme:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{uniqId:function(t){return this.name+"_"+this.value+"-"+this.randKey},checkboxClasses:function(){return[this.theme?"checkbox__input--".concat(this.theme):""]},checkedValue:{get:function(){return this.initialValue},set:function(t){this.$emit("change",t)}}}},X=G,Q=(0,O.Z)(X,Y,z,!1,null,"20e8e5e7",null),J=Q.exports,tt=function(){var t=this,e=t._self._c;return e("a17-inputframe",{attrs:{error:t.error,note:t.note,label:t.label,name:t.name}},[e("ul",{staticClass:"checkboxGroup",class:t.checkboxClasses},t._l(t.options,(function(n){return e("li",{key:n.value,staticClass:"checkboxGroup__item"},[e("a17-checkbox",{attrs:{name:t.name,value:n.value,label:n.label,initialValue:t.currentValue,disabled:n.disabled||t.disabled},on:{change:t.changeValue}})],1)})),0)])},et=[],nt=n(8446),it=n.n(nt),rt=n(2544),ot=n(2240),at=n(6830),st={name:"A17CheckboxGroup",props:{name:{type:String,default:""},inline:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}}},mixins:[at.Z,rt.Z,ot.Z],computed:{checkboxClasses:function(){return[this.inline?"checkboxGroup--inline":""]}},methods:{formatValue:function(t,e){var n=this;if(t&&e){var i=this.isMax(t),r=this.isMin(t);(i||r)&&(it()(e,n.checkedValue)||(n.checkedValue=e))}},updateFromStore:function(t){this.updateValue(t)},updateValue:function(t){this.checkedValue=t},changeValue:function(t){it()(t,this.currentValue)||this.updateValue(t)}},mounted:function(){this.max+this.min>0&&this.$watch("currentValue",this.formatValue,{immediate:!0})}},lt=st,ut=(0,O.Z)(lt,tt,et,!1,null,"3e53c5c2",null),ct=ut.exports,dt=function(){var t=this,e=t._self._c;return e("a17-inputframe",{attrs:{error:t.error,note:t.note,label:t.label,name:t.name,required:t.required}},[e("div",{staticClass:"form__field",class:t.textfieldClasses},[e("input",{attrs:{type:"text",placeholder:t.placeholder,name:t.name,id:t.name,disabled:t.disabled,required:t.required,readonly:t.readonly,autofocus:t.autofocus,autocomplete:t.autocomplete,maxlength:"7"},domProps:{value:t.value},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInput}}),e("a17-dropdown",{ref:"colorDropdown",staticClass:"form__field--color",attrs:{position:"bottom-right",arrow:!0,offset:15,minWidth:300,clickable:!0,sideOffset:15},on:{close:t.saveIntoStore}},[e("span",{staticClass:"form__field--colorBtn",style:t.bcgStyle,on:{click:function(e){return t.$refs.colorDropdown.toggle()}}}),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e("a17-colorpicker",{attrs:{color:t.value},on:{change:t.updateValueFromPicker}})],1)])],1)])},ft=[],pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"colorpicker"},[e("div",{staticClass:"colorpicker__color"},[e("div",{ref:"satContainer",staticClass:"colorpicker__saturation",style:{background:t.bgColor},on:{mousedown:function(e){return t.handleMouseDown("saturation")}}},[e("div",{staticClass:"colorpicker__saturation--white"}),e("div",{staticClass:"colorpicker__saturation--black"}),e("div",{staticClass:"colorpicker__saturation-pointer",style:{top:t.satPointerTop,left:t.satPointerLeft}},[e("div",{staticClass:"colorpicker__saturation-circle"})])]),e("div",{staticClass:"colorpicker__hue colorpicker__hue--vertical"},[e("div",{ref:"hueContainer",staticClass:"colorpicker__hue-container",on:{mousedown:function(e){return t.handleMouseDown("hue")}}},[e("div",{staticClass:"colorpicker__hue-pointer",style:{top:t.huePointerTop,left:t.huePointerLeft}},[e("div",{staticClass:"colorpicker__hue-picker"})])])])])])},ht=[],mt=n(3493),bt=n.n(mt),yt=n(7621),vt=n.n(yt),gt={name:"a17ColorPicker",props:{color:{type:String,required:!0},direction:{type:String,default:"vertical"}},data:function(){return{currentColor:vt()(this.color),currentColorHue:vt()(this.color).toHsv().h,currentTarget:"",pullDirection:""}},computed:{bgColor:function(){return"hsl(".concat(this.currentColorHue,", 100%, 50%)")},satPointerTop:function(){return-100*this.currentColor.toHsv().v+1+100+"%"},satPointerLeft:function(){return 100*this.currentColor.toHsv().s+"%"},huePointerTop:function(){return"vertical"===this.direction?0===this.currentColorHue&&"right"===this.pullDirection?0:-100*this.currentColorHue/360+100+"%":0},huePointerLeft:function(){return"vertical"===this.direction?0:0===this.currentColorHue&&"right"===this.pullDirection?"100%":100*this.currentColorHue/360+"%"}},methods:{throttle:bt()((function(t,e){t(e)}),20,{leading:!0,trailing:!1}),satHandleChange:function(t,e){!e&&t.preventDefault();var n=this.$refs.satContainer;if(n){var i=n.clientWidth,r=n.clientHeight,o=n.getBoundingClientRect().left+window.pageXOffset,a=n.getBoundingClientRect().top+window.pageYOffset,s=t.pageX||(t.touches?t.touches[0].pageX:0),l=t.pageY||(t.touches?t.touches[0].pageY:0),u=s-o,c=l-a;u<0?u=0:u>i?u=i:c<0?c=0:c>r&&(c=r);var d=u/i,f=-c/r+1;f=f>0?f:0,f=f>1?1:f,this.throttle(this.onChange,{h:this.currentColorHue,s:d,v:f,a:this.currentColor.toHsv().a})}},hueHandleChange:function(t,e){!e&&t.preventDefault();var n,i,r=this.$refs.hueContainer,o=r.clientWidth,a=r.clientHeight,s=r.getBoundingClientRect().left+window.pageXOffset,l=r.getBoundingClientRect().top+window.pageYOffset,u=t.pageX||(t.touches?t.touches[0].pageX:0),c=t.pageY||(t.touches?t.touches[0].pageY:0),d=u-s,f=c-l;"vertical"===this.direction?f<0?n=360:f>a?n=0:(i=-100*f/a+100,n=360*i/100):d<0?n=0:d>o?n=360:(i=100*d/o,n=360*i/100),this.currentColorHue!==n&&this.throttle(this.onChange,{h:n,s:this.currentColor.toHsl().s,l:this.currentColor.toHsl().l,a:this.currentColor.toHsl().a,source:"hsl"})},handleMouseDown:function(t){this.currentTarget=t,"saturation"===this.currentTarget?(window.addEventListener("mousemove",this.satHandleChange),window.addEventListener("mouseup",this.satHandleChange)):(window.addEventListener("mousemove",this.hueHandleChange),window.addEventListener("mouseup",this.hueHandleChange)),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp:function(t){this.unbindEventListeners()},unbindEventListeners:function(){"saturation"===this.currentTarget?(window.removeEventListener("mousemove",this.satHandleChange),window.removeEventListener("mouseup",this.satHandleChange)):(window.removeEventListener("mousemove",this.hueHandleChange),window.removeEventListener("mouseup",this.hueHandleChange)),window.removeEventListener("mouseup",this.handleMouseUp)},onChange:function(t){this.currentColor=vt()(t),this.currentColorHue=t.h,this.$emit("change",this.currentColor.toHexString())}}},_t=gt,wt=(0,O.Z)(_t,pt,ht,!1,null,null,null),Ot=wt.exports,Et=n(35),St={name:"a17ColorField",mixins:[Et.Z,at.Z,ot.Z],props:{name:{type:String,required:!0},initialValue:{default:""},defaultValue:{default:""}},components:{"a17-colorpicker":Ot},data:function(){return{focused:!1,value:this.initialValue}},mounted:function(){""===this.value&&""!==this.defaultValue&&this.updateValue(this.defaultValue)},computed:{bcgStyle:function(){return{"background-color":""!==this.value?this.value:"transparent"}},textfieldClasses:function(){return{"s--focus":this.focused,"s--disabled":this.disabled}}},methods:{updateFromStore:function(t){"undefined"===typeof t&&(t=""),this.value!==t&&(this.value=t)},updateValueFromPicker:function(t){this.value!==t&&(this.value=t)},updateValue:function(t){this.value!==t&&(this.value=t,this.saveIntoStore())},onBlur:function(t){var e=t.target.value;this.updateValue(e),this.focused=!1},onFocus:function(){this.focused=!0},onInput:function(){}}},kt=St,Tt=(0,O.Z)(kt,dt,ft,!1,null,"09f5e603",null),Pt=Tt.exports,Ct=function(){var t=this,e=t._self._c;return e("a17-inputframe",{staticClass:"datePicker",class:{"datePicker--static":t.staticMode,"datePicker--mobile":t.isMobile},attrs:{name:t.name,error:t.error,note:t.note,label:t.label,"label-for":t.uniqId,required:t.required}},[e("div",{ref:t.refs.flatPicker,staticClass:"datePicker__group"},[e("div",{staticClass:"form__field datePicker__field"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],attrs:{type:"text",name:t.name,id:t.uniqId,required:t.required,placeholder:t.placeHolder,"data-input":"",disabled:t.disabled},domProps:{value:t.date},on:{blur:t.onBlur,input:function(e){e.target.composing||(t.date=e.target.value)}}}),t.clear?e("a",{staticClass:"datePicker__reset",class:{"datePicker__reset--cleared":!t.date},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.onClear.apply(null,arguments)}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})]):t._e()])])])},xt=[],At=n(1884),Dt=n.n(At),Lt=n(6667),It=n(4293),Mt={name:"A17DatePicker",mixins:[K.Z,at.Z,ot.Z],props:{name:{type:String,default:"date"},required:{type:Boolean,default:!1},placeHolder:{type:String,default:""},allowInput:{type:Boolean,default:!1},enableTime:{type:Boolean,default:!1},noCalendar:{type:Boolean,default:!1},time_24hr:{type:Boolean,default:(0,It.aq)()},altFormat:{type:String,default:null},inline:{type:Boolean,default:!1},initialValue:{type:String,default:null},hourIncrement:{type:Number,default:1},minuteIncrement:{type:Number,default:30},staticMode:{type:Boolean,default:!1},minDate:{type:String,default:null},maxDate:{type:String,default:null},disabled:{type:Boolean,default:!1},mode:{type:String,default:"single",validator:function(t){return"single"===t||"multiple"===t||"range"===t}},clear:{type:Boolean,default:!1}},data:function(){return{date:this.initialValue,isMobile:!1,flatPicker:null,refs:{flatPicker:"flatPicker"}}},computed:{uniqId:function(t){return this.name+"-"+this.randKey},altFormatComputed:function(){return null!==this.altFormat?this.altFormat:"F j, Y"+(this.enableTime?this.time_24hr||(0,It.aq)()?" H:i":" h:i K":"")}},methods:{config:function(){var t=this,e={wrap:!0,altInput:!0,altFormat:t.altFormatComputed,dateFormat:t.enableTime?"Z":"Y-m-d",static:t.staticMode,appendTo:t.staticMode?t.$refs[t.refs.flatPicker]:void 0,enableTime:t.enableTime,noCalendar:t.noCalendar,time_24hr:t.time_24hr,inline:t.inline,allowInput:t.allowInput,mode:t.mode,minuteIncrement:t.minuteIncrement,hourIncrement:t.hourIncrement,minDate:t.minDate,altInputClass:"flatpickr-input form-control",maxDate:t.maxDate,parseDate:function(t,e){var n="yyyy-MM-dd HH:mm:ss";if(t.length===n.length)return Dt()(t+"Z",n+"X",Date.UTC());var i="yyyy-MM-dd HH:mm";if(t.length===i.length)return Dt()(t+"Z",n+"X",Date.UTC());var r="yyyy-MM-dd";return t.length===r.length?Dt()(t,r,Date.UTC()):new Date(t)},onOpen:function(){setTimeout((function(){t.flatPicker.set("maxDate",t.maxDate),t.flatPicker.set("minDate",t.minDate),t.$emit("open",t.date)}),10)},onClose:function(e,n,i){t.$emit("input",n),t.$emit("close",n),t.saveIntoStore()}},n=It.k1[(0,It.BH)()];return void 0!==n&&n.hasOwnProperty("flatpickr")&&(e.locale=n.flatpickr),e},updateFromStore:function(t){t!==this.date&&(this.date=t,this.flatPicker.setDate(t))},onInput:function(t){this.$emit("input",this.date)},onBlur:function(){this.$emit("blur",this.date)},onClear:function(){this.flatPicker.clear(),this.saveIntoStore(),this.$emit("input",this.date)}},mounted:function(){var t=this,e=t.$refs[t.refs.flatPicker],n=t.config();t.flatPicker=new Lt.Z(e,n),this.isMobile=t.flatPicker.isMobile},beforeDestroy:function(){var t=this;t.flatPicker.destroy()}},jt=Mt,Nt=(0,O.Z)(jt,Ct,xt,!1,null,"1e06c274",null),Rt=Nt.exports,Bt=function(){var t=this,e=t._self._c;return e("a17-modal",{ref:"modal",staticClass:"modal--tiny modal--form modal--withintro",attrs:{title:t.modalTitle,forceClose:!0}},[t._t("default"),e("a17-inputframe",[e("a17-button",{staticClass:"dialog-confirm",attrs:{variant:"validate"}},[t._v(t._s(t.confirmLabel))]),t._v(" "),e("a17-button",{staticClass:"dialog-cancel",attrs:{variant:"aslink"}},[e("span",[t._v(t._s(t.cancelLabel))])])],1)],2)},Ft=[],$t={name:"A17Dialog",props:{name:{type:String,default:""},modalTitle:{type:String,default:function(){return this.$trans("dialog.title")}},confirmLabel:{type:String,default:function(){return this.$trans("dialog.ok")}},cancelLabel:{type:String,default:function(){return this.$trans("dialog.cancel")}}},methods:{open:function(t){var e=this;this.$refs.modal&&this.$refs.modal.open(),this.$nextTick((function(){e.$el.querySelector(".dialog-confirm").addEventListener("click",(function(n){t(),e.close()})),e.$el.querySelector(".dialog-cancel").addEventListener("click",(function(t){e.close()}))}))},close:function(){this.$refs.modal&&this.$refs.modal.close()}}},Ut=$t,Vt=(0,O.Z)(Ut,Bt,Ft,!1,null,null,null),Zt=Vt.exports,qt=n(7352),Wt=function(){var t=this,e=t._self._c;return e("a17-inputframe",{attrs:{error:t.error,label:t.label,locale:t.locale,size:t.size,name:t.name,note:t.fieldNote},on:{localize:t.updateLocale}},[e("div",{staticClass:"fileField"},[t.buttonOnTop&&t.remainingItems?e("div",{staticClass:"fileField__trigger"},[e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.itemsIds}}),e("a17-button",{attrs:{type:"button",variant:"ghost"},on:{click:function(e){return t.openMediaLibrary(t.remainingItems)}}},[t._v(t._s(t.addLabel))]),e("span",{staticClass:"fileField__note f--small"},[t._v(t._s(t.note))])],1):t._e(),t.items.length?e("table",{staticClass:"fileField__list"},[e("draggable",{attrs:{tag:"tbody"},model:{value:t.items,callback:function(e){t.items=e},expression:"items"}},t._l(t.items,(function(n,i){return e("a17-fileitem",{key:n.id,staticClass:"item__content",attrs:{name:"".concat(t.name,"_").concat(n.id),draggable:t.isDraggable,item:n},on:{delete:function(e){return t.deleteItem(i)}}})})),1)],1):t._e(),!t.buttonOnTop&&t.remainingItems?e("div",{staticClass:"fileField__trigger"},[e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.itemsIds}}),e("a17-button",{attrs:{type:"button",variant:"ghost"},on:{click:function(e){return t.openMediaLibrary(t.remainingItems)}}},[t._v(t._s(t.addLabel))]),e("span",{staticClass:"fileField__note f--small"},[t._v(t._s(t.note))])],1):t._e()])])},Ht=[],Yt=n(8348),zt=n(1017),Kt=function(){var t=this,e=t._self._c;return e("tr",{staticClass:"fileItem"},[t.draggable?e("td",{staticClass:"fileItem__cell fileItem__cell--drag"},[e("div",{staticClass:"drag__handle--drag"})]):t._e(),t.currentItem.hasOwnProperty("extension")?e("td",{staticClass:"fileItem__cell fileItem__cell--extension"},[e("a",{attrs:{href:"#",target:"_blank"}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:t.getSvgIconName()}})])]):t._e(),e("td",{staticClass:"fileItem__cell fileItem__cell--name"},[t.currentItem.hasOwnProperty("thumbnail")?e("span",[e("img",{attrs:{src:t.currentItem.thumbnail}})]):t._e(),e("a",{attrs:{href:t.currentItem.hasOwnProperty("original")?t.currentItem.original:"#",download:""}},[e("span",{staticClass:"f--link-underlined--o"},[t._v(t._s(t.currentItem.name))])]),e("input",{attrs:{type:"hidden",name:t.name},domProps:{value:t.currentItem.id}})]),t.currentItem.hasOwnProperty("size")?e("td",{staticClass:"fileItem__cell fileItem__cell--size"},[t._v(t._s(t.currentItem.size))]):t._e(),e("td",{staticClass:"fileItem__cell"},[e("a17-button",{staticClass:"bucket__action",attrs:{icon:"close"},on:{click:function(e){return t.deleteItem()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_icon"}})])],1)])},Gt=[],Xt={img:{extensions:["gif","png","jpg"],icon:"img",display:"Image File",instructions:"Most Image files are natively recognized by your computer."},tiff:{extensions:["tiff","tif"],icon:"img",display:"TIFF Image",instructions:"To read TIFF images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},eps:{extensions:["eps","ps"],icon:"eps",display:"Postscript File",instructions:"To read Postscript files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},bmp:{extensions:["bmp"],icon:"img",display:"Bitmap Image",instructions:"To read Bitmap images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},raw:{extensions:["3fr","arw","srf","sr2","bay","crw","cr2","cap","iiq","eip","dng","erf","fff","mef","mos","mrw","nef","nrw","orf","ptx","pef","pxn","r3d","raf","raw","rw2","rwz","k25","kdc","dcs","drf","x3f"],icon:"img",display:"RAW Image",instructions:"To read RAW images, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},indd:{extensions:["indd"],icon:"indd",display:"InDesign Document",instructions:"To read InDesign documents, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},psd:{extensions:["psd"],icon:"psd",display:"Photoshop File",instructions:"To read Photoshop files, you need <a href='http://www.adobe.com/products/photoshop/' target='_blank'>Adobe Photoshop</a> or similar."},ai:{extensions:["ai"],icon:"ai",display:"Illustrator File",instructions:"To read Illustrator files, you need <a href='http://www.adobe.com/products/illustrator/' target='_blank'>Adobe Illustrator</a> or similar."},indb:{extensions:["indb"],icon:"indd",display:"InDesign Book",instructions:"To read InDesign books, you need <a href='http://www.adobe.com/products/indesign/' target='_blank'>Adobe InDesign</a> or similar."},ase:{extensions:["ase"],icon:"ase",display:"Adobe Swatch File",instructions:"To read Swatch files, you need <a href='http://www.adobe.com/products/creativesuite/' target='_blank'>Adobe Creative Suite</a> or similar."},snd:{extensions:["mp3","wav"],icon:"snd",display:"Audio File",instructions:"To listen to Audio files, you need Apple QuickTime, Windows Media Player or similar."},vid:{extensions:["avi","mov","mp4","mpg","mpeg","wmv","flv"],icon:"vid",display:"Movie File",instructions:"To watch Movie files, you need Apple QuickTime, Windows Media Player or similar."},fla:{extensions:["fla"],icon:"fla",display:"Flash Document",instructions:"To read Flash documents, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},swf:{extensions:["swf"],icon:"swf",display:"Flash Movie",instructions:"To read Flash movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},dcr:{extensions:["dcr"],icon:"dcr",display:"Shockwave Movie",instructions:"To read Shockwave movies, you need <a href='http://get.adobe.com/flashplayer/' target='_blank'>Adobe Flash player</a>."},ae:{extensions:["ae","aep"],icon:"ae",display:"After Effect File",instructions:"To read After Effect files, you need <a href='http://www.adobe.com/products/aftereffects/' target='_blank'>Adobe After Effects</a>."},pdf:{extensions:["pdf"],icon:"pdf",display:"PDF Document",instructions:"To read PDF documents, You need the free <a href='http://get.adobe.com/reader/' target='_blank'>Adobe Acrobat Reader</a> or similar."},doc:{extensions:["doc","docx"],icon:"doc",display:"Word Document",instructions:"To read Word documents, you need <a href='http://office.microsoft.com/en-us/word/' target='_blank'>Microsoft Word</a> or similar."},xls:{extensions:["xls","xlsx"],icon:"xls",display:"Excel Document",instructions:"To read Excel documents, you need <a href='http://office.microsoft.com/en-us/excel/' target='_blank'>Microsoft Excel</a>, or similar."},ppt:{extensions:["ppt","pptx","pps"],icon:"ppt",display:"Powerpoint Document",instructions:"To read PowerPoint documents, you need <a href='http://office.microsoft.com/en-us/powerpoint/' target='_blank'>Microsoft PowerPoint</a>, or similar."},pages:{extensions:["pages"],icon:"pages",display:"Pages Document",instructions:"To read Pages documents, you need <a href='http://www.apple.com/iwork/pages/' target='_blank'>Apple iWorks</a>."},numbers:{extensions:["numbers"],icon:"numbers",display:"Numbers Document",instructions:"To read Numbers documents, you need <a href='http://www.apple.com/iwork/numbers/' target='_blank'>Apple iWorks</a>."},key:{extensions:["key"],icon:"key",display:"Keynote Document",instructions:"To read Keynote Documents, you need <a href='http://www.apple.com/iwork/keynote/' target='_blank'>Apple iWorks</a>."},csv:{extensions:["csv"],icon:"sql",display:"CSV File",instructions:"CSV files can be opened with a spreadsheet application such as Microsoft Excel or similar."},txt:{extensions:["txt"],icon:"txt",display:"Text File",instructions:"To read TXT files, you need any standard text editor."},rtf:{extensions:["rtf"],icon:"txt",display:"Rich Text File",instructions:"To read RTF files, you need any standard text editor."},merlin:{extensions:["merlin","merlin2"],icon:"merlin",display:"Merlin File",instructions:"To read Merlin files, you need <a href='http://projectwizards.net/' target='_blank'>Merlin</a>."},oplx:{extensions:["oplx"],icon:"merlin",display:"OmniPlan File",instructions:"To read OmniPlan files, you need <a href='https://www.omnigroup.com/omniplan' target='_blank'>OmniPlan</a>."},zip:{extensions:["zip","str","tar","gz"],icon:"zip",display:"Archive",instructions:"Most archive formats are natively recognized by your computer."},dmg:{extensions:["dmg"],icon:"dmg",display:"DMG Installer",instructions:"DMG installers are disc images for Mac used for the installation of applications."},fnt:{extensions:["fnt","ttf","bmap","afm","otf"],icon:"fnt",display:"Font",instructions:"To open Font packages, you need a font manager application such as FontCreator on a PC or Font Book on a Mac."},suit:{extensions:["suit"],icon:"fnt",display:"Font Suitcase",instructions:"To open Font Suitcase, you need a Mac."},html:{extensions:["htm","html","rhtml"],icon:"html",display:"HTML File",instructions:"To read HTML files, you need a standard text editor."},css:{extensions:["css"],icon:"gen",display:"Stylesheet",instructions:"To read CSS files, you need a standard text editor."},php:{extensions:["php"],icon:"gen",display:"PHP File",instructions:"To read PHP files, you need a standard text editor."},yml:{extensions:["yml"],icon:"sql",display:"YAML File",instructions:"To read YAML files, you need a standard text editor."},sql:{extensions:["sql"],icon:"sql",display:"MySql Dump",instructions:"To read MySql Dump files, you need <a href='http://www.mysql.com/' target='_blank'>MySQL</a>."},dir:{extensions:["dir"],icon:"dir",display:"Folder"},cut:{extensions:["cut"],icon:"cut",display:"Shortcut"},ftr:{extensions:["ftr"],icon:"ftr",display:"Feature"},pop:{extensions:["pop"],icon:"pop",display:"Popup Window"},link:{extensions:["net","link","com","fr","net","org","me","us","biz","mobi","info","es","de"],icon:"net",display:"Internet Location"},site:{extensions:["site"],icon:"site",display:"Mini Site"},slide:{extensions:["slide"],icon:"slide",display:"Slideshow"},rss:{extensions:["rss"],icon:"txt",display:"RSS Feed"}},Qt=Xt,Jt={name:"a17FileItem",props:{name:{type:String,required:!0},draggable:{type:Boolean,default:!1},item:{type:Object,default:function(){return{}}},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},max:{type:Number,default:10}},data:function(){return{handle:".item__handle"}},computed:{currentItem:function(){return this.item}},methods:{deleteItem:function(){this.$emit("delete")},getSvgIconName:function(){var t=this.currentItem.extension;if(Qt.hasOwnProperty(t))return Qt[t].icon;for(var e in Qt){var n=Qt[e].extensions.findIndex((function(e){return e===t}));if(n>-1)return Qt[e].icon}return"gen"}}},te=Jt,ee=(0,O.Z)(te,Kt,Gt,!1,null,"5c6d6a95",null),ne=ee.exports;function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach((function(e){ae(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ae(t,e,n){return e=se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function se(t){var e=le(t,"string");return"symbol"===ie(e)?e:String(e)}function le(t,e){if("object"!==ie(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ie(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ue={name:"A17FileField",components:{"a17-fileitem":ne,draggable:h()},mixins:[b.Z,zt.Z,Yt.Z,at.Z],props:{type:{type:String,default:"file"},name:{type:String,required:!0},itemLabel:{type:String,default:"Item"},endpoint:{type:String,default:""},draggable:{type:Boolean,default:!0},max:{type:Number,default:1},note:{type:String,default:""},fieldNote:{type:String,default:""},filesizeMax:{type:Number,default:0},buttonOnTop:{type:Boolean,default:!1}},data:function(){return{handle:".item__handle"}},computed:oe(oe({remainingItems:function(){return this.max-this.items.length},items:{get:function(){return this.selectedFiles.hasOwnProperty(this.name)&&this.selectedFiles[this.name]||[]},set:function(t){this.$store.commit(y.CV.REORDER_MEDIAS,{name:this.name,medias:t})}},isDraggable:function(){return this.draggable&&this.items.length>1},itemsIds:function(){return this.selectedItemsByIds[this.name]?this.selectedItemsByIds[this.name].join():""},addLabel:function(){return this.$trans("fields.files.add-label","Add")+" "+this.itemLabel}},(0,m.rn)({selectedFiles:function(t){return t.mediaLibrary.selected}})),(0,m.Se)(["selectedItemsByIds"])),methods:{deleteAll:function(t){this.$store.commit(y.CV.DESTROY_MEDIAS,{name:this.name})},deleteItem:function(t){this.$store.commit(y.CV.DESTROY_SPECIFIC_MEDIA,{name:this.name,index:t})},destroyValue:function(){this.deleteAll()}}},ce=ue,de=(0,O.Z)(ce,Wt,Ht,!1,null,"86ceea78",null),fe=de.exports,pe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form__input form__input--hidden"},[e("input",{attrs:{type:"hidden",name:t.name,id:t.uniqId},domProps:{value:t.value}})])},he=[],me={name:"A17HiddenField",mixins:[K.Z,Et.Z,ot.Z],props:{name:{type:String,required:!0},initialValue:{default:""}},computed:{uniqId:function(){return this.name+"-"+this.randKey}},data:function(){return{value:this.initialValue}},watch:{initialValue:function(){this.value=this.initialValue}},methods:{updateFromStore:function(t){"undefined"===typeof t&&(t=""),this.value!==t&&(this.value=t)}}},be=me,ye=(0,O.Z)(be,pe,he,!1,null,null,null),ve=ye.exports,ge=function(){var t=this,e=t._self._c;return e("a17-button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],attrs:{variant:"icon",size:"smallIcon","data-tooltip-title":t.text,"data-tooltip-theme":"large","data-tooltip-placement":"right"}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"info"}})])},_e=[],we={name:"A17Infotip",props:{text:{default:""}},computed:{},methods:{onClick:function(){this.$emit("click")}}},Oe=we,Ee=(0,O.Z)(Oe,ge,_e,!1,null,"2da324be",null),Se=Ee.exports,ke=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.isCurrentLocale,expression:"isCurrentLocale"}],staticClass:"input",class:t.textfieldClasses,attrs:{hidden:!t.isCurrentLocale||null}},[t.label?e("label",{staticClass:"input__label",attrs:{for:t.labelFor||t.name}},[t._v(" "+t._s(t.label)),t.required?e("span",{staticClass:"input__required"},[t._v("*")]):t._e(),t.hasLocale&&t.languages.length>1?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"input__lang",attrs:{"data-tooltip-title":t.$trans("fields.generic.switch-language")},on:{click:t.onClickLocale}},[t._v(t._s(t.displayedLocale))]):t._e(),t.note?e("span",{staticClass:"input__note f--small"},[t._v(t._s(t.note))]):t._e()]):t._e(),t.addNew?e("a",{staticClass:"input__add",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.openAddModal.apply(null,arguments)}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"add"}}),t._v(" "),e("span",{staticClass:"f--link-underlined--o"},[t._v("Add New")])]):t._e(),t._t("default"),t.error&&t.errorMessage?e("span",{staticClass:"input__errorMessage f--small",domProps:{innerHTML:t._s(t.errorMessage)}}):t._e(),t.otherLocalesError?e("span",{staticClass:"input__errorMessage f--small"},[t._v(t._s(t.errorMessageLocales))]):t._e()],2)},Te=[],Pe={name:"A17InputFrame",mixins:[Et.Z,at.Z,Yt.Z],props:{addNew:{type:String,default:""}},computed:{textfieldClasses:function(){var t=["small"===this.size?"input--small":"",this.error?"input--error":"","input-wrapper-"+(this.name||this.labelFor)];return this.variant&&this.variant.split(" ").forEach((function(e){t.push("input--".concat(e))})),t}},methods:{openAddModal:function(){this.$parent.$refs.addModal&&this.$parent.$refs.addModal.open()}}},Ce=Pe,xe=(0,O.Z)(Ce,ke,Te,!1,null,"0d108f70",null),Ae=xe.exports,De=function(){var t=this,e=t._self._c;return e("div",{staticClass:"locale"},[t.languages&&t.languages.length&&t.languages.length>0?t._l(t.languages,(function(n){return e("div",{key:n.value,staticClass:"locale__item"},[n.value===t.currentLocale.value||t.isCustomForm||t.keepInDom?e("".concat(t.type),t._b({ref:"field",refInFor:!0,tag:"component",attrs:{"data-lang":n.value,name:"".concat(t.attributes.name,"[").concat(n.value,"]"),fieldName:t.attributes.name,locale:n},on:{localize:t.updateLocale,change:function(e){return t.updateValue.apply(t,[n.value].concat(Array.prototype.slice.call(arguments)))},blur:function(e){return t.$emit("blur")},focus:function(e){return t.$emit("focus")}}},"component",t.attributesPerLang(n.value),!1),[t._t("default")],2):t._e()],1)})):[e("".concat(t.type),t._b({ref:"field",tag:"component",attrs:{name:t.attributes.name},on:{change:function(e){return t.updateValue.apply(t,[!1].concat(Array.prototype.slice.call(arguments)))},blur:function(e){return t.$emit("blur")},focus:function(e){return t.$emit("focus")}}},"component",t.attributesNoLang(),!1),[t._t("default")],2)]],2)},Le=[],Ie=n(361),Me=n.n(Ie);function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(n),!0).forEach((function(e){Be(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Be(t,e,n){return e=Fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fe(t){var e=$e(t,"string");return"symbol"===je(e)?e:String(e)}function $e(t,e){if("object"!==je(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ue={name:"A17Locale",props:{type:{type:String,default:"text"},keepInDom:{type:Boolean,default:!1},attributes:{type:Object,default:function(){return{}}},initialValues:{type:Object,default:function(){return{}}},isRequired:{type:Boolean,default:function(){return this.attributes.required||!1}}},computed:Re({},(0,m.rn)({currentLocale:function(t){return t.language.active},languages:function(t){return t.language.all}})),data:function(){return{isCustomForm:!1}},mounted:function(){this.isCustomForm=void 0!==this.$root.$refs.customForm},methods:{attributesPerLang:function(t){var e=this.languages.find((function(e){return e.value===t})),n=Me()(this.attributes);return this.initialValues&&"object"===je(this.initialValues)&&this.initialValues[t]?n.initialValue=this.initialValues[t]:n.initialValue||(n.initialValue=""),n.required=!!e.published&&this.isRequired,n},attributesNoLang:function(){var t=Me()(this.attributes);return this.initialValue&&(t.initialValue=this.initialValue),t},updateLocale:function(t){this.$store.commit(y.ad.SWITCH_LANG,{oldValue:t}),this.$nextTick((function(){var t=this.$el.querySelector('[data-lang="'+this.currentLocale.value+'"]');if(t){var e=t.querySelector("input:not([disabled]), textarea:not([disabled]), select:not([disabled])");e&&e.focus()}})),this.$emit("localize",this.currentLocale)},updateValue:function(t,e){t?this.$emit("change",{locale:t,value:e}):this.$emit("change",{value:e})}}},Ve=Ue,Ze=(0,O.Z)(Ve,De,Le,!1,null,null,null),qe=Ze.exports,We=function(){var t=this,e=t._self._c;return e("a17-modal",{ref:"modal",attrs:{title:t.modalTitle,mode:"wide"},on:{open:t.opened}},[e("div",{staticClass:"medialibrary"},[e("div",{staticClass:"medialibrary__frame"},[e("div",{ref:"form",staticClass:"medialibrary__header"},[e("a17-filter",{attrs:{clearOption:!0},on:{submit:t.submitFilter,clear:t.clearFilters}},[t.types.length?e("ul",{staticClass:"secondarynav secondarynav--desktop",attrs:{slot:"navigation"},slot:"navigation"},t._l(t.types,(function(n){return e("li",{key:n.value,staticClass:"secondarynav__item",class:{"s--on":t.type===n.value,"s--disabled":t.type!==n.value&&t.strict}},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updateType(n.value)}}},[e("span",{staticClass:"secondarynav__link"},[t._v(t._s(n.text))]),n.total>0?e("span",{staticClass:"secondarynav__number"},[t._v("("+t._s(n.total)+")")]):t._e()])])})),0):t._e(),e("div",{staticClass:"secondarynav secondarynav--mobile secondarynav--dropdown",attrs:{slot:"navigation"},slot:"navigation"},[e("a17-dropdown",{ref:"secondaryNavDropdown",attrs:{position:"bottom-left",width:"full",offset:0}},[t.selectedType?e("a17-button",{staticClass:"secondarynav__button",attrs:{variant:"dropdown-transparent",size:"small"},on:{click:function(e){return t.$refs.secondaryNavDropdown.toggle()}}},[e("span",{staticClass:"secondarynav__link"},[t._v(t._s(t.selectedType.text))]),e("span",{staticClass:"secondarynav__number"},[t._v(t._s(t.selectedType.total))])]):t._e(),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e("ul",t._l(t.types,(function(n){return e("li",{key:n.value,staticClass:"secondarynav__item"},[e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updateType(n.value)}}},[e("span",{staticClass:"secondarynav__link"},[t._v(t._s(n.text))]),e("span",{staticClass:"secondarynav__number"},[t._v(t._s(n.total))])])])})),0)])],1)],1),e("div",{attrs:{slot:"hidden-filters"},slot:"hidden-filters"},[e("a17-vselect",{ref:"filter",staticClass:"medialibrary__filter-item",attrs:{name:"tag",options:t.tags,placeholder:t.$trans("media-library.filter-select-label","Filter by tag"),searchable:!0,maxHeight:"175px"}}),e("a17-checkbox",{ref:"unused",staticClass:"medialibrary__filter-item",attrs:{name:"unused","initial-value":0,value:1,label:t.$trans("media-library.unused-filter-label","Show unused only")}})],1)])],1),e("div",{staticClass:"medialibrary__inner"},[e("div",{staticClass:"medialibrary__grid"},[e("aside",{staticClass:"medialibrary__sidebar"},[e("a17-mediasidebar",{attrs:{medias:t.selectedMedias,authorized:t.authorized,extraMetadatas:t.extraMetadatas,type:t.currentTypeObject,translatableMetadatas:t.translatableMetadatas},on:{clear:t.clearSelectedMedias,delete:t.deleteSelectedMedias,tagUpdated:t.reloadTags,triggerMediaReplace:t.replaceMedia}})],1),t.selectedMedias.length&&t.showInsert&&t.connector?e("footer",{staticClass:"medialibrary__footer"},[t.canInsert?e("a17-button",{attrs:{variant:"action"},on:{click:t.saveAndClose}},[t._v(t._s(t.btnLabel))]):e("a17-button",{attrs:{variant:"action",disabled:!0}},[t._v(t._s(t.btnLabel))])],1):t._e(),e("div",{ref:"list",staticClass:"medialibrary__list"},[t.authorized?e("a17-uploader",{ref:"uploader",attrs:{type:t.currentTypeObject},on:{loaded:t.addMedia,clear:t.clearSelectedMedias}}):t._e(),e("div",{staticClass:"medialibrary__list-items"},["file"===t.type?e("a17-itemlist",{attrs:{items:t.renderedMediaItems,"selected-items":t.selectedMedias,"used-items":t.usedMedias},on:{change:t.updateSelectedMedias,shiftChange:t.updateSelectedMedias}}):e("a17-mediagrid",{attrs:{items:t.renderedMediaItems,"selected-items":t.selectedMedias,"used-items":t.usedMedias},on:{change:t.updateSelectedMedias,shiftChange:t.updateSelectedMedias}}),t.loading?e("a17-spinner",{staticClass:"medialibrary__spinner"},[t._v("Loading…")]):t._e()],1)],1)])])])])])},He=[],Ye=n(1124),ze=n(5573),Ke=n(5068),Ge=n(3827),Xe="MEDIA-LIBRARY",Qe={get:function(t,e,n,i){r().get(t,{params:e}).then((function(t){n&&"function"===typeof n&&n(t)}),(function(t){var e={message:"Media library get error.",value:t};(0,Ge.I)(Xe,e),i&&"function"===typeof i&&i(t)}))},update:function(t,e,n,i){r().put(t,e).then((function(t){n&&"function"===typeof n&&n(t)}),(function(t){var e={message:"Media library update error.",value:t};(0,Ge.I)(Xe,e),i&&"function"===typeof i&&i(t)}))},delete:function(t,e,n){r()["delete"](t).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Media library delete error.",value:t};(0,Ge.I)(Xe,e),n&&"function"===typeof n&&n(t)}))},bulkDelete:function(t,e,n,i){r().put(t,e).then((function(t){n&&"function"===typeof n&&n(t)}),(function(t){var e={message:"Media library bulk delete error.",value:t};(0,Ge.I)(Xe,e),i&&"function"===typeof i&&i(t)}))}},Je=n(7713),tn=n(1385),en=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mediagrid"},[t._l(t.itemsLoading,(function(n,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:!n.isReplacement,expression:"!item.isReplacement"}],key:"mediaLoading_"+n.id,staticClass:"mediagrid__item"},[e("span",{staticClass:"mediagrid__button s--loading"},[n.error?e("span",{staticClass:"mediagrid__progressError"},[t._v("Upload Error")]):e("span",{staticClass:"mediagrid__progress"},[e("span",{staticClass:"mediagrid__progressBar",style:t.loadingProgress(i)})])])])})),t._l(t.items,(function(n){return e("div",{key:n.id,staticClass:"mediagrid__item",class:{"s--hasFilename":t.showFileName}},[e("span",{staticClass:"mediagrid__button",class:{"s--picked":t.isSelected(n),"s--used":t.isUsed(n)||!!t.replacingMediaIds[n.id],"s--disabled":n.disabled},on:{click:[function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.toggleSelection(n)},function(e){return e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:t.shiftToggleSelection(n):null}]}},[e("img",{staticClass:"mediagrid__img",attrs:{src:n.thumbnail}})]),t.showFileName?e("p",{staticClass:"mediagrid__name",attrs:{title:n.name}},[t._v(t._s(n.name))]):t._e()])}))],2)},nn=[],rn=n(9160);function on(t){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(t)}function an(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?an(Object(n),!0).forEach((function(e){ln(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ln(t,e,n){return e=un(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function un(t){var e=cn(t,"string");return"symbol"===on(e)?e:String(e)}function cn(t,e){if("object"!==on(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==on(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var dn={name:"A17Mediagrid",mixins:[rn.Z],computed:sn({},(0,m.rn)({showFileName:function(t){return t.mediaLibrary.showFileName}})),methods:{loadingProgress:function(t){return{width:this.itemsLoading[t].progress?this.itemsLoading[t].progress+"%":"0%"}}}},fn=dn,pn=(0,O.Z)(fn,en,nn,!1,null,"3d6118b4",null),hn=pn.exports,mn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mediasidebar"},[t.mediasLoading.length?e("a17-mediasidebar-upload"):[e("div",{staticClass:"mediasidebar__inner",class:t.containerClasses},[t.hasMedia?t._e():e("p",{staticClass:"f--note"},[t._v(t._s(t.$trans("media-library.sidebar.empty-text","No file selected")))]),t.hasMultipleMedias?e("p",{staticClass:"mediasidebar__info"},[t._v(" "+t._s(t.medias.length)+" "+t._s(t.$trans("media-library.sidebar.files-selected","files selected"))+" "),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clear.apply(null,arguments)}}},[t._v(t._s(t.$trans("media-library.sidebar.clear","Clear")))])]):t._e(),t.hasSingleMedia?[t.isImage?e("img",{staticClass:"mediasidebar__img",attrs:{src:t.firstMedia.thumbnail,alt:t.firstMedia.original}}):t._e(),e("p",{staticClass:"mediasidebar__name"},[t._v(t._s(t.firstMedia.name))]),e("ul",{staticClass:"mediasidebar__metadatas"},[t.firstMedia.size?e("li",{staticClass:"f--small"},[t._v("File size: "+t._s(t._f("uppercase")(t.firstMedia.size)))]):t._e(),t.isImage&&t.firstMedia.width+t.firstMedia.height?e("li",{staticClass:"f--small"},[t._v(" "+t._s(t.$trans("media-library.sidebar.dimensions","Dimensions"))+": "+t._s(t.firstMedia.width)+" × "+t._s(t.firstMedia.height)+" ")]):t._e()])]:t._e(),t.hasMedia?e("a17-buttonbar",{staticClass:"mediasidebar__buttonbar"},[t.hasSingleMedia?e("a",{attrs:{href:t.firstMedia.original,download:""}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}})]):t._e(),t.allowDelete&&t.authorized?e("button",{attrs:{type:"button"},on:{click:t.deleteSelectedMediasValidation}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})]):e("button",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"button--disabled",attrs:{type:"button","data-tooltip-title":t.warningDeleteMessage}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})]),t.hasSingleMedia?e("button",{attrs:{type:"button"},on:{click:t.replaceMedia}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"replace"}})]):t._e()]):t._e()],2),t.hasMedia?e("form",{ref:"form",staticClass:"mediasidebar__inner mediasidebar__form",on:{submit:t.submit}},[t.loading?e("span",{staticClass:"mediasidebar__loader"},[e("span",{staticClass:"loader loader--small"},[e("span")])]):t._e(),t.fieldsRemovedFromBulkEditing.includes("tags")?t._e():e("a17-vselect",{key:t.firstMedia.id+"-"+t.medias.length,attrs:{label:t.$trans("media-library.sidebar.tags"),name:"tags",multiple:!0,selected:t.hasMultipleMedias?t.sharedTags:t.firstMedia.tags,searchable:!0,emptyText:t.$trans("media-library.no-tags-found","Sorry, no tags found."),taggable:!0,pushTags:!0,size:"small",endpoint:t.type.tagsEndpoint,maxHeight:"175px"},on:{change:t.save}}),t.extraMetadatas.length&&t.isImage&&t.hasMultipleMedias&&!t.fieldsRemovedFromBulkEditing.includes("tags")?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],staticClass:"f--tiny f--note f--underlined",attrs:{"data-tooltip-title":"Remove this field if you do not want to update it on all selected medias","data-tooltip-theme":"default","data-tooltip-placement":"top"},on:{click:function(e){return t.removeFieldFromBulkEditing("tags")}}},[t._v("Remove from bulk edit")]):t._e(),t.hasMultipleMedias?[e("input",{attrs:{type:"hidden",name:"ids"},domProps:{value:t.mediasIds}})]:[e("input",{attrs:{type:"hidden",name:"id"},domProps:{value:t.firstMedia.id}}),t.translatableMetadatas.length>0?e("div",{staticClass:"mediasidebar__langswitcher"},[e("a17-langswitcher",{attrs:{"in-modal":!0,"all-published":!0}})],1):t._e(),t.isImage&&t.translatableMetadatas.includes("alt_text")?e("a17-locale",{attrs:{type:"a17-textfield",attributes:{label:t.$trans("media-library.sidebar.alt-text","Alt text"),name:"alt_text",type:"text",size:"small"},keepInDom:!0,initialValues:t.altValues},on:{focus:t.focus,blur:t.blur}}):t.isImage?e("a17-textfield",{attrs:{label:t.$trans("media-library.sidebar.alt-text","Alt text"),name:"alt_text",initialValue:t.firstMedia.metadatas.default.altText,size:"small"},on:{focus:t.focus,blur:t.blur}}):t._e(),t.useWysiwyg?[t.isImage&&t.translatableMetadatas.includes("caption")?e("a17-locale",{attrs:{type:"a17-wysiwyg",attributes:{options:t.wysiwygOptions,label:t.$trans("media-library.sidebar.caption","Caption"),name:"caption",size:"small"},keepInDom:!0,initialValues:t.captionValues},on:{focus:t.focus,blur:t.blur}}):t.isImage?e("a17-wysiwyg",{attrs:{type:"textarea",rows:1,size:"small",label:t.$trans("media-library.sidebar.caption","Caption"),name:"caption",options:t.wysiwygOptions,initialValue:t.firstMedia.metadatas.default.caption},on:{focus:t.focus,blur:t.blur}}):t._e()]:[t.isImage&&t.translatableMetadatas.includes("caption")?e("a17-locale",{attrs:{type:"a17-textfield",attributes:{type:"textarea",rows:1,label:t.$trans("media-library.sidebar.caption","Caption"),name:"caption",size:"small"},keepInDom:!0,initialValues:t.captionValues},on:{focus:t.focus,blur:t.blur}}):t.isImage?e("a17-textfield",{attrs:{type:"textarea",rows:1,size:"small",label:t.$trans("media-library.sidebar.caption","Caption"),name:"caption",initialValue:t.firstMedia.metadatas.default.caption},on:{focus:t.focus,blur:t.blur}}):t._e()],t._l(t.singleOnlyMetadatas,(function(n){return[!t.isImage||"text"!==n.type&&n.type||!t.translatableMetadatas.includes(n.name)?!t.isImage||"text"!==n.type&&n.type?t._e():e("a17-textfield",{key:n.name,attrs:{label:n.label,name:n.name,size:"small",initialValue:t.firstMedia.metadatas.default[n.name],type:"textarea",rows:1},on:{focus:t.focus,blur:t.blur}}):e("a17-locale",{key:n.name,attrs:{type:"a17-textfield",keepInDom:!0,attributes:{label:n.label,name:n.name,type:"textarea",rows:1,size:"small"},initialValues:t.firstMedia.metadatas.default[n.name]},on:{focus:t.focus,blur:t.blur}}),t.isImage&&"checkbox"===n.type?e("div",{key:n.name,staticClass:"mediasidebar__checkbox"},[e("a17-checkbox",{attrs:{label:n.label,name:n.name,initialValue:t.firstMedia.metadatas.default[n.name],value:1},on:{change:t.blur}})],1):t._e()]}))],t._l(t.singleAndMultipleMetadatas,(function(n){return[t.isImage&&("text"===n.type||!n.type)&&(t.hasMultipleMedias&&!t.fieldsRemovedFromBulkEditing.includes(n.name)||t.hasSingleMedia)&&t.translatableMetadatas.includes(n.name)?e("a17-locale",{key:n.name,attrs:{type:"a17-textfield",keepInDom:!0,attributes:{label:n.label,name:n.name,type:"textarea",rows:1,size:"small"},initialValues:t.sharedMetadata(n.name,"object")},on:{focus:t.focus,blur:t.blur}}):!t.isImage||"text"!==n.type&&n.type||!(t.hasMultipleMedias&&!t.fieldsRemovedFromBulkEditing.includes(n.name)||t.hasSingleMedia)?t._e():e("a17-textfield",{key:n.name,attrs:{label:n.label,name:n.name,size:"small",initialValue:t.sharedMetadata(n.name),type:"textarea",rows:1},on:{focus:t.focus,blur:t.blur}}),t.isImage&&"checkbox"===n.type&&(t.hasMultipleMedias&&!t.fieldsRemovedFromBulkEditing.includes(n.name)||t.hasSingleMedia)?e("div",{key:n.name,staticClass:"mediasidebar__checkbox"},[e("a17-checkbox",{key:n.name,attrs:{label:n.label,name:n.name,initialValue:t.sharedMetadata(n.name,"boolean"),value:1},on:{change:t.blur}})],1):t._e(),t.isImage&&t.hasMultipleMedias&&!t.fieldsRemovedFromBulkEditing.includes(n.name)?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip"}],key:n.name,staticClass:"f--tiny f--note f--underlined",attrs:{"data-tooltip-title":"Remove this field if you do not want to update it on all selected medias","data-tooltip-theme":"default","data-tooltip-placement":"top"},on:{click:function(e){return t.removeFieldFromBulkEditing(n.name)}}},[t._v("Remove from bulk edit")]):t._e()]}))],2):t._e()],e("a17-modal",{ref:"warningDelete",staticClass:"modal--tiny modal--form modal--withintro",attrs:{title:"Warning Delete"}},[e("p",{staticClass:"modal--tiny-title"},[e("strong",[t._v(t._s(t.$trans("media-library.dialogs.delete.title","Are you sure ?")))])]),e("p",[t._v(t._s(t.warningDeleteMessage))]),e("a17-inputframe",[e("a17-button",{attrs:{variant:"validate"},on:{click:t.deleteSelectedMedias}},[t._v("Delete ("+t._s(t.mediasIdsToDelete.length)+") ")]),e("a17-button",{attrs:{variant:"aslink"},on:{click:function(e){return t.$refs.warningDelete.close()}}},[e("span",[t._v("Cancel")])])],1)],1)],2)},bn=[],yn=n(4884),vn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mediasidebar__inner mediasidebar__inner--single"},[e("p",{staticClass:"f--note"},[t._v("Uploading "+t._s(t.mediasLoading.length)+" file"+t._s(t.mediasLoading.length>1?"s":""))]),e("div",{staticClass:"mediasidebar__progress"},[e("span",{staticClass:"mediasidebar__progressBar",style:t.loadingProgress})]),e("div",{staticClass:"mediasidebar__loading"},t._l(t.mediasLoading,(function(n){return e("p",{key:n.id,staticClass:"f--small",class:{"s--error":n.error}},[n.error?e("span",{staticClass:"mediasidebar__errorMessage"},[t._v(t._s(n.errorMessage))]):t._e(),e("span",[t._v(t._s(n.name))]),t._v(" "),n.error?e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.cancelUpload(n)}}},[t._v("Cancel")]):t._e()])})),0)])},gn=[];function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(n),!0).forEach((function(e){En(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function En(t,e,n){return e=Sn(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sn(t){var e=kn(t,"string");return"symbol"===_n(e)?e:String(e)}function kn(t,e){if("object"!==_n(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==_n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Tn={name:"A17MediaSidebarUpload",props:{selectedMedias:{default:function(){return[]}}},data:function(){return{updateInProgress:!1}},computed:On({loadingProgress:function(){var t=-100+this.uploadProgress;return{transform:"translateX("+t+"%)"}}},(0,m.rn)({mediasLoading:function(t){return t.mediaLibrary.loading},uploadProgress:function(t){return t.mediaLibrary.uploadProgress}})),methods:{cancelUpload:function(t){this.$store.commit(y.CV.DONE_UPLOAD_MEDIA,t)}}},Pn=Tn,Cn=(0,O.Z)(Pn,vn,gn,!1,null,"6a681c02",null),xn=Cn.exports,An=n(1633);function Dn(t){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(t)}function Ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach((function(e){Mn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mn(t,e,n){return e=jn(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jn(t){var e=Nn(t,"string");return"symbol"===Dn(e)?e:String(e)}function Nn(t,e){if("object"!==Dn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Dn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}for(var Rn={name:"A17MediaSidebar",components:{"a17-mediasidebar-upload":xn,"a17-langswitcher":yn.Z},props:{medias:{default:function(){return[]}},authorized:{type:Boolean,default:!1},type:{type:Object,required:!0},extraMetadatas:{type:Array,default:function(){return[]}},translatableMetadatas:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,focused:!1,previousSavedData:{},fieldsRemovedFromBulkEditing:[]}},filters:An.Z,watch:{medias:function(){this.fieldsRemovedFromBulkEditing=[]}},computed:In({firstMedia:function(){return this.hasMedia?this.medias[0]:null},hasMultipleMedias:function(){return this.medias.length>1},hasSingleMedia:function(){return 1===this.medias.length},hasMedia:function(){return this.medias.length>0},isImage:function(){return"image"===this.type.value},sharedTags:function(){return this.medias.map((function(t){return t.tags})).reduce((function(t,e){return t.filter((function(t){return e.includes(t)}))}))},sharedMetadata:function(){var t=this;return function(e,n){return t.hasMultipleMedias?t.medias.map((function(t){return t.metadatas.default[e]})).every((function(t,e,n){return Array.isArray(t)?t[0]==n[0]:t==n[0]}))?t.firstMedia.metadatas.default[e]:"object"===n?{}:"boolean"!==n&&"":"object"===Dn(t.firstMedia.metadatas.default[e])||"boolean"===n?t.firstMedia.metadatas.default[e]:{}}},captionValues:function(){return"object"===Dn(this.firstMedia.metadatas.default.caption)?this.firstMedia.metadatas.default.caption:{}},altValues:function(){return"object"===Dn(this.firstMedia.metadatas.default.altText)?this.firstMedia.metadatas.default.altText:{}},mediasIds:function(){return this.medias.map((function(t){return t.id})).join(",")},mediasIdsToDelete:function(){return this.medias.filter((function(t){return t.deleteUrl})).map((function(t){return t.id}))},mediasIdsToDeleteString:function(){return this.mediasIdsToDelete.join(",")},allowDelete:function(){return this.medias.every((function(t){return t.deleteUrl}))||this.hasMultipleMedias&&!this.medias.every((function(t){return!t.deleteUrl}))},warningDeleteMessage:function(){return this.allowDelete?this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.allow-delete-multiple-medias","Some files are used and can't be deleted. Do you want to delete the others ?"):this.$trans("media-library.dialogs.delete.allow-delete-one-media","This file is used and can't be deleted. Do you want to delete the others ?"):this.hasMultipleMedias?this.$trans("media-library.dialogs.delete.dont-allow-delete-multiple-medias","This files are used and can't be deleted."):this.$trans("media-library.dialogs.delete.dont-allow-delete-one-media","This file is used and can't be deleted.")},containerClasses:function(){return{"mediasidebar__inner--multi":this.hasMultipleMedias,"mediasidebar__inner--single":this.hasSingleMedia}},singleAndMultipleMetadatas:function(){var t=this;return this.extraMetadatas.filter((function(e){return e.multiple&&!t.translatableMetadatas.includes(e.name)}))},singleOnlyMetadatas:function(){var t=this;return this.extraMetadatas.filter((function(e){return!e.multiple||e.multiple&&t.translatableMetadatas.includes(e.name)}))}},(0,m.rn)({mediasLoading:function(t){return t.mediaLibrary.loading},useWysiwyg:function(t){return t.mediaLibrary.config.useWysiwyg},wysiwygOptions:function(t){return t.mediaLibrary.config.wysiwygOptions}})),methods:{replaceMedia:function(){var t=this;this.$root.$refs.replaceWarningMediaLibrary?this.$root.$refs.replaceWarningMediaLibrary.open((function(){t.triggerMediaReplace()})):this.triggerMediaReplace()},triggerMediaReplace:function(){this.$emit("triggerMediaReplace",{id:this.getMediaToReplaceId()})},deleteSelectedMediasValidation:function(){var t=this;if(this.loading)return!1;this.mediasIdsToDelete.length===this.medias.length?this.$root.$refs.deleteWarningMediaLibrary?this.$root.$refs.deleteWarningMediaLibrary.open((function(){t.deleteSelectedMedias()})):this.deleteSelectedMedias():this.$refs.warningDelete.open()},deleteSelectedMedias:function(){var t=this;if(this.loading)return!1;this.loading=!0,this.hasMultipleMedias?Qe.bulkDelete(this.firstMedia.deleteBulkUrl,{ids:this.mediasIdsToDeleteString},(function(e){t.loading=!1,t.$emit("delete",t.mediasIdsToDelete),t.$refs.warningDelete.close()}),(function(e){t.$store.commit(y.qq.SET_NOTIF,{message:e.data.message,variant:"error"})})):Qe["delete"](this.firstMedia.deleteUrl,(function(e){t.loading=!1,t.$emit("delete",t.mediasIdsToDelete),t.$refs.warningDelete.close()}),(function(e){t.$store.commit(y.qq.SET_NOTIF,{message:e.data.message,variant:"error"})}))},clear:function(){this.$emit("clear")},getFormData:function(t){return(0,ze.Z)(t)},getMediaToReplaceId:function(){return this.firstMedia.id},removeFieldFromBulkEditing:function(t){this.fieldsRemovedFromBulkEditing.push(t)},focus:function(){this.focused=!0},blur:function(){var t=this;this.focused=!1,this.save();var e=this.$refs.form,n=this.getFormData(e);this.hasSingleMedia?(n.hasOwnProperty("alt_text")?this.firstMedia.metadatas.default.altText=n.alt_text:this.firstMedia.metadatas.default.altText="",n.hasOwnProperty("caption")?this.firstMedia.metadatas.default.caption=n.caption:this.firstMedia.metadatas.default.caption="",this.extraMetadatas.forEach((function(e){n.hasOwnProperty(e.name)?t.firstMedia.metadatas.default[e.name]=n[e.name]:t.firstMedia.metadatas.default[e.name]=""}))):this.singleAndMultipleMetadatas.forEach((function(e){n.hasOwnProperty(e.name)&&t.medias.forEach((function(t){t.metadatas.default[e.name]=n[e.name]}))}))},save:function(){var t=this;this.$nextTick((function(){var e=t.$refs.form;if(e){var n=t.getFormData(e);it()(n,t.previousSavedData)||t.loading||(t.previousSavedData=n,t.update(e))}}))},submit:function(t){t.preventDefault(),this.save()},update:function(t){var e=this;if(!this.loading){this.loading=!0;var n=this.getFormData(t);n.fieldsRemovedFromBulkEditing=this.fieldsRemovedFromBulkEditing;var i=this.hasMultipleMedias?this.firstMedia.updateBulkUrl:this.firstMedia.updateUrl;Qe.update(i,n,(function(t){e.loading=!1,t.data.tags&&e.$emit("tagUpdated",t.data.tags),e.hasMultipleMedias&&t.data.items&&e.medias.forEach((function(e){t.data.items.some((function(t){return t.id===e.id&&(e.tags=t.tags),t.id===e.id}))}))}),(function(t){e.loading=!1,t.data.message&&e.$store.commit(y.qq.SET_NOTIF,{message:t.data.message,variant:"error"})}))}}}},Bn=Rn,Fn=(0,O.Z)(Bn,mn,bn,!1,null,"4f7e4b44",null),$n=Fn.exports,Un=function(){var t=this,e=t._self._c;return e("div",{staticClass:"uploader"},[e("div",{ref:"uploaderDropzone",staticClass:"uploader__dropzone"},[e("div",{ref:"uploaderBrowseButton",staticClass:"button"},[t._v(t._s(t.$trans("uploader.upload-btn-label","Add new")))]),e("div",{staticClass:"uploader__dropzone--desktop"},[t._v(t._s(t.$trans("uploader.dropzone-text","or drop new files here")))])])])},Vn=[],Zn=n(767),qn=n.n(Zn),Wn=n(4205),Hn=n(6495),Yn=n(5793),zn=n(3700),Kn=/[\/\?<>\\:\*\|":]/g,Gn=/[\x00-\x1f\x80-\x9f]/g,Xn=/^\.+$/,Qn=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,Jn=/[\. ]+$/,ti=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],ei={},ni=0;ni<ti.length;ni++)for(var ii=ti[ni].letters.split(""),ri=0;ri<ii.length;ri++)ei[ii[ri]]=ti[ni].base;function oi(t,e,n){var i=t.replace(/[^\u0000-\u007E]/g,(function(t){return ei[t]||t}));return n=n||"",e&&(i=i.replace(/[^\u0000-\u007E]/g,n)),i}function ai(t,e){var n=oi(t,!0).replace(Kn,e).replace(Gn,e).replace(Xn,e).replace(Qn,e).replace(Jn,e),i=/[^0-9a-zA-Z-.,;_]/g;return n=n.replace(i,""),zn(n,255)}function si(t,e){var n=e&&e.replacement||"",i=ai(t,n);return""===n?i:ai(i,"")}function li(t){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(t)}function ui(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ui(Object(n),!0).forEach((function(e){di(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function di(t,e,n){return e=fi(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fi(t){var e=pi(t,"string");return"symbol"===li(e)?e:String(e)}function pi(t,e){if("object"!==li(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==li(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var hi={name:"A17Uploader",props:{type:{type:Object,required:!0}},data:function(){return{loadingMedias:[]}},computed:{uploaderConfig:function(){return this.type.uploaderConfig},uploaderValidation:function(){var t=this.uploaderConfig.allowedExtensions,e="*/*";return t.length>0&&(e="."+t.join(", .")),{allowedExtensions:t,acceptFiles:e,stopOnFirstInvalidFile:!1}}},methods:{initUploader:function(){var t=this,e=this.$refs.uploaderBrowseButton,n={debug:!0,maxConnections:5,button:e,retry:{enableAuto:!1},callbacks:{onSubmit:this._onSubmitCallback.bind(this),onProgress:this._onProgressCallback.bind(this),onError:this._onErrorCallback.bind(this),onComplete:this._onCompleteCallback.bind(this),onAllComplete:this._onAllCompleteCallback.bind(this),onStatusChange:this._onStatusChangeCallback.bind(this),onTotalProgress:this._onTotalProgressCallback.bind(this)},text:{fileInputTitle:"Browse..."},messages:{retryFailTooManyItemsError:"Retry failed - you have reached your file limit.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",tooManyItemsError:"Too many items ({netItems}) would be uploaded. Item limit is {itemLimit}.",typeError:"{file} has an invalid extension. Valid extension(s): {extensions}."}};this._uploader="s3"===this.uploaderConfig.endpointType?new Hn.Z({options:ci(ci({},n),{},{validation:ci({},this.uploaderValidation),objectProperties:{key:function(e){return t.unique_folder_name+"/"+si(t._uploader.methods.getName(e))},region:this.uploaderConfig.endpointRegion,bucket:this.uploaderConfig.endpointBucket,acl:this.uploaderConfig.acl},request:{endpoint:this.uploaderConfig.endpoint,accessKey:this.uploaderConfig.accessKey},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}})}):"azure"===this.uploaderConfig.endpointType?new Wn.Z({options:ci(ci({},n),{},{validation:ci({},this.uploaderValidation),cors:{expected:!0,sendCredentials:!0},blobProperties:{name:function(e){return new Promise((function(n){n(t.unique_folder_name+"/"+si(t._uploader.methods.getName(e)))}))}},request:{endpoint:this.uploaderConfig.endpoint},signature:{endpoint:this.uploaderConfig.signatureEndpoint,version:4,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}},uploadSuccess:{endpoint:this.uploaderConfig.successEndpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}})}):new Yn.Z({options:ci(ci({},n),{},{validation:ci(ci({},this.uploaderValidation),{},{sizeLimit:1048576*this.uploaderConfig.filesizeLimit}),request:{endpoint:this.uploaderConfig.endpoint,customHeaders:{"X-CSRF-TOKEN":this.uploaderConfig.csrfToken}}})})},replaceMedia:function(t){this.media_to_replace_id=t;var e=this.$refs.uploaderBrowseButton.querySelectorAll('[name = "qqfile"]');e[Array.from(e).length-1].click()},loadingProgress:function(t){this.$store.commit(y.CV.PROGRESS_UPLOAD_MEDIA,t)},loadingFinished:function(t,e){this.$emit("loaded",e),this.$store.commit(y.CV.DONE_UPLOAD_MEDIA,t)},loadingError:function(t){this.$store.commit(y.CV.ERROR_UPLOAD_MEDIA,t)},uploadProgress:function(t){this.$store.commit(y.CV.PROGRESS_UPLOAD,t)},_onCompleteCallback:function(t,e,n,i){var r=this,o=this.loadingMedias.findIndex((function(e){return e.id===r._uploader.methods.getUuid(t)}));n.success?this.loadingFinished(this.loadingMedias[o],n.media):this.loadingError(this.loadingMedias[o])},_onAllCompleteCallback:function(t,e){this.unique_folder_name=null,this.uploadProgress(0)},_onSubmitCallback:function(t,e){var n=this;this.$emit("clear"),this.unique_folder_name=this.unique_folder_name||this.uploaderConfig.endpointRoot+qn().getUniqueId(),this._uploader.methods.setParams({unique_folder_name:this.unique_folder_name,media_to_replace_id:this.media_to_replace_id},t);var i=URL.createObjectURL(this._uploader.methods.getFile(t)),r=new Image;r.onload=function(){n._uploader.methods.setParams({width:r.width,height:r.height,unique_folder_name:n.unique_folder_name,media_to_replace_id:n.media_to_replace_id},t),n.media_to_replace_id=null},r.src=i;var o={id:this._uploader.methods.getUuid(t),name:si(e),progress:0,error:!1,errorMessage:null,isReplacement:!!this.media_to_replace_id,replacementId:this.media_to_replace_id};"file"===this.type.value&&(this.media_to_replace_id=null),this.loadingMedias.push(o),this.loadingProgress(o)},_onProgressCallback:function(t,e,n,i){var r=this,o=this.loadingMedias.findIndex((function(e){return e.id===r._uploader.methods.getUuid(t)}));if(o>=0){var a=this.loadingMedias[o];a.progress=n/i*100||0,a.error=!1,this.loadingProgress(a)}},_onErrorCallback:function(t,e,n,i){var r=this,o=t?this.loadingMedias.findIndex((function(e){return e.id===r._uploader.methods.getUuid(t)})):-1;if(o>=0)this.loadingMedias[o].errorMessage=n,this.loadingError(this.loadingMedias[o]);else{var a={id:t?this._uploader.methods.getUuid(t):Math.floor(1e3*Math.random()),name:si(e),progress:0,error:!0,errorMessage:n};this.loadingMedias.push(a),this.loadingProgress(a),this.loadingError(this.loadingMedias[this.loadingMedias.length-1])}},_onStatusChangeCallback:function(t,e,n){if("retrying upload"===n){var i=this.loadingMedias.findIndex((function(e){return e.id===t}));if(i>=0){var r=this.loadingMedias[i];r.progress=0,r.error=!1,this.loadingProgress(r)}}},_onTotalProgressCallback:function(t,e){var n=Math.floor(t/e*100);this.uploadProgress(n)},_onDropError:function(t,e){console.error(t,e)},_onProcessingDroppedFilesComplete:function(t){this._uploader.methods.addFiles(t)}},watch:{type:function(){this._uploader&&this.initUploader()}},mounted:function(){this.initUploader();var t=this.$refs.uploaderDropzone;this._qqDropzone&&this._qqDropzone.dispose(),this._qqDropzone=new(qn().DragAndDrop)({dropZoneElements:[t],allowMultipleItems:!0,callbacks:{dropError:this._onDropError.bind(this),processingDroppedFilesComplete:this._onProcessingDroppedFilesComplete.bind(this)}})},beforeDestroy:function(){this._qqDropzone&&this._qqDropzone.dispose()}},mi=hi,bi=(0,O.Z)(mi,Un,Vn,!1,null,"f229897e",null),yi=bi.exports;function vi(t){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vi(t)}function gi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(n),!0).forEach((function(e){wi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wi(t,e,n){return e=Oi(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oi(t){var e=Ei(t,"string");return"symbol"===vi(e)?e:String(e)}function Ei(t,e){if("object"!==vi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==vi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Si={name:"A17Medialibrary",components:{"a17-filter":Je.Z,"a17-mediasidebar":$n,"a17-uploader":yi,"a17-mediagrid":hn,"a17-itemlist":tn.Z,"a17-spinner":Ye.Z,"a17-checkbox":J},props:{modalTitlePrefix:{type:String,default:function(){return this.$trans("media-library.title","Media Library")}},btnLabelSingle:{type:String,default:function(){return this.$trans("media-library.insert","Insert")}},btnLabelUpdate:{type:String,default:function(){return this.$trans("media-library.update","Update")}},btnLabelMulti:{type:String,default:function(){return this.$trans("media-library.insert","Insert")}},initialPage:{type:Number,default:1},authorized:{type:Boolean,default:!1},showInsert:{type:Boolean,default:!0},extraMetadatas:{type:Array,default:function(){return[]}},translatableMetadatas:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,maxPage:20,mediaItems:[],selectedMedias:[],gridHeight:0,page:this.initialPage,tags:[],lastScrollTop:0,gridLoaded:!1}},computed:_i({renderedMediaItems:function(){var t=this;return this.mediaItems.map((function(e){return e.disabled=t.filesizeMax>0&&e.filesizeInMb>t.filesizeMax||t.widthMin>0&&e.width<t.widthMin||t.heightMin>0&&e.height<t.heightMin,e}))},currentTypeObject:function(){var t=this;return this.types.find((function(e){return e.value===t.type}))},endpoint:function(){return this.currentTypeObject.endpoint},modalTitle:function(){return this.connector?this.indexToReplace>-1?this.modalTitlePrefix+" – "+this.btnLabelUpdate:this.selectedMedias.length>1?this.modalTitlePrefix+" – "+this.btnLabelMulti:this.modalTitlePrefix+" – "+this.btnLabelSingle:this.modalTitlePrefix},btnLabel:function(){var t=this.$trans("media-library.types.single."+this.type,this.type);return this.indexToReplace>-1?this.btnLabelUpdate+" "+t:(this.selectedMedias.length>1&&(t=this.$trans("media-library.types.multiple."+this.type,this.type)),this.btnLabelSingle+" "+t)},usedMedias:function(){return this.selected[this.connector]||[]},selectedType:function(){var t=this,e=t.types.filter((function(e){return e.value===t.type}));return e[0]},canInsert:function(){var t=this;return!this.selectedMedias.some((function(e){return!!t.usedMedias.find((function(t){return t.id===e.id}))}))}},(0,m.rn)({connector:function(t){return t.mediaLibrary.connector},max:function(t){return t.mediaLibrary.max},filesizeMax:function(t){return t.mediaLibrary.filesizeMax},widthMin:function(t){return t.mediaLibrary.widthMin},heightMin:function(t){return t.mediaLibrary.heightMin},type:function(t){return t.mediaLibrary.type},types:function(t){return t.mediaLibrary.types},strict:function(t){return t.mediaLibrary.strict},selected:function(t){return t.mediaLibrary.selected},indexToReplace:function(t){return t.mediaLibrary.indexToReplace}})),watch:{type:function(){this.clearMediaItems(),this.gridLoaded=!1}},methods:{replaceMedia:function(t){var e=t.id;this.$refs.uploader.replaceMedia(e)},open:function(){this.$refs.modal.open()},close:function(){this.$refs.modal.hide()},opened:function(){if(this.gridLoaded||this.reloadGrid(),this.listenScrollPosition(),this.selectedMedias=[],this.connector&&this.indexToReplace>-1){var t=this.selected[this.connector][this.indexToReplace];t&&this.selectedMedias.push(t)}},updateType:function(t){this.loading||this.strict||this.type!==t&&(this.$store.commit(y.CV.UPDATE_MEDIA_TYPE,t),this.submitFilter())},addMedia:function(t){var e=this,n=this.mediaItems.findIndex((function(e){return e.id===t.id}));if(n>-1){var i=function(n){e.selected[n].forEach((function(i,r){if(t.id===i.id){var o=[];for(var a in i.crops)o[a]={height:t.height===i.height?i.crops[a].height:t.height,name:a,width:t.width===i.width?i.crops[a].width:t.width,x:t.width===i.width?i.crops[a].x:0,y:t.height===i.height?i.crops[a].y:0};e.$store.commit(y.CV.UPDATE_MEDIAS,{index:r,media:_i(_i({},t),{},{width:t.width===i.width?i.width:t.width,height:t.height===i.height?i.height:t.height,crops:o}),mediaRole:n})}}))};for(var r in this.selected)i(r);this.$set(this.mediaItems,n,t),this.selectedMedias.unshift(t)}else this.mediaItems.unshift(t),this.$store.commit(y.CV.INCREMENT_MEDIA_TYPE_TOTAL,this.type),this.updateSelectedMedias(t.id)},updateSelectedMedias:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.id,r=this.selectedMedias.filter((function(t){return t.id===i}));if(0===r.length){if(1===this.max&&this.clearSelectedMedias(),this.selectedMedias.length>=this.max&&this.max>0)return;if(n&&this.selectedMedias.length>0){var o=this.selectedMedias[this.selectedMedias.length-1],a=this.mediaItems.findIndex((function(t){return t.id===o.id})),s=this.mediaItems.findIndex((function(t){return t.id===i}));if(-1===s&&-1===a)return;var l=null,u=null;a<s?(l=a+1,u=s+1):(l=s,u=a);var c=this.mediaItems.slice(l,u);c.forEach((function(t){if(!(e.selectedMedias.length>=e.max&&e.max>0)){var n=e.selectedMedias.findIndex((function(e){return e.id===t.id}));-1===n&&e.selectedMedias.push(t)}}))}else{var d=this.mediaItems.filter((function(t){return t.id===i}));d.length&&this.selectedMedias.push(d[0])}}else this.selectedMedias=this.selectedMedias.filter((function(t){return t.id!==i}))},getFormData:function(t){var e=(0,ze.Z)(t);return e?e.page=this.page:e={page:this.page},e.type=this.type,Array.isArray(e.unused)&&e.unused.length&&(e.unused=e.unused[0]),e},clearFilters:function(){var t=this;if(this.$refs.filter&&(this.$refs.filter.value=null),this.$refs.unused){var e=this.$refs.unused.$el.querySelector("input");e&&e.checked&&e.click()}this.$nextTick((function(){t.submitFilter()}))},clearSelectedMedias:function(){this.selectedMedias.splice(0)},deleteSelectedMedias:function(t){var e=this,n=[];t&&t.length!==this.selectedMedias.length&&(n=this.selectedMedias.filter((function(t){return!t.deleteUrl}))),t.forEach((function(){e.$store.commit(y.CV.DECREMENT_MEDIA_TYPE_TOTAL,e.type)})),this.mediaItems=this.mediaItems.filter((function(t){return!e.selectedMedias.includes(t)||n.includes(t)})),this.selectedMedias=n,this.mediaItems.length<=40&&this.reloadGrid()},clearMediaItems:function(){this.mediaItems.splice(0)},reloadGrid:function(){var t=this;this.loading=!0;var e=this.$refs.form,n=this.getFormData(e);Qe.get(this.endpoint,n,(function(e){e.data.items.forEach((function(e){t.mediaItems.find((function(t){return t.id===e.id}))||t.mediaItems.push(e)})),t.maxPage=e.data.maxPage||1,t.tags=e.data.tags||[],t.$store.commit(y.CV.UPDATE_MEDIA_TYPE_TOTAL,{type:t.type,total:e.data.total}),t.loading=!1,t.listenScrollPosition(),t.gridLoaded=!0}),(function(e){t.$store.commit(y.qq.SET_NOTIF,{message:e.data.message,variant:"error"})}))},reloadTags:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.tags=t},submitFilter:function(t){var e=this,n=this.$refs.list;this.page=1,this.clearMediaItems(),this.clearSelectedMedias(),0!==n.scrollTop?(0,Ke.Z)({el:n,offset:0,easing:"easeOut",onComplete:function(){e.reloadGrid()}}):e.reloadGrid()},listenScrollPosition:function(){this.$nextTick((function(){if(this.gridLoaded){var t=this.$refs.list;this.gridHeight!==t.scrollHeight&&t.addEventListener("scroll",this.scrollToPaginate)}}))},scrollToPaginate:function(){if(this.gridLoaded){var t=this.$refs.list,e=10;t.scrollTop>this.lastScrollTop&&t.scrollTop+t.offsetHeight>t.scrollHeight-e&&(t.removeEventListener("scroll",this.scrollToPaginate),this.maxPage>this.page?(this.page=this.page+1,this.reloadGrid()):this.gridHeight=t.scrollHeight),this.lastScrollTop=t.scrollTop}},saveAndClose:function(){this.$store.commit(y.CV.SAVE_MEDIAS,this.selectedMedias),this.close()}}},ki=Si,Ti=(0,O.Z)(ki,We,He,!1,null,"aaf9470e",null),Pi=Ti.exports,Ci=function(){var t=this,e=t._self._c;return e("div",{staticClass:"media",class:{"media--hoverable":t.hover,"media--slide":t.isSlide}},[e("div",{staticClass:"media__field"},[t.hasMedia?e("div",{staticClass:"media__info"},[e("div",{staticClass:"media__img"},[e("div",{staticClass:"media__imgFrame"},[e("div",{staticClass:"media__imgCentered",style:t.cropThumbnailStyle},[t.cropSrc&&t.showImg?e("img",{ref:"mediaImg",class:t.cropThumbnailClass,attrs:{src:t.cropSrc}}):t._e()]),t.disabled?t._e():e("div",{staticClass:"media__edit",on:{click:function(e){return t.openMediaLibrary(1,t.mediaKey,t.index)}}},[e("span",{staticClass:"media__edit--button"},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"edit"}})])])])]),t.disabled?t._e():e("ul",{staticClass:"media__metadatas"},[e("li",{staticClass:"media__name",on:{click:function(e){return t.openMediaLibrary(1,t.mediaKey,t.index)}}},[e("strong",{attrs:{title:t.media.name}},[t._v(t._s(t.media.name))])]),t.media.size?e("li",{staticClass:"f--small"},[t._v("File size: "+t._s(t._f("uppercase")(t.media.size)))]):t._e(),t.media.width+t.media.height?e("li",{staticClass:"f--small"},[t._v(t._s(t.$trans("fields.medias.original-dimensions"))+": "+t._s(t.media.width)+" × "+t._s(t.media.height)+" ")]):t._e(),t.cropInfos&&t.activeCrop?e("li",{staticClass:"f--small media__crop-link",on:{click:t.openCropMedia}},t._l(t.cropInfos,(function(n,i){return e("p",{key:i,staticClass:"f--small f--note hide--xsmall"},[e("span",{domProps:{innerHTML:t._s(n)}})])})),0):t._e(),e("li",{staticClass:"f--small"},[t.withAddInfo?e("a",{staticClass:"f--link-underlined--o",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.metadatasInfos.apply(null,arguments)}}},[t._v(t._s(t.metadatas.text))]):t._e()])]),t.disabled?t._e():e("a17-buttonbar",{staticClass:"media__actions"},[e("a",{attrs:{href:t.media.original,download:""}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}})]),t.activeCrop?e("button",{attrs:{type:"button"},on:{click:t.openCropMedia}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"crop"}})]):t._e(),e("button",{attrs:{type:"button"},on:{click:t.deleteMediaClick}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}})])]),e("div",{staticClass:"media__actions-dropDown"},[e("a17-dropdown",{ref:"dropDown",attrs:{position:"right"}},[e("a17-button",{attrs:{size:"icon",variant:"icon"},on:{click:function(e){return t.$refs.dropDown.toggle()}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"more-dots"}})]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e("a",{attrs:{href:t.media.original,download:""}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"download"}}),t._v(t._s(t.$trans("fields.medias.download")))]),t.activeCrop?e("button",{attrs:{type:"button"},on:{click:t.openCropMedia}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"crop"}}),t._v(t._s(t.$trans("fields.medias.crop"))+" ")]):t._e(),e("button",{attrs:{type:"button"},on:{click:t.deleteMediaClick}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"trash"}}),t._v(t._s(t.$trans("fields.medias.delete")))])])],1)],1)],1):t._e(),t.hasMedia?t._e():e("a17-button",{attrs:{variant:"ghost",disabled:t.disabled},on:{click:t.openMediaLibrary}},[t._v(t._s(t.btnLabel))]),this.$slots.default?e("p",{staticClass:"media__note f--small"},[t._t("default")],2):t._e(),t.hasMedia&&t.withAddInfo?e("div",{staticClass:"media__metadatas--options",class:{"s--active":t.metadatas.active}},[e("a17-mediametadata",{attrs:{name:t.metadataName,label:t.$trans("fields.medias.alt-text","Alt Text"),id:"altText",media:t.media,maxlength:t.altTextMaxLength},on:{change:t.updateMetadata}}),t.withCaption?e("a17-mediametadata",{attrs:{wysiwyg:t.useWysiwyg,"wysiwyg-options":t.wysiwygOptions,type:"text",name:t.metadataName,label:t.$trans("fields.medias.caption","Caption"),id:"caption",media:t.media,maxlength:t.captionMaxLength},on:{change:t.updateMetadata}}):t._e(),t.withVideoUrl?e("a17-mediametadata",{attrs:{name:t.metadataName,label:t.$trans("fields.medias.video-url","Video URL (optional)"),id:"video",media:t.media},on:{change:t.updateMetadata}}):t._e(),t._l(t.extraMetadatas,(function(n){return[t.extraMetadatas.length>0?e("a17-mediametadata",{key:n.name,attrs:{type:n.type,name:t.metadataName,wysiwyg:n.wysiwyg||!1,"wysiwyg-options":n.wysiwygOptions||t.wysiwygOptions,label:n.label,id:n.name,media:t.media,maxlength:n.maxlength||0},on:{change:t.updateMetadata}}):t._e()]}))],2):t._e()],1),t.hasMedia&&t.activeCrop?e("a17-modal",{ref:t.cropModalName,staticClass:"modal--cropper",attrs:{forceClose:!0,title:t.$trans("fields.medias.crop-edit"),mode:"medium"}},[e("a17-cropper",{key:t.cropperKey,attrs:{media:t.media,aspectRatio:16/9,context:t.cropContext},on:{"crop-end":t.cropMedia}},[e("a17-button",{staticClass:"cropper__button",attrs:{variant:"action"},on:{click:function(e){return t.$refs[t.cropModalName].close()}}},[t._v(t._s(t.$trans("fields.medias.crop-save")))])],1)],1):t._e(),e("input",{attrs:{name:t.inputName,type:"hidden"},domProps:{value:JSON.stringify(t.media)}})],1)},xi=[],Ai=n(9697),Di=n.n(Ai),Li=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cropper"},[e("header",{staticClass:"cropper__header"},[t.multiCrops?e("ul",{staticClass:"cropper__breakpoints"},t._l(t.cropOptions,(function(n,i,r){return e("li",{key:i,class:{"s--active":t.toggleBreakpoint===r},on:{click:function(e){return t.changeCrop(i,r)}}},[t._v(t._s(t._f("capitalize")(i)))])})),0):t._e()]),e("div",{staticClass:"cropper__content"},[e("div",{ref:"cropWrapper",staticClass:"cropper__wrapper"},[e("img",{ref:"cropImage",staticClass:"cropper__img",attrs:{src:t.currentMedia.medium||t.currentMedia.original,alt:t.currentMedia.name}})])]),e("footer",{staticClass:"cropper__footer"},[t.ratiosByContext.length>1?e("ul",{staticClass:"cropper__ratios"},t._l(t.ratiosByContext,(function(n){return e("li",{key:n.name,staticClass:"f--small",class:{"s--active":t.currentRatioName===n.name},on:{click:function(e){return t.changeRatio(n)}}},[t._v(t._s(t._f("capitalize")(n.name)))])})),0):t._e(),e("span",{staticClass:"cropper__values f--small hide--xsmall",class:t.cropperWarning},[t._v(t._s(t.cropValues.original.width)+" × "+t._s(t.cropValues.original.height))]),t._t("default")],2)])},Ii=[],Mi=n(3129),ji=n.n(Mi),Ni=n(5602),Ri=function(t,e,n){return{x:Math.round(t.x*e.width/n.width),y:Math.round(t.y*e.height/n.height),width:Math.round(t.width*e.width/n.width),height:Math.round(t.height*e.height/n.height)}};function Bi(t){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(t)}function Fi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fi(Object(n),!0).forEach((function(e){Ui(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ui(t,e,n){return e=Vi(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vi(t){var e=Zi(t,"string");return"symbol"===Bi(e)?e:String(e)}function Zi(t,e){if("object"!==Bi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Bi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var qi={name:"a17Cropper",props:{media:{type:Object,default:function(){}},context:{type:String,default:""}},mixins:[Ni.Z],data:function(){return{cropper:null,currentMedia:this.media,currentCrop:Object.keys(this.media.crops)[0],toggleBreakpoint:0,cropValues:{natural:{width:null,height:null},original:{width:this.media.crops[Object.keys(this.media.crops)[0]].width,height:this.media.crops[Object.keys(this.media.crops)[0]].height}},minCropValues:{width:0,height:0},currentRatioName:this.media.crops[Object.keys(this.media.crops)[0]].name}},watch:{media:function(t){this.currentMedia=t}},computed:$i({cropOptions:function(){return this.allCrops.hasOwnProperty(this.context)?this.allCrops[this.context]:{}},crop:function(){return this.currentMedia.crops[this.currentCrop]||{}},multiCrops:function(){return Object.keys(this.cropOptions).length>1},ratiosByContext:function(){var t=this.cropOptions[this.currentCrop];return t||[]},cropperOpts:function(){var t=this;return $i($i({},this.defaultCropsOpts),{},{cropmove:function(){t.updateCropperValues()},cropend:function(){t.sendCropperValues()}})},cropperWarning:function(){return{cropper__warning:this.cropValues.original.width<this.minCropValues.width||this.cropValues.original.height<this.minCropValues.height}}},(0,m.rn)({allCrops:function(t){return t.mediaLibrary.crops}})),filters:An.Z,mounted:function(){var t=this,e=this.cropperOpts,n=this.$refs.cropImage,i=this.$refs.cropWrapper,r=new Image;r.addEventListener("load",(function(){i.style.maxWidth=i.getBoundingClientRect().width+"px",i.style.minHeight=i.getBoundingClientRect().height+"px",t.cropper=new(ji())(n,e)}),{once:!0,passive:!0,capture:!0}),r.src=this.currentMedia.medium||this.currentMedia.original,n.addEventListener("ready",(function(){t.cropValues.natural.width=r.naturalWidth,t.cropValues.natural.height=r.naturalHeight,t.updateCrop()}),{once:!0,passive:!0,capture:!0})},methods:{initAspectRatio:function(){var t=this,e=this.ratiosByContext,n=e.find((function(e){return e.name===t.currentRatioName}));if("undefined"!==typeof n&&n)return this.minCropValues.width=n.minValues?n.minValues.width:0,this.minCropValues.height=n.minValues?n.minValues.height:0,void this.cropper.setAspectRatio(n.ratio);this.cropper.setAspectRatio(this.aspectRatio)},changeCrop:function(t,e){this.currentCrop=t,this.currentRatioName=this.crop.name||this.cropOptions[t][0].name,this.toggleBreakpoint=e,this.updateCrop(),this.sendCropperValues()},changeRatio:function(t){this.currentRatioName=t.name,this.updateCrop(),this.sendCropperValues()},updateCrop:function(){this.initAspectRatio(),this.initCrop(),this.updateCropperValues()},updateCropperValues:function(){var t=this.cropper.getData(!0),e=this.toOriginalCrop(t);this.cropValues.original.width=e.width,this.cropValues.original.height=e.height},initCrop:function(){var t=this.toNaturalCrop(this.crop);this.cropper.setData(t)},test:function(){var t=this.toNaturalCrop({x:0,y:0,width:380,height:475});this.cropper.setAspectRatio(.8),this.cropper.setData(t)},sendCropperValues:function(){var t={values:{}};t.values[this.currentCrop]=this.toOriginalCrop(this.cropper.getData(!0)),t.values[this.currentCrop].name=this.currentRatioName,this.$emit("crop-end",t)},toNaturalCrop:function(t){return Ri(t,this.cropValues.natural,this.currentMedia)},toOriginalCrop:function(t){return Ri(t,this.currentMedia,this.cropValues.natural)}},beforeDestroy:function(){this.cropper.destroy()}},Wi=qi,Hi=(0,O.Z)(Wi,Li,Ii,!1,null,"47688b7e",null),Yi=Hi.exports,zi=function(){var t=this,e=t._self._c;return t.languages.length>1&&"text"===t.fieldType?e("a17-locale",{attrs:{type:t.wysiwyg?"a17-wysiwyg":"a17-textfield",initialValues:t.initialValues,attributes:t.attributes},on:{change:t.saveMetadata}}):"text"===t.fieldType&&t.wysiwyg?e("div",[e("a17-wysiwyg",{attrs:{options:t.wysiwygOptions,label:t.label,name:t.fieldName,type:t.fieldType,initialValue:t.initialValue,"in-store":"value",maxlength:t.maxlength},on:{change:t.saveMetadata}}),e("p",{staticClass:"f--note f--small",domProps:{innerHTML:t._s(t.placeholder)}})],1):"text"===t.fieldType?e("a17-textfield",{attrs:{label:t.label,name:t.fieldName,type:"text",placeholder:t.placeholder,initialValue:t.initialValue,"in-store":"value",maxlength:t.maxlength},on:{change:t.saveMetadata}}):"checkbox"===t.fieldType?e("div",{staticClass:"mediaMetadata__checkbox"},[e("a17-checkbox",{attrs:{label:t.label,name:t.fieldName,initialValue:t.initialValue,value:1,inStore:"value"},on:{change:t.saveMetadata}})],1):t._e()},Ki=[];function Gi(t){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(t)}function Xi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xi(Object(n),!0).forEach((function(e){Ji(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ji(t,e,n){return e=tr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tr(t){var e=er(t,"string");return"symbol"===Gi(e)?e:String(e)}function er(t,e){if("object"!==Gi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Gi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var nr={name:"A17MediaMetadata",props:{media:{type:Object,default:function(){}},name:{type:String,required:!0},id:{type:String,required:!0},label:{type:String,required:!0},wysiwyg:{type:Boolean,default:!1},wysiwygOptions:{type:Object,required:!1,default:function(){return{}}},type:{type:String,required:!1},maxlength:{type:Number,required:!1,default:0}},data:function(){return{initialValues:{},initialValue:""}},computed:Qi({fieldName:function(){return"".concat(this.name,"[").concat(this.id,"]")},fieldType:function(){return this.type?this.type:"text"},defaultMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.default[this.id]||!1},customMetadatas:function(){return this.media.hasOwnProperty("metadatas")&&this.media.metadatas.custom[this.id]||!1},attributes:function(){return{label:this.label,name:this.fieldName,type:"text",placeholder:this.placeholder,options:this.wysiwygOptions,inStore:"value",maxlength:this.maxlength}},placeholder:function(){return this.defaultMetadatas?"object"===Gi(this.defaultMetadatas)?this.defaultMetadatas.hasOwnProperty(this.currentLocale)?this.defaultMetadatas[this.currentLocale]:"":null!==this.defaultMetadatas?this.defaultMetadatas:"":""}},(0,m.rn)({languages:function(t){return t.language.all},currentLocale:function(t){return t.language.active.value}})),methods:{saveMetadata:function(t){if(!t.locale){var e=t;t={value:e}}t.id=this.id,this.$emit("change",t)}},mounted:function(){var t=this,e={},n="",i=0;this.languages.forEach((function(r){var o=r.value;if(t.customMetadatas){t.customMetadatas[o]?e[o]=t.customMetadatas[o]:!0!==t.customMetadatas&&"string"!==typeof t.customMetadatas||0!==i?e[o]="":(e[o]=t.customMetadatas,n=t.customMetadatas);var a={};a.name=t.fieldName,a.value=e[o],t.languages.length>1&&(a.locale=o),t.$store.commit(y.Yc.UPDATE_FORM_FIELD,a)}i++})),this.initialValues=e,this.initialValue=n}},ir=nr,rr=(0,O.Z)(ir,zi,Ki,!1,null,"6c6bb80c",null),or=rr.exports,ar={props:{withAddInfo:{type:Boolean,default:!0},withVideoUrl:{type:Boolean,default:!1},withCaption:{type:Boolean,default:!0},altTextMaxLength:{type:Number,default:0},captionMaxLength:{type:Number,default:0},note:{type:String,default:""},cropContext:{type:String,default:""},extraMetadatas:{type:Array,default:function(){return[]}}}};function sr(t){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(t)}function lr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lr(Object(n),!0).forEach((function(e){cr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cr(t,e,n){return e=dr(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dr(t){var e=fr(t,"string");return"symbol"===sr(e)?e:String(e)}function fr(t,e){if("object"!==sr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==sr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var pr=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome"),hr={name:"A17Mediafield",components:{"a17-cropper":Yi,"a17-mediametadata":or},mixins:[zt.Z,ar],props:{name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},btnLabel:{type:String,default:function(){return this.$trans("fields.medias.btn-label","Attach image")}},hover:{type:Boolean,default:!1},isSlide:{type:Boolean,default:!1},index:{type:Number,default:0},mediaContext:{type:String,default:""},activeCrop:{type:Boolean,default:!0},widthMin:{type:Number,default:0},heightMin:{type:Number,default:0}},data:function(){return{canvas:null,img:null,ctx:null,imgLoaded:!1,cropSrc:"",showImg:!1,isDestroyed:!1,naturalDim:{width:null,height:null},originalDim:{width:null,height:null},hasMediaChanged:!1,metadatas:{text:this.$trans("fields.medias.edit-info"),textOpen:this.$trans("fields.medias.edit-info"),textClose:this.$trans("fields.medias.edit-close"),active:!1}}},filters:An.Z,computed:ur(ur({},(0,m.rn)({useWysiwyg:function(t){return t.mediaLibrary.config.useWysiwyg},wysiwygOptions:function(t){return t.mediaLibrary.config.wysiwygOptions}})),{},{cropThumbnailStyle:function(){return this.showImg?{}:this.hasMedia&&this.media.crops?0===this.cropSrc.length?{}:{backgroundImage:"url(".concat(this.cropSrc,")")}:{}},cropThumbnailClass:function(){if(!this.hasMedia)return{};if(!this.media.crops)return{};var t=this.media.crops[Object.keys(this.media.crops)[0]];return{"media__img--landscape":t.width/t.height>=1,"media__img--portrait":t.width/t.height<1}},mediaKey:function(){return this.mediaContext.length>0?this.mediaContext:this.name},inputName:function(){var t=this.name;return this.name.indexOf("[")&&(t=this.name.replace("]","").replace("[","][")),"medias["+t+"]["+this.index+"]"},metadataName:function(){return"mediaMeta["+this.name+"]["+this.media.id+"]"},media:function(){return this.selectedMedias.hasOwnProperty(this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]||{}},cropInfos:function(){var t=[];if(this.media.crops)for(var e in this.media.crops)if(this.media.crops[e].width+this.media.crops[e].height){var n="";n+=this.media.crops[e].name+" "+this.$trans("fields.medias.crop-list")+": ",n+=this.media.crops[e].width+"&nbsp;&times;&nbsp;"+this.media.crops[e].height,t.push(n)}return t.length>0?t:null},hasMedia:function(){return Object.keys(this.media).length>0},cropperKey:function(){return"".concat(this.mediaKey,"-").concat(this.index,"_").concat(this.cropContext)},mediaHasCrop:function(){return this.media.crops},cropModalName:function(){return"".concat(name,"Modal")}},(0,m.rn)({selectedMedias:function(t){return t.mediaLibrary.selected},allCrops:function(t){return t.mediaLibrary.crops}})),watch:{media:function(t,e){this.hasMediaChanged=t!==e,this.selectedMedias.hasOwnProperty(this.mediaKey)&&this.selectedMedias[this.mediaKey][this.index]&&(this.isDestroyed=!1)}},methods:{canvasCrop:function(){var t=this,e=this.media.crops[Object.keys(this.media.crops)[0]];if(e)if(e.width+e.height!==0){var n=this.media.thumbnail;this.$nextTick((function(){try{var i=Ri(e,t.naturalDim,t.originalDim),r=i.width,o=i.height;t.canvas.width=r,t.canvas.height=o,t.ctx.drawImage(t.img,i.x,i.y,r,o,0,0,r,o),n=t.canvas.toDataURL("image/png"),t.cropSrc!==n&&(t.showImg=!1,t.cropSrc=n)}catch(a){console.error(a),t.cropSrc!==n&&(t.showImg=!0,t.cropSrc=n)}}))}else this.showDefaultThumbnail()},setDefaultCrops:function(){var t=this,e={},n=[];if(this.allCrops.hasOwnProperty(this.cropContext)){for(var i in this.allCrops[this.cropContext]){var r=this.allCrops[this.cropContext][i][0].ratio,o=this.media.width,a=this.media.height,s={x:o/2,y:a/2},l=o,u=a;r>0&&r<1?(l=Math.floor(Math.min(a*r,o)),u=Math.floor(l/r)):r>=1&&(u=Math.floor(Math.min(o/r,a)),l=Math.floor(u*r));var c={x:0,y:0,width:l,height:u};c=Ri(c,this.naturalDim,this.originalDim),n.push(Di().crop(this.img,{width:c.width,height:c.height,minScale:1}));var d=Math.floor(s.x-l/2),f=Math.floor(s.y-u/2);e[i]={},e[i].name=this.allCrops[this.cropContext][i][0].name||i,e[i].x=d,e[i].y=f,e[i].width=l,e[i].height=u}Promise.all(n).then((function(n){var i=0;n.forEach((function(n){var r={x:n.topCrop.x,y:n.topCrop.y,width:n.topCrop.width,height:n.topCrop.height},o=e[Object.keys(e)[i]],a=Ri(r,t.originalDim,t.naturalDim);o.x=a.x,o.y=a.y,o.width=a.width,o.height=a.height,i++})),t.cropMedia({values:e})}),(function(n){console.error(n),t.cropMedia({values:e})}))}else this.cropMedia({values:e})},cropMedia:function(t){t.key=this.mediaKey,t.index=this.index,this.$store.commit(y.CV.SET_MEDIA_CROP,t),this.img&&this.canvasCrop()},setNaturalDimensions:function(){this.img&&(this.naturalDim.width=this.img.naturalWidth,this.naturalDim.height=this.img.naturalHeight)},setOriginalDimensions:function(){this.media&&(this.originalDim.width=this.media.width,this.originalDim.height=this.media.height)},init:function(){var t=this;this.showImg=!1;var e=function(){t.setNaturalDimensions(),t.setOriginalDimensions(),t.mediaHasCrop?t.canvasCrop():t.setDefaultCrops()};this.hasMedia&&(this.cropSrc=this.media.thumbnail,this.initImg().then((function(){e()}),(function(n){console.error(n),t.showDefaultThumbnail(),t.$nextTick((function(){var n=t.$refs.mediaImg;n?(n.addEventListener("load",(function(){t.img=n,e()}),{once:!0,passive:!0,capture:!0}),n.addEventListener("error",(function(e){console.error(e),t.showDefaultThumbnail()}))):(t.showImg=!1,t.cropSrc=t.media.thumbnail)}))})),this.hasMediaChanged=!1)},initImg:function(){var t=this;return new Promise((function(e,n){t.img=new Image,pr||(t.img.crossOrigin="Anonymous"),t.canvas=document.createElement("canvas"),t.ctx=t.canvas.getContext("2d"),t.img.addEventListener("load",(function(){e()}),{once:!0,passive:!0,capture:!0}),t.img.addEventListener("error",(function(t){n(t)}));var i="?";t.media.thumbnail.indexOf("?")>-1&&(i="&"),t.img.src=t.media.thumbnail+i+"no-cache"}))},showDefaultThumbnail:function(){this.showImg=!0,this.hasMedia&&(this.cropSrc=this.media.thumbnail)},openCropMedia:function(){this.$refs[this.cropModalName].open()},deleteMediaClick:function(){this.isDestroyed=!0,this.deleteMedia()},deleteMedia:function(){this.$store.commit(y.CV.DESTROY_SPECIFIC_MEDIA,{name:this.mediaKey,index:this.index})},updateMetadata:function(t){this.$store.commit(y.CV.SET_MEDIA_METADATAS,{media:{context:this.mediaKey,index:this.index},value:t})},metadatasInfos:function(){this.metadatas.active=!this.metadatas.active,this.metadatas.text=this.metadatas.active?this.metadatas.textClose:this.metadatas.textOpen},destroyValue:function(){this.isSlide||this.isDestroyed||this.deleteMedia()}},beforeMount:function(){this.init()},beforeUpdate:function(){this.hasMediaChanged&&this.init()}},mr=hr,br=(0,O.Z)(mr,Ci,xi,!1,null,"3f736376",null),yr=br.exports,vr=function(){var t=this,e=t._self._c;return e("a17-inputframe",{attrs:{error:t.error,label:t.label,locale:t.locale,size:t.size,note:t.note,name:t.name},on:{localize:t.updateLocale}},[t.max>1||0===t.max?e("a17-slideshow",{attrs:{name:t.name,cropContext:t.cropContext,max:t.max,required:t.required,buttonOnTop:t.buttonOnTop,withAddInfo:t.withAddInfo,withVideoUrl:t.withVideoUrl,withCaption:t.withCaption,altTextMaxLength:t.altTextMaxLength,captionMaxLength:t.captionMaxLength,extraMetadatas:t.extraMetadatas,disabled:t.disabled}},[t._t("default")],2):e("a17-mediafield",{attrs:{name:t.name,cropContext:t.cropContext,required:t.required,withAddInfo:t.withAddInfo,withVideoUrl:t.withVideoUrl,withCaption:t.withCaption,altTextMaxLength:t.altTextMaxLength,captionMaxLength:t.captionMaxLength,extraMetadatas:t.extraMetadatas,disabled:t.disabled}},[t._t("default")],2)],1)},gr=[],_r={name:"A17MediafieldTranslated",mixins:[Yt.Z,at.Z,ar],props:{name:{type:String,required:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},max:{type:Number,default:1},buttonOnTop:{type:Boolean,default:!1}}},wr=_r,Or=(0,O.Z)(wr,vr,gr,!1,null,null,null),Er=Or.exports,Sr=n(9935),kr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"multiselectorOuter"},[e("a17-inputframe",{attrs:{error:t.error,note:t.note,label:t.label,name:t.name,"add-new":t.addNew}},[e("div",{staticClass:"multiselector",class:t.gridClasses},[e("div",{staticClass:"multiselector__outer"},t._l(t.fullOptions,(function(n,i){return e("div",{key:i,staticClass:"multiselector__item",style:t.itemStyle},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedValue,expression:"checkedValue"}],staticClass:"multiselector__checkbox",class:{"multiselector__checkbox--checked":t.checkedValue.includes(n.value)},attrs:{type:"checkbox",name:t.name+"["+t.randKey+"]",id:t.uniqId(n.value,i),disabled:n.disabled||t.disabled},domProps:{value:n.value,checked:Array.isArray(t.checkedValue)?t._i(t.checkedValue,n.value)>-1:t.checkedValue},on:{change:function(e){var i=t.checkedValue,r=e.target,o=!!r.checked;if(Array.isArray(i)){var a=n.value,s=t._i(i,a);r.checked?s<0&&(t.checkedValue=i.concat([a])):s>-1&&(t.checkedValue=i.slice(0,s).concat(i.slice(s+1)))}else t.checkedValue=o}}}),e("label",{staticClass:"multiselector__label",attrs:{for:t.uniqId(n.value,i)},on:{click:function(e){return e.preventDefault(),t.changeCheckbox(n.value)}}},[e("span",{staticClass:"multiselector__icon"},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})]),t._v(" "+t._s(n.label)+" ")]),e("span",{staticClass:"multiselector__bg"})])})),0)])]),t.addNew?[e("a17-modal-add",{ref:"addModal",attrs:{name:t.name,"form-create":t.addNew,"modal-title":"Add new "+t.label}},[t._t("addModal")],2)]:t._e()],2)},Tr=[],Pr=n(6193),Cr={name:"A17Multiselect",mixins:[K.Z,at.Z,rt.Z,ot.Z,Pr.Z],props:{grid:{type:Boolean,default:!0},columns:{type:Number,default:0},inline:{type:Boolean,default:!1},border:{type:Boolean,default:!1}},computed:{gridClasses:function(){return this.columns>=1?["multiselector--columns",this.grid?"multiselector--grid":""]:[this.grid?"multiselector--grid":"",this.inline?"multiselector--inline":"",this.border?"multiselector--border":""]},itemStyle:function(){return this.columns>=1?{width:"".concat(100/this.columns,"%")}:{}}},methods:{updateFromStore:function(t){it()(t,this.checkedValue)||(this.checkedValue=t)},changeCheckbox:function(t){var e=this.checkedValue.indexOf(t),n=this.checkedValue.slice();e>-1?n.splice(e,1):n.push(t);var i=this.isMax(n),r=this.isMin(n);i||r||(this.checkedValue=n)},uniqId:function(t,e){return this.name+"_"+t+"-"+this.randKey*(e+1)}}},xr=Cr,Ar=(0,O.Z)(xr,kr,Tr,!1,null,"8819f42c",null),Dr=Ar.exports,Lr=function(){var t=this,e=t._self._c;return e("span",{staticClass:"radio",class:t.customClass},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedValue,expression:"selectedValue"}],staticClass:"radio__input",attrs:{type:"radio",name:t.name,id:t.uniqId(t.value),disabled:t.disabled},domProps:{value:t.value,checked:t._q(t.selectedValue,t.value)},on:{change:function(e){t.selectedValue=t.value}}}),e("label",{staticClass:"radio__label",attrs:{for:t.uniqId(t.value)}},[t._v(t._s(t.label))])])},Ir=[],Mr={name:"A17Radio",mixins:[K.Z],props:{customClass:{type:String,default:""},value:{default:""},name:{type:String,default:""},label:{type:String,default:""},initialValue:{default:""},disabled:{type:Boolean,default:!1}},data:function(){return{currentValue:this.initialValue}},computed:{selectedValue:{get:function(){return this.currentValue},set:function(t){this.currentValue=t,this.$emit("change",t)}}},methods:{uniqId:function(t){return this.name+"_"+t+"-"+this.randKey}}},jr=Mr,Nr=(0,O.Z)(jr,Lr,Ir,!1,null,"6de2145c",null),Rr=Nr.exports,Br=function(){var t=this,e=t._self._c;return e("a17-inputframe",{attrs:{error:t.error,note:t.note,label:t.label,name:t.name,"label-for":t.uniqId}},[e("ul",{staticClass:"radioGroup",class:t.radioClasses},t._l(t.radios,(function(n,i){return e("li",{key:i,staticClass:"radioGroup__item"},[e("a17-radio",{attrs:{customClass:"radio__"+t.radioClass+"--"+(i+1),name:t.name,value:n.value,label:n.label,initialValue:t.currentValue,disabled:n.disabled},on:{change:t.changeValue}})],1)})),0)])},Fr=[],$r={name:"A17CheckboxGroup",mixins:[K.Z,at.Z,ot.Z],props:{radioClass:{type:String,default:""},inline:{type:Boolean,default:!1},name:{type:String,default:""},label:{default:""},initialValue:{default:""},radios:{default:function(){return[]}}},data:function(){return{currentValue:this.initialValue}},computed:{uniqId:function(t){return this.name+"-"+this.randKey},radioClasses:function(){return[this.inline?"radioGroup--inline":""]}},methods:{updateFromStore:function(t){t!==this.currentValue&&this.updateValue(t)},updateValue:function(t){this.currentValue=t},changeValue:function(t){t!==this.currentValue&&(this.updateValue(t),this.$emit("change",this.currentValue),this.saveIntoStore(t))}}},Ur=$r,Vr=(0,O.Z)(Ur,Br,Fr,!1,null,"35a49f72",null),Zr=Vr.exports,qr=function(){var t=this,e=t._self._c;return e("div",[e("a17-inputframe",{attrs:{error:t.error,note:t.note,label:t.label,locale:t.locale,name:t.name,"label-for":t.uniqId,required:t.required,"add-new":t.addNew},on:{localize:t.updateLocale}},[e("span",{staticClass:"select__input",class:t.selectClasses},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedValue,expression:"selectedValue"}],attrs:{name:t.name,id:t.uniqId,disabled:t.disabled,required:t.required,readonly:t.readonly},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedValue=e.target.multiple?n:n[0]}}},t._l(t.fullOptions,(function(n,i){return e("option",{key:i,domProps:{value:n.value,innerHTML:t._s(n.label)}})})),0)])]),t.addNew?[e("a17-modal-add",{ref:"addModal",attrs:{name:t.name,"form-create":t.addNew,"modal-title":"Add new "+t.label}},[t._t("addModal")],2)]:t._e()],2)},Wr=[],Hr={name:"A17Select",mixins:[K.Z,Et.Z,at.Z,Yt.Z,ot.Z,Pr.Z],props:{size:{type:String,default:""},selected:{default:""},options:{default:function(){return[]}}},data:function(){return{value:this.selected}},computed:{uniqId:function(t){return this.name+"-"+this.randKey},selectClasses:function(){return["small"===this.size?"select__input--small":"","large"===this.size?"select__input--large":""]},selectedValue:{get:function(){return this.value},set:function(t){this.value=t,this.saveIntoStore(t),this.$emit("change",t)}}},methods:{updateFromStore:function(t){this.value=t}},mounted:function(){this.$emit("change",this.value)}},Yr=Hr,zr=(0,O.Z)(Yr,qr,Wr,!1,null,"467fbd52",null),Kr=zr.exports,Gr=function(){var t=this,e=t._self._c;return e("a17-inputframe",{attrs:{error:t.error,note:t.note,name:t.name}},[e("div",{staticClass:"singleCheckbox",class:t.wrapperClasses},[e("span",{staticClass:"checkbox"},[e("input",{staticClass:"checkbox__input",class:t.checkboxClasses,attrs:{type:"checkbox",value:"true",name:t.name+"["+t.randKey+"]",id:t.uniqId,disabled:t.disabled},domProps:{checked:t.checkedValue}}),e("label",{staticClass:"checkbox__label",attrs:{for:t.uniqId},on:{click:function(e){return e.preventDefault(),t.changeCheckbox.apply(null,arguments)}}},[t._v(t._s(t.label)+" "),e("span",{staticClass:"checkbox__icon"},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"check"}})]),t.note?e("span",{staticClass:"f--small checkbox__note"},[t._v(t._s(t.note))]):t._e()])])]),t.requireConfirmation?[e("a17-dialog",{ref:"warningConfirm",attrs:{"modal-title":"Confirm","confirm-label":"Confirm"}},[e("p",{staticClass:"modal--tiny-title"},[e("strong",[t._v(t._s(t.confirmTitleText))])]),e("p",[t._v(t._s(t.confirmMessageText))])])]:t._e()],2)},Xr=[],Qr={props:{requireConfirmation:{type:Boolean,default:!1},confirmMessageText:{type:String,default:"Are you sure you want to change this option ?"},confirmTitleText:{type:String,default:"Confirm selection"}}},Jr={name:"A17SingleCheckbox",mixins:[K.Z,at.Z,ot.Z,Qr],props:{name:{type:String,default:""},initialValue:{type:Boolean,default:!0},theme:{type:String,default:""},disabled:{type:Boolean,default:!1},border:{type:Boolean,default:!1}},data:function(){return{currentValue:this.initialValue}},computed:{uniqId:function(){return this.name+"_"+this.randKey},wrapperClasses:function(){return[this.border?"singleCheckbox--border":""]},checkboxClasses:function(){return[this.theme?"checkbox__input--".concat(this.theme):"",this.checkedValue?"checkbox__input--checked":""]},checkedValue:{get:function(){return this.currentValue},set:function(t){t!==this.currentValue&&(this.currentValue=t,"undefined"!==typeof this.saveIntoStore&&this.saveIntoStore(t),this.$emit("change",t))}}},methods:{updateFromStore:function(t){this.checkedValue=t},changeCheckbox:function(){var t=this;this.requireConfirmation?this.$refs.warningConfirm.open((function(){t.checkedValue=!t.checkedValue})):this.checkedValue=!this.checkedValue}}},to=Jr,eo=(0,O.Z)(to,Gr,Xr,!1,null,"552b859e",null),no=eo.exports,io=function(){var t=this,e=t._self._c;return e("div",{class:t.outerClasses},[e("a17-inputframe",{attrs:{error:t.error,note:t.note,label:t.label,name:t.name,"add-new":t.addNew,variant:t.variantInput}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"hidden",name:t.name},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),e("div",{staticClass:"singleselector",class:t.gridClasses},[e("div",{staticClass:"singleselector__outer"},t._l(t.fullOptions,(function(n,i){return e("div",{key:i,staticClass:"singleselector__item",style:t.itemStyle},[e("input",{staticClass:"singleselector__radio",class:{"singleselector__radio--checked":n.value==t.selectedValue},attrs:{type:"radio",name:t.name+"["+t.randKey+"]",id:t.uniqId(n.value,i),disabled:n.disabled||t.disabled},domProps:{value:n.value}}),e("label",{staticClass:"singleselector__label",attrs:{for:t.uniqId(n.value,i)},on:{click:function(e){return e.preventDefault(),t.changeRadio(n.value)}}},[t._v(t._s(n.label))]),e("span",{staticClass:"singleselector__bg"})])})),0)])]),t.addNew?[e("a17-modal-add",{ref:"addModal",attrs:{name:t.name,"form-create":t.addNew,"modal-title":"Add new "+t.label}},[t._t("addModal")],2)]:t._e(),t.requireConfirmation?[e("a17-dialog",{ref:"warningConfirm",attrs:{"modal-title":"Confirm","confirm-label":"Confirm"}},[e("p",{staticClass:"modal--tiny-title"},[e("strong",[t._v(t._s(t.confirmTitleText))])]),e("p",[t._v(t._s(t.confirmMessageText))])])]:t._e()],2)},ro=[],oo={name:"A17Singleselect",mixins:[K.Z,at.Z,ot.Z,Pr.Z,Qr],props:{name:{type:String,default:""},grid:{type:Boolean,default:!0},columns:{type:Number,default:0},inline:{type:Boolean,default:!0},inTable:{type:Boolean,default:!1},border:{type:Boolean,default:!1},selected:{default:""},options:{default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{value:this.selected}},computed:{variantInput:function(){return[this.inTable?"intable":""].join(" ")},outerClasses:function(){return["multiselectorOuter"]},gridClasses:function(){return this.columns>=1?["singleselector--columns",this.grid?"singleselector--grid":""]:[this.grid?"singleselector--grid":"",this.inline?"singleselector--inline":"",this.border?"singleselector--border":""]},itemStyle:function(){return this.columns>=1?{width:"".concat(100/this.columns,"%")}:{}},selectedValue:{get:function(){return this.value},set:function(t){t!==this.value&&(this.value=t,this.saveIntoStore(t),this.$emit("change",t))}}},methods:{updateFromStore:function(t){t!==this.value&&(this.value=t)},changeRadio:function(t){var e=this;this.requireConfirmation?this.$refs.warningConfirm.open((function(){e.selectedValue=t})):this.selectedValue=t},uniqId:function(t,e){return this.name+"_"+t+"-"+this.randKey*(e+1)}}},ao=oo,so=(0,O.Z)(ao,io,ro,!1,null,"0406024e",null),lo=so.exports,uo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"multiselectorPermissions"},[t.searchable?e("div",{staticClass:"multiselectorPermissions__filter"},[e("a17-filter",{attrs:{"full-width":!0},on:{submit:t.submitFilter}},[t.groups.length&&t.listUser?e("div",{staticClass:"multiselectorPermissions__groups",attrs:{slot:"additional-actions"},slot:"additional-actions"},[e("a17-dropdown",{ref:"groupDropdown",staticClass:"multiselectorPermissions__dd",attrs:{position:"bottom-right",clickable:!0}},[e("button",{staticClass:"multiselectorPermissions__button",attrs:{type:"button"},on:{click:function(e){return t.$refs.groupDropdown.toggle()}}},[t._v("Groups")]),e("div",{attrs:{slot:"dropdown__content"},slot:"dropdown__content"},[e("a17-checkboxgroup",{attrs:{name:"permissionsGroups",selected:t.activeGroups,options:t.groups},on:{change:t.updateUserPermission}})],1)])],1):t._e()])],1):t._e(),e("div",{staticClass:"multiselectorPermissions__items"},[t._t("default"),t.empty?e("div",{staticClass:"multiselectorPermissions__empty",style:t.emptyStyle},[e("h4",[t._v(t._s(t.emptyMessage))])]):t._e(),t.allHidden?e("div",{staticClass:"multiselectorPermissions__empty",style:t.emptyStyle},[e("h4",[t._v(t._s(t.allHiddenMessage))])]):t._e()],2)])},co=[];function fo(t){return fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(t)}function po(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ho(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?po(Object(n),!0).forEach((function(e){mo(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mo(t,e,n){return e=bo(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bo(t){var e=yo(t,"string");return"symbol"===fo(e)?e:String(e)}function yo(t,e){if("object"!==fo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==fo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var vo={name:"A17SingleSelectPermissions",components:{"a17-filter":Je.Z},props:{searchable:{type:Boolean,default:!0},listUser:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No results found. Please try another search"},allHiddenMessage:{type:String,default:"Use the search box to find items"}},data:function(){return{empty:!1,allHidden:!1,activeGroups:[],emptyHeight:120}},computed:ho(ho({emptyStyle:function(){return{height:this.emptyHeight+"px"}}},(0,m.Se)(["fieldsByName"])),(0,m.rn)({groups:function(t){return t.permissions.groups},groupUserMapping:function(t){return t.permissions.groupUserMapping}})),mounted:function(){var t=this;if(!this.listUser){var e=this.$el.querySelectorAll("[data-singleselect-permissions-field]"),n="multiselectorPermissions__item--hidden";if(e.length){var i=0;e.forEach((function(e){var r=e.getAttribute("data-singleselect-permissions-field"),o=t.fieldsByName(r),a=o.length?o[0].value:"";a||(e.classList.add(n),i++)})),i===e.length&&(this.allHidden=!0)}}},methods:{submitFilter:function(t){var e=this,n=this.$el.querySelectorAll("[data-singleselect-permissions-filterable]"),i="multiselectorPermissions__item--hidden";n.length&&(this.emptyHeight=Math.max(120,n[0].parentElement.offsetHeight),this.empty=!0,this.allHidden=!1,n.forEach((function(n){var r=n.getAttribute("data-singleselect-permissions-filterable");if(t.search){var o=t.search;r.toUpperCase().includes(o.toUpperCase())?(n.classList.remove(i),e.empty=!1):n.classList.add(i)}else n.classList.remove(i),e.empty=!1})))},setUserPermission:function(t){var e={};e.name=t,e.value="view-item",this.$store.commit(y.Yc.UPDATE_FORM_FIELD,e)},updateUserPermission:function(t){var e=this;this.activeGroups=t,t.forEach((function(t){e.groupUserMapping[t]&&e.groupUserMapping[t].forEach((function(t){var n="user_".concat(t,"_permission"),i=e.fieldsByName(n);i.length&&""!==i[0].value&&"view-item"!==i[0].value||e.setUserPermission(n)}))}))}}},go=vo,_o=(0,O.Z)(go,uo,co,!1,null,"627613a1",null),wo=_o.exports,Oo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"slideshow"},[t.buttonOnTop&&t.remainingSlides>0?e("div",{staticClass:"slideshow__trigger"},[e("a17-button",{attrs:{disabled:t.disabled,type:"button",variant:"ghost"},on:{click:function(e){return t.openMediaLibrary(t.remainingSlides)}}},[t._v(t._s(t.addLabel))]),e("span",{staticClass:"slideshow__note f--small"},[t._t("default")],2)],1):t._e(),t.slides.length?e("draggable",{staticClass:"slideshow__content",attrs:{options:t.dragOptions},model:{value:t.slides,callback:function(e){t.slides=e},expression:"slides"}},[e("transition-group",{attrs:{name:"draggable_list",tag:"div"}},t._l(t.slides,(function(n,i){return e("div",{key:"".concat(n.id,"_").concat(i),staticClass:"slide"},[t.disabled?t._e():e("div",{staticClass:"slide__handle"},[e("div",{staticClass:"slide__handle--drag"})]),e("a17-mediafield",{staticClass:"slide__content",attrs:{name:"".concat(t.name,"_").concat(n.id),index:i,mediaContext:t.name,cropContext:t.cropContext,hover:t.hoverable,isSlide:!0,withAddInfo:t.withAddInfo,withCaption:t.withCaption,withVideoUrl:t.withVideoUrl,altTextMaxLength:t.altTextMaxLength,captionMaxLength:t.captionMaxLength,extraMetadatas:t.extraMetadatas,disabled:t.disabled}})],1)})),0)],1):t._e(),!t.buttonOnTop&&t.remainingSlides>0?e("div",{staticClass:"slideshow__trigger"},[e("a17-button",{attrs:{disabled:t.disabled,type:"button",variant:"ghost"},on:{click:function(e){return t.openMediaLibrary(t.remainingSlides)}}},[t._v(t._s(t.addLabel))]),e("span",{staticClass:"slideshow__note f--small"},[t._t("default")],2)],1):t._e()],1)},Eo=[];function So(t){return So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},So(t)}function ko(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function To(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ko(Object(n),!0).forEach((function(e){Po(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Po(t,e,n){return e=Co(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Co(t){var e=xo(t,"string");return"symbol"===So(e)?e:String(e)}function xo(t,e){if("object"!==So(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==So(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ao={name:"A17Slideshow",components:{draggable:h()},mixins:[b.Z,zt.Z,ar],props:{name:{type:String,required:!0},itemLabel:{type:String,default:"image"},max:{type:Number,default:10},buttonOnTop:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{handle:".slide__handle",hoverable:!0}},computed:To({remainingSlides:function(){return Math.max(0,this.max-this.slides.length)},addLabel:function(){var t=this.itemLabel+"s";return"Attach "+t},slides:{get:function(){return this.selectedMedias.hasOwnProperty(this.name)&&this.selectedMedias[this.name]||[]},set:function(t){this.$store.commit(y.CV.REORDER_MEDIAS,{name:this.name,medias:t})}}},(0,m.rn)({selectedMedias:function(t){return t.mediaLibrary.selected}})),methods:{deleteSlideshow:function(){this.$store.commit(y.CV.DESTROY_MEDIAS,this.name)},destroyValue:function(){this.isSlide||this.isDestroyed||this.deleteMedia()}}},Do=Ao,Lo=(0,O.Z)(Do,Oo,Eo,!1,null,"56787a7e",null),Io=Lo.exports,Mo=n(6287),jo=n(1894),No=function(){var t=this,e=t._self._c;return e("a17-inputframe",{attrs:{error:t.error,note:t.note,label:t.label,locale:t.locale,size:t.size,name:t.name,required:t.required},on:{localize:t.updateLocale}},[e("div",{staticClass:"wysiwyg__outer",class:t.textfieldClasses},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{name:t.name,type:"hidden"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),t.editSource?[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.activeSource,expression:"!activeSource"}],staticClass:"wysiwyg",class:t.textfieldClasses,attrs:{dir:t.dirLocale}},[e("div",{ref:"editorcontainer",staticClass:"wysiwyg__editor",class:{"wysiwyg__editor--limitHeight":t.limitHeight}},[e("div",{ref:"editor",staticClass:"wysiwyg__editor-inner"})]),t.shouldShowCounter?e("span",{staticClass:"wysiwyg__limit f--tiny",class:t.limitClasses},[t._v(t._s(t.counter))]):t._e()]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeSource,expression:"activeSource"}],staticClass:"form__field form__field--textarea",attrs:{dir:t.dirLocale}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],style:t.textareaHeight,attrs:{placeholder:t.placeholder,autofocus:t.autofocus},domProps:{value:t.value},on:{change:t.updateSourcecode,input:function(e){e.target.composing||(t.value=e.target.value)}}})]),e("a17-button",{staticClass:"wysiwyg__button",attrs:{variant:"ghost"},on:{click:t.toggleSourcecode}},[t._v("Source code")])]:[e("div",{staticClass:"wysiwyg",class:t.textfieldClasses,attrs:{dir:t.dirLocale}},[e("div",{ref:"editorcontainer",staticClass:"wysiwyg__editor",class:{"wysiwyg__editor--limitHeight":t.limitHeight}},[e("div",{ref:"editor",staticClass:"wysiwyg__editor-inner"})]),t.shouldShowCounter?e("span",{staticClass:"wysiwyg__limit f--tiny",class:t.limitClasses},[t._v(t._s(t.counter))]):t._e()])]],2)])},Ro=[],Bo=n(3279),Fo=n.n(Bo),$o=n(6095),Uo=n.n($o);function Vo(t){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}function Zo(){return Zo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=qo(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},Zo.apply(this,arguments)}function qo(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=ia(t),null===t)break;return t}function Wo(t,e,n){return e=zo(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ho(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,zo(i.key),i)}}function Yo(t,e,n){return e&&Ho(t.prototype,e),n&&Ho(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zo(t){var e=Ko(t,"string");return"symbol"===Vo(e)?e:String(e)}function Ko(t,e){if("object"!==Vo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Vo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Go(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xo(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qo(t,e)}function Qo(t,e){return Qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qo(t,e)}function Jo(t){var e=na();return function(){var n,i=ia(t);if(e){var r=ia(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ta(this,n)}}function ta(t,e){if(e&&("object"===Vo(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ea(t)}function ea(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function na(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ia(t){return ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ia(t)}Uo().debug("error");var ra=Uo()["import"]("delta"),oa=Uo()["import"]("blots/embed"),aa=Uo()["import"]("blots/inline"),sa=Uo()["import"]("formats/link"),la=Uo()["import"]("blots/block/embed"),ua=function(t){Xo(n,t);var e=Jo(n);function n(){return Go(this,n),e.apply(this,arguments)}return Yo(n)}(la);ua.blotName="divider",ua.tagName="hr",Uo().register(ua);var ca=function(t){Xo(n,t);var e=Jo(n);function n(){return Go(this,n),e.apply(this,arguments)}return Yo(n,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return"\n"}},{key:"insertInto",value:function(t,e){oa.prototype.insertInto.call(this,t,e)}}]),n}(oa);Wo(ca,"blotName","softbreak"),Wo(ca,"tagName","br"),Wo(ca,"className","softbreak"),Uo().register(ca);var da={key:13,shiftKey:!0,handler:function(t){var e=this.quill.getLeaf(t.index)[0],n=this.quill.getLeaf(t.index+1)[0];this.quill.insertEmbed(t.index,"softbreak",!0,"user"),null!==n&&e.parent===n.parent||this.quill.insertEmbed(t.index,"softbreak",!0,"user"),this.quill.setSelection(t.index+1,Uo().sources.SILENT)}};function fa(){var t=new ra;return t.insert({softbreak:""}),t}var pa={blotName:"anchor",tagName:"SPAN"},ha=function(t){Xo(n,t);var e=Jo(n);function n(){return Go(this,n),e.apply(this,arguments)}return Yo(n,[{key:"format",value:function(t,e){if(t!==this.statics.blotName||!e)return Zo(ia(n.prototype),"format",this).call(this,t,e);e=this.constructor.sanitize(e),this.domNode.setAttribute("id",e)}}],[{key:"create",value:function(t){var e=Zo(ia(n),"create",this).call(this,t);return t=this.sanitize(t),e.setAttribute("id",t),e.className="ql-anchor",e}},{key:"sanitize",value:function(t){return t.replace(/\s+/g,"-").toLowerCase()}},{key:"formats",value:function(t){return t.getAttribute("id")}}]),n}(aa);ha.blotName=pa.blotName,ha.tagName=pa.tagName,Uo().register(ha);var ma=function(t){Xo(n,t);var e=Jo(n);function n(){return Go(this,n),e.apply(this,arguments)}return Yo(n,[{key:"format",value:function(t,e){if(Zo(ia(n.prototype),"format",this).call(this,t,e),t===this.statics.blotName&&e){var i=/^((http|https|ftp):\/\/)/;i.test(e)?window["TWILL"].STORE.form.baseUrl&&e.startsWith(window["TWILL"].STORE.form.baseUrl)?this.domNode.removeAttribute("target"):this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target")}}}],[{key:"create",value:function(t){var e=Zo(ia(n),"create",this).call(this,t);t=this.sanitize(t),e.setAttribute("href",t);var i=/^((http|https|ftp):\/\/)/;if(i.test(t)||e.removeAttribute("target"),window["TWILL"].STORE.form.baseUrl){var r=new URL(window["TWILL"].STORE.form.baseUrl);t.startsWith(r.origin)&&e.removeAttribute("target")}return e}}]),n}(sa);function ba(t){return'<span class="icon icon--wysiwyg_'+t+'" aria-hidden="true"><svg><title>'+t+'</title><use xlink:href="#icon--wysiwyg_'+t+'"></use></svg></span>'}Uo().register(ma);var ya=Uo()["import"]("ui/icons");ya.bold=ba("bold"),ya.italic=ba("italic"),ya.anchor=ba("anchor"),ya.link=ba("link"),ya.header["1"]=ba("header"),ya.header["2"]=ba("header-2"),ya.header["3"]=ba("header-3"),ya.header["4"]=ba("header-4"),ya.header["5"]=ba("header-5"),ya.header["6"]=ba("header-6"),ya.divider=ba("hr");var va=["background","bold","color","font","code","italic","link","size","strike","script","underline","blockquote","header","indent","list","align","direction","code-block","formula","image","video","divider"];function ga(t){var e=[ca.blotName,pa.blotName];function n(t){e.indexOf(t)>-1||-1===va.indexOf(t)||e.push(t)}return t.forEach((function(t){if("object"===Vo(t))for(var e in t)n(e);"string"===typeof t&&n(t)})),e}var _a={Quill:Uo(),lineBreak:{handle:da,clipboard:[ca.tagName,fa]},getFormats:ga},wa=n(2847);function Oa(t){return Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(t)}function Ea(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ea(Object(n),!0).forEach((function(e){ka(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ka(t,e,n){return e=Ta(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ta(t){var e=Pa(t,"string");return"symbol"===Oa(e)?e:String(e)}function Pa(t,e){if("object"!==Oa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Oa(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ca="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.12.0/build/highlight.min.js",xa={name:"A17Wysiwyg",mixins:[Et.Z,at.Z,Yt.Z,ot.Z],props:{editSource:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},initialValue:{default:""},limitHeight:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}}},computed:Sa({textareaHeight:function(){return{height:this.editorHeight}},textfieldClasses:function(){return{"wysiwyg__outer--limitHeight":this.limitHeight,"s--disabled":this.disabled,"s--focus":this.focused}},hasMaxlength:function(){return this.maxlength>0},shouldShowCounter:function(){return this.hasMaxlength&&this.showCounter},limitClasses:function(){return{"wysiwyg__limit--red":this.counter<.1*this.maxlength}}},(0,m.rn)({baseUrl:function(t){return t.form.baseUrl}})),data:function(){return{value:this.initialValue,editorHeight:50,toolbarHeight:52,focused:!1,activeSource:!1,quill:null,counter:0,localOptions:{},defaultModules:{toolbar:["bold","italic","underline","link"],clipboard:{matchVisual:!1,matchers:[_a.lineBreak.clipboard]},keyboard:{bindings:{lineBreak:_a.lineBreak.handle}},syntax:!1}}},methods:{initQuill:function(t){var e=this;if(this.quill=new _a.Quill(this.$refs.editor,t),this.value&&this.updateEditor(this.value),this.quill.on("text-change",(function(t,n,i){var r=e.$refs.editor.children[0].innerHTML;"<p><br></p>"===r&&(r=""),e.value=r,e.$emit("input",e.value),e.$emit("change",e.value),e.updateCounter(e.getTextLength()),"user"===i&&e.textUpdate()})),this.quill.on("selection-change",(function(t,n,i){t?(e.focused=!0,e.$emit("focus")):(e.focused=!1,"user"===i&&e.saveIntoStore(),e.$emit("blur"))})),this.disabled&&this.quill.enable(!1),this.baseUrl){var n=this.quill.theme.tooltip,i=n.root;if(i){var r=i.querySelector("input[data-link]");r&&r.setAttribute("data-link",this.baseUrl)}}"rtl"===this.dirLocale&&(this.quill.format("direction","rtl"),this.quill.format("align","right")),this.hasMaxlength&&this.showCounter&&this.updateCounter(this.getTextLength()),this.$emit("ready",this.quill)},insertDivider:function(){var t=this.quill.getSelection(!0);t&&(this.quill.insertText(t.index,"\n"),this.quill.insertEmbed(t.index+1,"divider",!0),this.quill.setSelection(t.index+2))},anchorHandler:function(t){if(!0===t)t=prompt("Enter anchor:");else{var e=this.quill.getSelection(),n=this.quill.getFormat(e).anchor||"";t=prompt("Edit anchor:",n)}this.quill.format("anchor",t)},updateEditor:function(t){var e=this.quill.clipboard.convert(t);this.quill.setContents(e,"silent")},updateFromStore:function(t){"undefined"===typeof t&&(t=""),this.value!==t&&(this.value=t,this.updateEditor(t))},textUpdate:function(){this.preventSubmit(),this._textUpdateInternal()},_textUpdateInternal:Fo()((function(){this.saveIntoStore(),this.allowSubmit()}),600),toggleSourcecode:function(){this.editorHeight=Math.max(50,this.$refs.editor.clientHeight)+this.toolbarHeight-1+"px",this.activeSource=!this.activeSource,this.updateSourcecode()},updateSourcecode:function(){this.updateEditor(this.value),this.saveIntoStore()},updateCounter:function(t){this.showCounter&&this.hasMaxlength&&(this.counter=this.maxlength-t)},getTextLength:function(){return this.quill.getLength()-(0===this.value.length?2:1)}},mounted:function(){var t=this;if(!this.quill){var e=JSON.parse(JSON.stringify(this.options));e.theme=e.theme||"snow",e.boundary=e.boundary||document.body,e.modules=e.modules||this.defaultModules;var n={container:void 0!==e.modules.toolbar?e.modules.toolbar:this.defaultModules.toolbar,handlers:{}};if(e.modules.clipboard=void 0!==e.modules.clipboard?e.modules.clipboard:this.defaultModules.clipboard,e.modules.keyboard=void 0!==e.modules.keyboard?e.modules.keyboard:this.defaultModules.keyboard,e.modules.syntax=void 0!==e.modules.syntax&&e.modules.syntax?{highlight:function(t){return hljs.highlightAuto(t).value}}:this.defaultModules.syntax,e.placeholder=e.placeholder||this.placeholder,e.readOnly=void 0!==e.readOnly?e.readOnly:this.readonly,e.formats=_a.getFormats(e.modules.toolbar),e.bounds=this.$refs.editor,e.scrollingContainer="html",n.container.includes("anchor")&&(n.handlers.anchor=this.anchorHandler),n.container.includes("divider")&&(n.handlers.divider=this.insertDivider),e.modules.toolbar=n,this.localOptions=e,e.modules.syntax&&"undefined"===typeof hljs){var i="highlight-js-script";(0,wa.ve)(i,Ca,"text/javascript").then((function(){t.initQuill(e)}))}else this.initQuill(e)}},beforeDestroy:function(){this.quill=null}},Aa=xa,Da=(0,O.Z)(Aa,No,Ro,!1,null,"dc784262",null),La=Da.exports,Ia=function(){var t=this,e=t._self._c;return e("a17-inputframe",{attrs:{error:t.error,note:t.note,label:t.label,locale:t.locale,size:t.size,name:t.name,required:t.required},on:{localize:t.updateLocale}},[t.editor?e("div",{staticClass:"wysiwyg__outer"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.activeSource,expression:"!activeSource"}],staticClass:"wysiwyg",class:t.textfieldClasses,attrs:{dir:t.dirLocale}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{name:t.name,type:"hidden"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),e("div",{ref:"editor",staticClass:"wysiwyg__editor"},[e("div",{staticClass:"wysiwyg__menubar"},[t.toolbar.header?[t.toolbar.header?e("wysiwyg-menu-bar-btn",{attrs:{icon:"paragraph",disabled:t.editor.isActive("paragraph"),isActive:t.editor.isActive("paragraph")},on:{"btn:click":function(e){t.editor.chain().focus().setParagraph().run()}}}):t._e(),t._l(t.headingOptions,(function(n){return e("wysiwyg-menu-bar-btn",{key:n,attrs:{icon:n>1?"header-".concat(n):"header",isActive:t.editor.isActive("heading",{level:n})},on:{"btn:click":function(e){t.editor.chain().focus().toggleHeading({level:n}).run()}}})}))]:t._e(),t.toolbar.bold?e("wysiwyg-menu-bar-btn",{attrs:{icon:"bold",isActive:t.editor.isActive("bold")},on:{"btn:click":function(e){t.editor.chain().focus().toggleBold().run()}}}):t._e(),t.toolbar.italic?e("wysiwyg-menu-bar-btn",{attrs:{icon:"italic",isActive:t.editor.isActive("italic")},on:{"btn:click":function(e){t.editor.chain().focus().toggleItalic().run()}}}):t._e(),t.toolbar.strike?e("wysiwyg-menu-bar-btn",{attrs:{icon:"strike",isActive:t.editor.isActive("strike")},on:{"btn:click":function(e){t.editor.chain().focus().toggleStrike().run()}}}):t._e(),t.toolbar.underline?e("wysiwyg-menu-bar-btn",{attrs:{icon:"underline",isActive:t.editor.isActive("underline")},on:{"btn:click":function(e){t.editor.chain().focus().toggleUnderline().run()}}}):t._e(),t.toolbar.hr?e("wysiwyg-menu-bar-btn",{attrs:{icon:"hr"},on:{"btn:click":function(e){t.editor.chain().focus().setHorizontalRule().run()}}}):t._e(),t.toolbar.link?e("wysiwyg-menu-bar-btn",{attrs:{icon:"link",isActive:t.editor.isActive("link")},on:{"btn:click":function(e){return t.openLinkWindow()}}}):t._e(),t.toolbar.link?e("wysiwyg-menu-bar-btn",{attrs:{icon:"unlink",disabled:!t.editor.isActive("link"),isActive:t.editor.isActive("link")},on:{"btn:click":function(e){return t.removeLink()}}}):t._e(),t.toolbar.bullet?e("wysiwyg-menu-bar-btn",{attrs:{icon:"ul",isActive:t.editor.isActive("bulletList")},on:{"btn:click":function(e){t.editor.chain().focus().toggleBulletList().run()}}}):t._e(),t.toolbar.ordered?e("wysiwyg-menu-bar-btn",{attrs:{icon:"ol",isActive:t.editor.isActive("orderedList")},on:{"btn:click":function(e){t.editor.chain().focus().toggleOrderedList().run()}}}):t._e(),t.toolbar.blockquote?e("wysiwyg-menu-bar-btn",{attrs:{icon:"quote",isActive:t.editor.isActive("blockquote")},on:{"btn:click":function(e){t.editor.chain().focus().toggleBlockquote().run()}}}):t._e(),t.toolbar.codeBlock?e("wysiwyg-menu-bar-btn",{attrs:{icon:"code",isActive:t.editor.isActive("codeBlock")},on:{"btn:click":function(e){t.editor.chain().focus().toggleCodeBlock().run()}}}):t._e(),t.toolbar.code?e("wysiwyg-menu-bar-btn",{attrs:{icon:"code",isActive:t.editor.isActive("code")},on:{"btn:click":function(e){t.editor.chain().focus().setCode().run()}}}):t._e(),t.toolbar.table?e("wysiwyg-menu-bar-btn",{attrs:{icon:"table"},on:{"btn:click":function(e){t.editor.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()}}}):t._e(),e("wysiwyg-menu-bar-btn",{attrs:{icon:"undo",disabled:!t.editor.can().undo()},on:{"btn:click":function(e){t.editor.chain().focus().undo().run()}}}),e("wysiwyg-menu-bar-btn",{attrs:{icon:"redo",disabled:!t.editor.can().redo()},on:{"btn:click":function(e){t.editor.chain().focus().redo().run()}}}),t.toolbar.table?[t.editor.isActive("table")?e("div",{staticClass:"wysiwyg__menubar-table-buttons"},[e("br"),e("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_table"},on:{"btn:click":function(e){t.editor.chain().focus().deleteTable().run()}}}),e("wysiwyg-menu-bar-btn",{attrs:{icon:"add_col_before"},on:{"btn:click":function(e){t.editor.chain().focus().addColumnBefore().run()}}}),e("wysiwyg-menu-bar-btn",{attrs:{icon:"add_col_after"},on:{"btn:click":function(e){t.editor.chain().focus().addColumnAfter().run()}}}),e("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_col"},on:{"btn:click":function(e){t.editor.chain().focus().deleteColumn().run()}}}),e("wysiwyg-menu-bar-btn",{attrs:{icon:"add_row_before"},on:{"btn:click":function(e){t.editor.chain().focus().addRowBefore().run()}}}),e("wysiwyg-menu-bar-btn",{attrs:{icon:"add_row_after"},on:{"btn:click":function(e){t.editor.chain().focus().addRowAfter().run()}}}),e("wysiwyg-menu-bar-btn",{attrs:{icon:"delete_row"},on:{"btn:click":function(e){t.editor.chain().focus().deleteRow().run()}}}),e("wysiwyg-menu-bar-btn",{attrs:{icon:"combine_cells"},on:{"btn:click":function(e){t.editor.chain().focus().mergeCells().run()}}})],1):t._e()]:t._e(),this.toolbar.wrappers?[e("br"),t._l(this.toolbar.wrappers,(function(n){return[e("wysiwyg-menu-bar-btn",{key:n.id,attrs:{"icon-url":n.icon,isActive:t.editor.isActive(n.class),label:n.label},on:{"btn:click":function(e){t.editor.commands["set"+n.id]()}}})]}))]:t._e()],2),e("div",{staticClass:"wysiwyg__contentWrapper",class:{"wysiwyg__contentWrapper--limitHeight":t.limitHeight}},[e("editor-content",{staticClass:"wysiwyg__content",attrs:{editor:t.editor}})],1)]),t.shouldShowCounter?e("span",{staticClass:"input__limit f--tiny",class:t.limitClasses},[t._v(t._s(t.counter))]):t._e()]),t.editSource?[e("div",{directives:[{name:"show",rawName:"v-show",value:t.activeSource,expression:"activeSource"}],staticClass:"form__field form__field--textarea"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],style:t.textareaHeight,attrs:{placeholder:t.placeholder,autofocus:t.autofocus},domProps:{value:t.value},on:{change:t.updateSourcecode,input:function(e){e.target.composing||(t.value=e.target.value)}}})]),e("a17-button",{staticClass:"wysiwyg__button",attrs:{variant:"ghost"},on:{click:t.toggleSourcecode}},[t._v("Source code ")])]:t._e()],2):t._e(),t.browserIsOpen&&t.browserEndpoints?e("standalone-browser",{ref:"localbrowser",attrs:{"endpoint-multiple":t.browserEndpoints,max:1},on:{selected:t.setLinkFromBrowser,close:function(e){t.browserIsOpen=!1}}}):t._e(),e("a17-modal",{ref:"link-modal",staticClass:"modal--form modal--link",attrs:{title:t.$trans("wysiwyg.link_window.title","Edit link")}},[t.linkWindow?[e("a17-textfield",{attrs:{name:"link_text","initial-value":t.linkWindow.text,label:t.$trans("wysiwyg.link_window.text","Text to display")},model:{value:t.linkWindow.text,callback:function(e){t.$set(t.linkWindow,"text",e)},expression:"linkWindow.text"}}),e("a17-textfield",{attrs:{name:"link_link","initial-value":t.linkWindow.href,label:t.$trans("wysiwyg.link_window.link","Link"),placeholder:t.$trans("wysiwyg.link_window.link_placeholder","Link to URL address")},model:{value:t.linkWindow.href,callback:function(e){t.$set(t.linkWindow,"href",e)},expression:"linkWindow.href"}}),e("div",[t.browserEndpoints?e("a",{staticClass:"link-browser-link",attrs:{href:"#"},on:{click:function(e){t.browserIsOpen=!0}}},[t._v(" "+t._s(t.$trans("wysiwyg.link_window.internal_browser_link","Select internal content"))+" ")]):t._e()]),e("a17-inputframe",[e("a17-checkbox",{attrs:{name:"link_target","initial-value":t.linkWindow.target,value:"_blank",label:t.$trans("wysiwyg.link_window.open_in_new_window","Open in a new window")},on:{change:function(e){t.linkWindow.target=e?"_blank":null}}})],1),e("div",{staticClass:"modalValidation"},[e("a17-button",{staticClass:"dialog-confirm",attrs:{variant:"validate",tabindex:"4"},on:{click:t.saveLink}},[t._v(" "+t._s(t.$trans("wysiwyg.link_window.save","Save"))+" ")]),e("a17-button",{staticClass:"dialog-cancel",attrs:{variant:"aslink-grey",tabindex:"5"},on:{click:function(e){return t.$refs["link-modal"].close()}}},[t._v(" "+t._s(t.$trans("wysiwyg.link_window.save","Cancel"))+" ")])],1)]:t._e()],2)],1)},Ma=[],ja=n(4436),Na=n(8313),Ra=n(3552),Ba=n(185),Fa=n(6622),$a=n(8766),Ua=n(3780),Va=n(6569),Za=n(1086),qa=function(){var t=this,e=t._self._c;return e("button",{class:{"is-active":t.isActive,"wysiwyg__menubar-button":t.icon||t.iconUrl},attrs:{disabled:t.disabled,type:"button",title:t.label},on:{click:t.handleClick}},[t.iconUrl?[e("img",{staticClass:"icon--custom",attrs:{src:t.iconUrl,alt:t.label}})]:t.icon?[e("span",{staticClass:"icon",class:"icon--wysiwyg_".concat(t.icon),attrs:{"aria-hidden":"true"}},[e("svg",[e("title",[t._v(t._s(t.icon))]),e("use",{attrs:{"xlink:href":"#icon--wysiwyg_".concat(t.icon)}})])])]:[t._v(" "+t._s(t.label)+" ")]],2)},Wa=[],Ha={name:"WysiwygMenuBarButton",props:{icon:{type:String,required:!1},iconUrl:{type:String,required:!1},label:{type:String,required:!1},isActive:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{handleClick:function(){this.$emit("btn:click")}}},Ya=Ha,za=(0,O.Z)(Ya,qa,Wa,!1,null,"542fc105",null),Ka=za.exports,Ga=n(2537),Xa=n(2892),Qa=n(6671),Ja=n(3372);function ts(t){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(t)}function es(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?es(Object(n),!0).forEach((function(e){is(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function is(t,e,n){return e=rs(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rs(t){var e=os(t,"string");return"symbol"===ts(e)?e:String(e)}function os(t,e){if("object"!==ts(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==ts(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var as={name:"A17Wysiwyg",mixins:[Et.Z,at.Z,Yt.Z,ot.Z],props:{editSource:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!0},type:{type:String,default:"text"},prefix:{type:String,default:""},maxlength:{type:Number,default:0},initialValue:{default:""},browserEndpoints:{required:!1,default:null},limitHeight:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{modules:{}}}}},computed:ns({textareaHeight:function(){return{height:this.editorHeight}},textfieldClasses:function(){return{"s--disabled":this.disabled,"s--focus":this.focused}},hasMaxlength:function(){return this.maxlength>0},shouldShowCounter:function(){return this.hasMaxlength&&this.showCounter},limitClasses:function(){return{"input__limit--red":this.counter<.1*this.maxlength}}},(0,m.rn)({baseUrl:function(t){return t.form.baseUrl}})),components:{EditorContent:ja.kg,StandaloneBrowser:Za.Z,"wysiwyg-menu-bar-btn":Ka},data:function(){return{value:this.initialValue,editorHeight:50,toolbarHeight:52,toolbar:this.options.modules.toolbar?this.options.modules.toolbar.reduce((function(t,e){return e.list?(t[e.list]=!0,t):"object"===ts(e)?ns(ns({},t),e):(t[e]=!0,t)}),{}):{bold:!0,italic:!0,underline:!0,link:!0},headingOptions:[],focused:!1,activeSource:!1,counter:0,editor:null,linkWindow:null,browserIsOpen:!1}},methods:{updateEditor:function(t){this.editor&&this.editor.commands.setContent(t)},updateFromStore:function(t){"undefined"===typeof t&&(t=""),this.value!==t&&(this.value=t,this.updateEditor(t))},textUpdate:function(){this.preventSubmit(),this._textUpdateInternal()},_textUpdateInternal:Fo()((function(){this.saveIntoStore(),this.allowSubmit()}),600),toggleSourcecode:function(){this.editorHeight=Math.max(50,this.$refs.editor.clientHeight)+this.toolbarHeight-1+"px",this.activeSource=!this.activeSource,this.updateSourcecode()},updateSourcecode:function(){this.updateEditor(this.value),this.saveIntoStore()},updateCounter:function(){this.showCounter&&this.hasMaxlength&&(this.counter=this.maxlength-this.getTextLength())},getTextLength:function(){return this.editor.getHTML().replace(/<[^>]+>/g,"").length},openLinkWindow:function(){var t,e,n=this;this.editor.commands.extendMarkRange("link");var i=this.editor.state.selection.ranges,r=(0,Na.Jo)(this.editor.state,"link"),o=!0,a=i[0].$from.pos,s=i[0].$to.pos;r.href&&(o=!1);var l=null,u=null,c=this.editor.state.tr.doc,d=this.editor.getHTML().length;if(a===s){var f=!1,p=!1;while(!f&&a>0)f=0===a||" "===c.textBetween(a-1,a)," "===c.textBetween(a-1,a)?l=a:0===a&&(l=0),a-=1;while(!p&&s<d)p=s===d||""===c.textBetween(s,s+1)||" "===c.textBetween(s,s+1),u=s,s+=1}else l=a,u=s;this.editor.commands.setTextSelection({from:l,to:u}),this.linkWindow={newLink:o,from:null!==(t=l)&&void 0!==t?t:0,to:u,textOriginal:this.editor.state.tr.doc.textBetween(l,u),text:this.editor.state.tr.doc.textBetween(l,u),href:r.href,target:null!==(e=r.target)&&void 0!==e?e:""},this.$nextTick((function(){n.$refs["link-modal"].open()}))},removeLink:function(){this.editor.chain().focus().extendMarkRange("link").unsetLink().run()},setLinkFromBrowser:function(t){this.linkWindow.href="#twillInternalLink::"+t[0].endpointType+"#"+t[0].id},saveLink:function(){this.linkWindow.text!==this.linkWindow.textOriginal&&(this.editor.commands.insertContentAt({from:this.linkWindow.from,to:this.linkWindow.to},this.linkWindow.text),this.editor.commands.setTextSelection({from:this.linkWindow.from,to:this.linkWindow.from+this.linkWindow.text.length})),this.linkWindow.newLink?this.editor.commands.setLink({href:this.linkWindow.href,target:this.linkWindow.target}):this.editor.commands.updateAttributes("link",{href:this.linkWindow.href,target:this.linkWindow.target}),this.$refs["link-modal"].close(),this.linkWindow=null}},beforeMount:function(){var t,e,n,i,r=this;this.toolbar.header&&(this.headingOptions=this.toolbar.header.filter((function(t){return"number"===typeof t})));var o=this.value||"",a=[Qa.U];this.placeholder&&this.placeholder.length>0&&a.push(Xa.V.configure({emptyNodeClass:"is-empty",emptyNodeText:this.placeHolder,showOnlyWhenEditable:!0})),this.toolbar.wrappers&&this.toolbar.wrappers.forEach((function(t){a.push(Na.NB.create({name:t.id,group:"block",marks:"_",atom:!0,content:"block+",addOptions:function(){return{HTMLAttributes:{class:t.className,"data-customwrapper":t.id,"data-customwrapper-label":t.label}}},parseHTML:function(){return[{tag:"div",getAttrs:function(e){e.getAttribute("data-customwrapper",t.id)}}]},renderHTML:function(t){var e=t.HTMLAttributes;return["div",(0,Na.P1)(this.options.HTMLAttributes,e),0]},addCommands:function(){var e=this,n="set"+this.name,i={};return i[n]=function(){return function(n){var i=n.chain;if(t.createElement)switch(t.createElement){case"ol":return i().toggleWrap(e.name).toggleOrderedList().run();case"ul":return i().toggleWrap(e.name).toggleBulletList().run()}return i().toggleWrap(e.name).run()}},i}}))})),Object.keys(this.toolbar).forEach((function(t){switch(t){case"link":a.push(Ga.r.configure({openOnClick:!1}));break;case"underline":a.push(Ba.Z);break;case"table":a.push(Fa.ZP.configure({resizable:!1})),a.push(Va.Z),a.push(Ua.Z),a.push($a.Z);break;case"hr":a.push(Ja.b)}})),a.push(Ra.Z.configure({orderedList:null!==(t=this.toolbar.ordered)&&void 0!==t&&t,bulletList:null!==(e=this.toolbar.bullet)&&void 0!==e&&e,listItem:this.toolbar.ordered||this.toolbar.bullet||!1,code:null!==(n=this.toolbar.code)&&void 0!==n&&n,codeBlock:null!==(i=this.toolbar.codeBlock)&&void 0!==i&&i})),this.editor=new ja.ML({content:o,extensions:a,onUpdate:function(t){var e=t.editor;r.value=e.getHTML(),r.textUpdate(),r.updateCounter()}}),this.updateCounter()},beforeUnmount:function(){this.editor.destroy()},beforeDestroy:function(){this.editor.destroy()}},ss=as,ls=(0,O.Z)(ss,Ia,Ma,!1,null,"577e0287",null),us=ls.exports;function cs(t){return cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(t)}function ds(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function fs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ds(Object(n),!0).forEach((function(e){bs(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ps(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hs(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ys(i.key),i)}}function ms(t,e,n){return e&&hs(t.prototype,e),n&&hs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bs(t,e,n){return e=ys(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ys(t){var e=vs(t,"string");return"symbol"===cs(e)?e:String(e)}function vs(t,e){if("object"!==cs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==cs(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var gs={target:"data-sticky-target",toptarget:"data-sticky-top",classContainer:"sticky",classFixed:"sticky__fixed",classAbs:"sticky__abs",classEnd:"sticky__scrolled",topOffset:0,offset:20},_s=function(){function t(e,n){var i=this;ps(this,t),bs(this,"refresh",(function(){return i._refresh()})),bs(this,"dispose",(function(){return i._dispose()})),bs(this,"status","top"),bs(this,"ticking",!1),bs(this,"anchors",["Top","Bottom"]),bs(this,"lastScrollPos",0),bs(this,"prevScrollPos",-1),n=fs(fs({},gs),n),this.target=null,this.toptarget=null,this.container=e,this.containerID=this.container.getAttribute("data-sticky-id"),this.options=n,this.options.target&&(this.target=this.container.querySelector("["+this.options.target+'="'+this.containerID+'"]')),this.options.toptarget&&(this.toptarget=this.container.querySelector("["+this.options.toptarget+'="'+this.containerID+'"]')),this.topMargin=this.container.hasAttribute("data-sticky-offset")?parseInt(this.container.getAttribute("data-sticky-offset")):this.options.offset,this.topOffset=this.container.hasAttribute("data-sticky-topoffset")?parseInt(this.container.getAttribute("data-sticky-topoffset")):this.options.topOffset,e.classList.add(this.options.classContainer),this._setEventListeners(),this._refresh()}return ms(t,[{key:"_refresh",value:function(){if(!this.target)return!1;if(!this._isFullyVisible(this.target))return this._removePositionClass(),!1;var t=this.lastScrollPos,e=this.target.offsetHeight,n=this.container.offsetHeight,i=e+this.topMargin<window.innerHeight?0:1,r=this.toptarget?this.toptarget.getBoundingClientRect().top+this.topOffset:this.container.getBoundingClientRect().top+this.topOffset,o=r+n-e;return r=r-this.topMargin+Math.max(0,e+this.topMargin-window.innerHeight)+t,this.toptarget&&(o=r+n-e-Math.max(0,this.toptarget.getBoundingClientRect().top-this.container.getBoundingClientRect().top)),this.target.offsetHeight<n&&("top"!==this.status&&t<r&&(this._removePositionClass(),this.status="top"),"scrolling"!==this.status&&t>=r&&t<o&&(this._removePositionClass(),this.target.classList.add(this.options.classFixed+this.anchors[i]),this.status="scrolling"),"bottom"!==this.status&&t>=o&&(this._removePositionClass(),this.target.classList.add(this.options.classAbs),this.status="bottom"),t+window.innerHeight>=this.container.getBoundingClientRect().top+t+n?this.target.classList.add(this.options.classEnd):this.target.classList.remove(this.options.classEnd)),this}},{key:"_isFullyVisible",value:function(t){return t.clientHeight<window.innerHeight/100*75}},{key:"_removePositionClass",value:function(){for(var t=0;t<this.anchors.length;t++)this.target.classList.remove(this.options.classFixed+this.anchors[t]);this.target.classList.remove(this.options.classAbs)}},{key:"_scroll",value:function(){var t=this;return t.lastScrollPos=window.pageYOffset,t.ticking||window.requestAnimationFrame((function(){t._refresh(),t.prevScrollPos=t.lastScrollPos,t.ticking=!1})),t.ticking=!0,this}},{key:"_resize",value:function(){return this.lastScrollPos=window.pageYOffset,this.status="",this._refresh(),this}},{key:"_dispose",value:function(){var t=this;return window.removeEventListener("scroll",(function(){return t._scroll()})),window.removeEventListener("resize",(function(){return t._resize()})),this}},{key:"_setEventListeners",value:function(){var t=this;window.addEventListener("scroll",(function(){return t._scroll()})),window.addEventListener("resize",(function(){return t._resize()})),this._resize()}}]),t}(),ws={},Os={install:function(t){var e={options:ws,bind:function(t,n,i){var r=t._sticky=new _s(t,e.options);r._vueEl=t},componentUpdated:function(t,e,n){t._sticky.refresh()},inserted:function(t,e,n){},unbind:function(t,e,n){t._sticky.dispose()}};t.directive("sticky",e)}};function Es(t,e,n){var i=["icon"],r=e.expression||n.data.attrs.symbol,o=t;"span"===n.tag&&(o=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.appendChild(o)),i.push("icon--".concat(r)),i.forEach((function(e){t.classList.add(e)}));var a=document.createElementNS("http://www.w3.org/2000/svg","title");a.textContent=r,o.appendChild(a);var s="#icon--".concat(r),l=document.createElementNS("http://www.w3.org/2000/svg","use");l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),o.appendChild(l)}function Ss(t){var e=t.querySelector("svg");e&&e.parentNode.removeChild(e);var n=t.className.split(" ").filter((function(t){return 0===t.indexOf("icon")}));n.forEach((function(e){t.classList.remove(e)}))}var ks={install:function(t){var e={bind:function(t,e,n){Es(t,e,n)},componentUpdated:function(t,e,n,i){Ss(t),Es(t,e,n)},inserted:function(t,e,n){},unbind:function(t,e,n){}};t.directive("svg",e)}};function Ts(t){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(t)}function Ps(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ps(Object(n),!0).forEach((function(e){Ls(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ps(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function As(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Is(i.key),i)}}function Ds(t,e,n){return e&&As(t.prototype,e),n&&As(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ls(t,e,n){return e=Is(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Is(t){var e=Ms(t,"string");return"symbol"===Ts(e)?e:String(e)}function Ms(t,e){if("object"!==Ts(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==Ts(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var js={container:!1,delay:0,html:!1,budge:15,placement:"top",theme:"default",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip__arrow"></div><div class="tooltip__inner"></div></div>',trigger:"hover focus",offset:0},Ns=function(){function t(e,n){var i=this;xs(this,t),Ls(this,"show",(function(){return i._show(i.reference,i.options)})),Ls(this,"hide",(function(){return i._hide()})),Ls(this,"dispose",(function(){return i._dispose()})),Ls(this,"toggle",(function(){return i._isOpen?i.hide():i.show()})),Ls(this,"innerSelector",".tooltip__inner"),Ls(this,"_events",[]),Ls(this,"_setTooltipNodeEvent",(function(t,e,n,r){var o=t.relatedreference||t.toElement,a=function n(o){var a=o.relatedreference||o.toElement;i._tooltipNode.removeEventListener(t.type,n),e.contains(a)||i._scheduleHide(e,r.delay,r,o)};return!!i._tooltipNode.contains(o)&&(i._tooltipNode.addEventListener(t.type,a),!0)})),n=Cs(Cs({},js),n),this.reference=e,this.options=n;var r="string"===typeof n.trigger?n.trigger.split(" ").filter((function(t){return-1!==["click","hover","focus"].indexOf(t)})):[];this._isOpen=!1,this._setEventListeners(e,r,n)}return Ds(t,[{key:"_create",value:function(t,e,n,i,r){if(this._tooltipNode)return this;var o=window.document.createElement("div");o.innerHTML=e.trim();var a=o.childNodes[0];a.id="tooltip--".concat(Math.random().toString(36).substr(2,10)),a.setAttribute("aria-hidden","false"),a.classList.add("tooltip--"+n);var s=o.querySelector(this.innerSelector);return 1===i.nodeType?r&&s.appendChild(i):r?s.innerHTML=i:s.innerText=i,a}},{key:"_position",value:function(t,e,n){var i=0,r=0,o=e,a=t.getBoundingClientRect();this._tooltipNode.classList.remove("tooltip--"+o);var s=Math.round(a.top-this._tooltipNode.offsetHeight-n),l=Math.round(a.top+a.height/2-this._tooltipNode.offsetHeight/2),u=Math.round(a.left+a.width+n),c=Math.round(a.top+a.height+n),d=Math.round(a.left-this._tooltipNode.offsetWidth-n),f=Math.round(a.left+a.width/2-this._tooltipNode.offsetWidth/2);"top"===e&&(i=f,r=s,o="top",i<10&&(i=10),r<0&&(r=c,o="bottom")),"top-right"===e&&(i=u,r=s,o="top",r<0&&(r=c,o="bottom")),"bottom"===e&&(i=f,r=c,o="bottom",i<10&&(i=10),r>0&&(r=s,o="top")),"right"===e&&(i=u,r=l,o="right"),"left"===e&&(i=d,r=l,o="left",i<0&&(i=u,o="right")),this._tooltipNode.style.left=i+"px",this._tooltipNode.style.top=r+"px",this._tooltipNode.classList.add("tooltip--"+o)}},{key:"_show",value:function(t,e){if(this._isOpen&&!this._isOpening)return this;this._isOpen=!0;var n=t.getAttribute("data-tooltip-budge")||e.budge,i=t.getAttribute("data-tooltip-theme")||e.theme,r=t.getAttribute("data-tooltip-placement")||e.placement;if(this._tooltipNode)return this._tooltipNode.style.opacity="",this._tooltipNode.style.visibility="",this._tooltipNode.style.transition="opacity 0.3s",this._tooltipNode.setAttribute("aria-hidden","false"),this._position(t,r,n),this;var o=t.getAttribute("data-tooltip-title")||e.title,a=this._create(t,e.template,i,o,e.html);t.setAttribute("aria-describedby",a.id);var s=this._findContainer(e.container,t);return this._append(a,s),this._tooltipNode=a,this._position(t,r,n),this}},{key:"_hide",value:function(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.opacity="0",this._tooltipNode.style.visibility="hidden",this._tooltipNode.style.transition="",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}},{key:"_dispose",value:function(){var t=this;return this._events.length&&(this._events.forEach((function(e){var n=e.func,i=e.event;t.reference.removeEventListener(i,n)})),this._events=[]),this._tooltipNode&&(this._hide(),this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null),this}},{key:"_findContainer",value:function(t,e){return"string"===typeof t?t=window.document.querySelector(t):!1===t&&(t=e.parentNode),t}},{key:"_append",value:function(t,e){e.appendChild(t)}},{key:"_setEventListeners",value:function(t,e,n){var i=this,r=[],o=[];e.forEach((function(t){switch(t){case"hover":r.push("mouseenter"),o.push("mouseleave");break;case"focus":r.push("focus"),o.push("blur");break;case"click":r.push("click"),o.push("click");break}})),r.forEach((function(e){var r=function(e){!0!==i._isOpening&&(e.usedByTooltip=!0,i._scheduleShow(t,n.delay,n,e))};i._events.push({event:e,func:r}),t.addEventListener(e,r)})),o.forEach((function(e){var r=function(e){!0!==e.usedByTooltip&&i._scheduleHide(t,n.delay,n,e)};i._events.push({event:e,func:r}),t.addEventListener(e,r)}))}},{key:"_scheduleShow",value:function(t,e,n){var i=this;this._isOpening=!0;var r=e&&e.show||e||0;r>0?window.setTimeout((function(){return i._show(t,n)}),r):this._show(t,n)}},{key:"_scheduleHide",value:function(t,e,n,i){var r=this;this._isOpening=!1;var o=e&&e.hide||e||0;window.setTimeout((function(){if(!1!==r._isOpen&&document.body.contains(r._tooltipNode)){if("mouseleave"===i.type){var o=r._setTooltipNodeEvent(i,t,e,n);if(o)return}r._hide()}}),o)}}]),t}(),Rs={},Bs={install:function(t){var e={options:Rs,bind:function(t,n,i){if(!t._tooltip){var r=t._tooltip=new Ns(t,e.options);r._vueEl=t}},componentUpdated:function(t,n,i,r){if(t._tooltip){t._tooltip.dispose();var o=t._tooltip=new Ns(t,e.options);o._vueEl=t}},inserted:function(t,e,n){},unbind:function(t,e,n){t._tooltip&&t._tooltip.dispose()}};t.directive("tooltip",e)}},Fs=!0,$s={install:function(t,e){t.component("a17-button",$),t.component("a17-infotip",Se),t.component("a17-slideshow",Io),t.component("a17-browserfield",N),t.component("a17-textfield",Mo.Z),t.component("a17-hiddenfield",ve),t.component("a17-wysiwyg",La),t.component("a17-wysiwyg-tiptap",us),t.component("a17-inputframe",Ae),t.component("a17-mediafield",yr),t.component("a17-mediafield-translated",Er),t.component("a17-radio",Rr),t.component("a17-radiogroup",Zr),t.component("a17-checkbox",J),t.component("a17-singlecheckbox",no),t.component("a17-checkboxgroup",ct),t.component("a17-singleselect-permissions",wo),t.component("a17-multiselect",Dr),t.component("a17-singleselect",lo),t.component("a17-select",Kr),t.component("a17-vselect",jo.Z),t.component("a17-locale",qe),t.component("a17-dropdown",qt.Z),t.component("a17-buttonbar",H),t.component("a17-modal",Sr.Z),t.component("a17-dialog",Zt),t.component("a17-datepicker",Rt),t.component("a17-filefield",fe),t.component("a17-colorfield",Pt),t.component("a17-avatar",c.Z),t.component("a17-medialibrary",Pi),t.mixin({methods:{openFreeMediaLibrary:function(){this.$store.commit(y.CV.UPDATE_MEDIA_CONNECTOR,null),this.$store.commit(y.CV.RESET_MEDIA_TYPE),this.$store.commit(y.CV.UPDATE_REPLACE_INDEX,-1),this.$store.commit(y.CV.UPDATE_MEDIA_MAX,0),this.$store.commit(y.CV.UPDATE_MEDIA_FILESIZE_MAX,0),this.$store.commit(y.CV.UPDATE_MEDIA_WIDTH_MIN,0),this.$store.commit(y.CV.UPDATE_MEDIA_HEIGHT_MIN,0),this.$store.commit(y.CV.UPDATE_MEDIA_MODE,!1),this.$root.$refs.mediaLibrary&&this.$root.$refs.mediaLibrary.open()}}}),t.config.productionTip=Fs,t.config.devtools=!Fs,t.prototype.$http=r(),window.$trans=t.prototype.$trans=function(t,e){return a()(window["TWILL"].twillLocalization.lang,t,e)},r().defaults.headers.common["X-Requested-With"]="XMLHttpRequest",r().interceptors.response.use((function(t){return t}),(function(t){return(0,Ge.I)("CONTENT",t),Promise.reject(t)})),t.use(u.ZP,{name:"timeago",locale:window["TWILL"].twillLocalization.locale,locales:l()(It.k1,"date-fns")}),t.use(ks),t.use(Bs),t.use(Os)}},Us=$s},6808:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"move_down_notif"}},[t.show?e("div",{class:t.notifClasses,attrs:{role:"alert","aria-live":"polite","aria-atomic":"true"}},[e("div",{staticClass:"notif__inner"},[t.important?t._e():e("button",{staticClass:"notif__close",attrs:{type:"button","data-dismiss":"alert","aria-label":"alertClose"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closeNotif.apply(null,arguments)}}},[e("span",{directives:[{name:"svg",rawName:"v-svg"}],attrs:{symbol:"close_modal"}})]),e("span",{domProps:{innerHTML:t._s(t.message)}})])]):t._e()])},r=[],o=n(4622);function a(t){return c(t)||u(t)||l(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function c(t){if(Array.isArray(t))return d(t)}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var f={name:"A17Notification",props:{variant:{type:String,default:"success"},duration:{type:Number,default:3e3},important:{type:Boolean,default:!0},autoHide:{type:Boolean,default:!0}},data:function(){return{closed:!1,timer:null,css:"notif"}},computed:{message:function(){return this.$store.getters.notifByVariant(this.variant)},variantClass:function(){return"notif--".concat(this.variant)},notifClasses:function(){return this.css&&Array.isArray(this.css)?[].concat(a(this.css),[this.variantClass]):["notif",this.variantClass]},show:function(){return!this.closed&&!!this.message}},methods:{closeNotif:function(){this.closed=!0,this.clearNotification(),this.timer&&(clearTimeout(this.timer),this.timer=null)},clearNotification:function(){this.$store.commit(o.qq.CLEAR_NOTIF,this.variant)},autoClose:function(){var t=this;null===this.timer&&(this.timer=setTimeout((function(){t.closeNotif()}),this.duration))}},watch:{message:function(){this.message&&(this.closed=!1,this.autoHide&&this.autoClose())}}},p=f,h=n(1001),m=(0,h.Z)(p,i,r,!1,null,null,null),b=m.exports,y={install:function(t,e){t.mixin({methods:{notif:function(t){this.$store.commit(o.qq.SET_NOTIF,t)}}}),t.component("a17-notif",b)}},v=y},3145:function(t,e,n){"use strict";var i="moveBlockToEditor",r="duplicateBlock",o="duplicateRepeater",a="getBucketsData",s="saveBuckets",l="getDatatableDatas",u="setDatatableNestedDatas",c="setDatatableDatas",d="togglePublishedData",f="deleteData",p="duplicateData",h="restoreData",m="destroyData",b="toggleFeaturedData",y="bulkPublishData",v="bulkFeatureData",g="bulkExportData",_="bulkDeleteData",w="bulkRestoreData",O="bulkDestroyData",E="replaceFormData",S="saveFormData",k="updateFormInListing",T="createFormInModal",P="getAllPreviews",C="getPreview",x="getRevisionContent",A="getCurrentContent",D="handleErrors";e["ZP"]={HANDLE_ERRORS:D,GET_BUCKETS:a,SAVE_BUCKETS:s,GET_DATATABLE:l,SET_DATATABLE_NESTED:u,SET_DATATABLE:c,TOGGLE_PUBLISH:d,DELETE_ROW:f,DUPLICATE_ROW:p,RESTORE_ROW:h,DESTROY_ROW:m,TOGGLE_FEATURE:b,BULK_PUBLISH:y,BULK_FEATURE:v,BULK_EXPORT:g,BULK_DELETE:_,BULK_RESTORE:w,BULK_DESTROY:O,REPLACE_FORM:E,SAVE_FORM:S,UPDATE_FORM_IN_LISTING:k,CREATE_FORM_IN_MODAL:T,GET_ALL_PREVIEWS:P,GET_PREVIEW:C,GET_REVISION:x,GET_CURRENT:A,MOVE_BLOCK_TO_EDITOR:i,DUPLICATE_BLOCK:r,DUPLICATE_REPEATER:o}},3511:function(t,e,n){"use strict";n.d(e,{Z:function(){return $}});var i,r=n(538),o=n(629),a=n(361),s=n.n(a),l=n(3145),u=n(4622);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(A){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new P(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=u;var p={};function h(){}function m(){}function b(){}var y={};l(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==e&&n.call(g,o)&&(y=g);var _=b.prototype=h.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var l=f(t[i],t,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return x()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=f(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function S(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=f(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},w(O.prototype),l(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new O(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(_),l(_,s,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function f(t){return b(t)||m(t)||h(t)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){if(t){if("string"===typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function m(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function b(t){if(Array.isArray(t))return y(t)}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,r)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){_(o,i,r,a,s,"next",t)}function s(t){_(o,i,r,a,s,"throw",t)}a(void 0)}))}}function O(t,e,n){return e=E(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t){var e=S(t,"string");return"symbol"===c(e)?e:String(e)}function S(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var k,T={crops:window["TWILL"].STORE.medias.crops||{},showFileName:window["TWILL"].STORE.medias.showFileName||!1,types:window["TWILL"].STORE.medias.types||[],type:"image",connector:null,max:0,filesizeMax:0,widthMin:0,heightMin:0,strict:!0,selected:window["TWILL"].STORE.medias.selected||{},config:window["TWILL"].STORE.medias.config||{useWysiwyg:!1,wysiwygOptions:{}},loading:[],uploadProgress:0,indexToReplace:-1},P={mediasByBlockId:function(t){return function(e){var n=Object.keys(t.selected).filter((function(t){return t.startsWith("blocks[".concat(e,"]"))})),i={};return n.forEach((function(e){return i[e]=t.selected[e]})),i}}},C=(i={},O(i,u.CV.UPDATE_MEDIA_TYPE_TOTAL,(function(t,e){t.types=t.types.map((function(t){return t.value===e.type&&(t.total=e.total),t}))})),O(i,u.CV.UPDATE_REPLACE_INDEX,(function(t,e){t.indexToReplace=e})),O(i,u.CV.INCREMENT_MEDIA_TYPE_TOTAL,(function(t,e){t.types=t.types.map((function(t){return t.value===e&&(t.total=t.total+1),t}))})),O(i,u.CV.DECREMENT_MEDIA_TYPE_TOTAL,(function(t,e){t.types=t.types.map((function(t){return t.value===e&&(t.total=t.total-1),t}))})),O(i,u.CV.UPDATE_MEDIAS,(function(t,e){var n=e.mediaRole,i=e.index,o=e.media;r.ZP.set(t.selected[n],i,o)})),O(i,u.CV.SAVE_MEDIAS,(function(t,e){if(t.connector){var n=t.connector,i=t.selected[n]&&t.selected[n].length;if(i&&t.indexToReplace>-1)t.selected[n].splice(t.indexToReplace,1,s()(e[0]));else if(i)e.forEach((function(e){t.selected[n].push(s()(e))}));else{var r={};r[n]=e,t.selected=Object.assign({},t.selected,r)}t.indexToReplace=-1}})),O(i,u.CV.DESTROY_SPECIFIC_MEDIA,(function(t,e){t.selected[e.name]&&(t.selected[e.name].splice(e.index,1),0===t.selected[e.name].length&&r.ZP["delete"](t.selected,e.name)),t.connector=null})),O(i,u.CV.DESTROY_MEDIAS,(function(t,e){t.selected[e]&&r.ZP["delete"](t.selected,e),t.connector=null})),O(i,u.CV.REORDER_MEDIAS,(function(t,e){var n={};n[e.name]=e.medias,t.selected=Object.assign({},t.selected,n)})),O(i,u.CV.PROGRESS_UPLOAD_MEDIA,(function(t,e){var n=t.loading.filter((function(t){return t.id===e.id}));n.length?(n[0].error=!1,n[0].progress=e.progress):t.loading.unshift({id:e.id,name:e.name,progress:e.progress,replacementId:e.replacementId,isReplacement:e.isReplacement})})),O(i,u.CV.PROGRESS_UPLOAD,(function(t,e){t.uploadProgress=e})),O(i,u.CV.DONE_UPLOAD_MEDIA,(function(t,e){t.loading.forEach((function(n,i){n.id===e.id&&t.loading.splice(i,1)}))})),O(i,u.CV.ERROR_UPLOAD_MEDIA,(function(t,e){t.loading.forEach((function(n,i){n.id===e.id&&(r.ZP.set(t.loading[i],"progress",0),r.ZP.set(t.loading[i],"error",!0),r.ZP.set(t.loading[i],"errorMessage",e.errorMessage))}))})),O(i,u.CV.UPDATE_MEDIA_CONNECTOR,(function(t,e){t.connector=e&&""!==e?e:null})),O(i,u.CV.UPDATE_MEDIA_MODE,(function(t,e){t.strict=e})),O(i,u.CV.UPDATE_MEDIA_TYPE,(function(t,e){e&&""!==e&&(t.type=e)})),O(i,u.CV.RESET_MEDIA_TYPE,(function(t){t.type=t.types[0].value})),O(i,u.CV.UPDATE_MEDIA_MAX,(function(t,e){t.max=Math.max(0,e)})),O(i,u.CV.UPDATE_MEDIA_FILESIZE_MAX,(function(t,e){t.filesizeMax=Math.max(0,e)})),O(i,u.CV.UPDATE_MEDIA_WIDTH_MIN,(function(t,e){t.widthMin=Math.max(0,e)})),O(i,u.CV.UPDATE_MEDIA_HEIGHT_MIN,(function(t,e){t.heightMin=Math.max(0,e)})),O(i,u.CV.SET_MEDIA_METADATAS,(function(t,e){var n=e.media.context,i=t.selected[n],o=e.value;function a(t){return o.locale?(t.metadatas.custom[o.id]||(t.metadatas.custom[o.id]={}),t.metadatas.custom[o.id][o.locale]=o.value):t.metadatas.custom[o.id]=o.value,t}if(e.media.hasOwnProperty("index")){var l=a(s()(i[e.media.index]));r.ZP.set(i,e.media.index,l)}})),O(i,u.CV.DESTROY_MEDIA_CONNECTOR,(function(t){t.connector=null})),O(i,u.CV.SET_MEDIA_CROP,(function(t,e){var n=e.key,i=e.index,o=t.selected[n][i];function a(t){for(var n in t.crops||(t.crops={}),e.values){var i={};i.name=e.values[n].name||n,i.x=e.values[n].x,i.y=e.values[n].y,i.width=e.values[n].width,i.height=e.values[n].height,t.crops[n]=i}return t}var l=a(s()(o));r.ZP.set(t.selected[n],i,l)})),O(i,u.CV.ADD_MEDIAS,(function(t,e){var n=e.medias;t.selected=Object.assign({},t.selected,n)})),i),x=O({},l.ZP.DUPLICATE_BLOCK,(function(t,e){return w(d().mark((function n(){var i,r,o,a,s,l,c;return d().wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=t.commit,r=t.getters,o=e.block,a=e.id,s=g({},r.mediasByBlockId(o.id)),l=Object.keys(s),c={},l.forEach((function(t){return c[t.replace(o.id,a)]=f(s[t])})),i(u.CV.ADD_MEDIAS,{medias:c});case 7:case"end":return n.stop()}}),n)})))()})),A={state:T,getters:P,mutations:C,actions:x};function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function L(t,e,n){return e=I(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t){var e=M(t,"string");return"symbol"===D(e)?e:String(e)}function M(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==D(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var j={success:null,info:null,warning:null,error:null},N={notifByVariant:function(t){return function(e){return t[e]}},notified:function(t){return 0===Object.keys(t).filter((function(e){return null!==t[e]})).length}},R=(k={},L(k,u.qq.SET_NOTIF,(function(t,e){t[e.variant]=e.message})),L(k,u.qq.CLEAR_NOTIF,(function(t,e){t[e]&&(t[e]=null)})),k),B={state:j,getters:N,mutations:R};r.ZP.use(o.ZP);var F=!1,$=new o.ZP.Store({modules:{notification:B,mediaLibrary:A},strict:F})},7224:function(t,e,n){"use strict";var i,r=n(538),o=n(4622);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n){return e=l(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){var e=u(t,"string");return"symbol"===a(e)?e:String(e)}function u(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var c={options:{}},d={optionsByName:function(t){return function(e){return t.options[e]||[]}}},f=(i={},s(i,o.N0.EMPTY_OPTIONS,(function(t,e){t.options[e]&&r.ZP["delete"](t.options,e)})),s(i,o.N0.UPDATE_OPTIONS,(function(t,e){var n=e.name,i=e.options,o=[];t.options[n]&&(o=t.options[n],r.ZP["delete"](t.options,n)),Array.isArray(i)&&i.forEach((function(t){var e=o.findIndex((function(e){return e.value===t.value}));-1===e&&o.push(t)})),r.ZP.set(t.options,n,o)})),i),p={};e["Z"]={state:c,getters:d,mutations:f,actions:p}},2374:function(t,e,n){"use strict";var i,r=n(538),o=n(3145),a=n(4622);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(A){c=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),s=new P(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=d;var p={};function h(){}function m(){}function b(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==e&&n.call(g,o)&&(y=g);var _=b.prototype=h.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,l){var u=f(t[i],t,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==s(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,l)}),(function(t){r("throw",t,a,l)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,l)}))}l(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return x()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=f(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function S(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=f(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},w(O.prototype),c(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new O(d(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(_),c(_,u,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function u(t){return p(t)||f(t)||d(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function f(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function p(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,r)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){y(o,i,r,a,s,"next",t)}function s(t){y(o,i,r,a,s,"throw",t)}a(void 0)}))}}function g(t,e,n){return e=_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=w(t,"string");return"symbol"===s(e)?e:String(e)}function w(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var O={connector:null,title:"Attach related resources",note:"",endpoint:"",endpointName:"",endpoints:[],max:0,selected:window["TWILL"].STORE.browser.selected||{}},E={selectedItemsByIds:function(t){var e=[];for(var n in t.selected)e[n]=t.selected[n].map((function(t){return"".concat(t.endpointType,"_").concat(t.id)}));return e},browsersByBlockId:function(t){return function(e){var n=Object.keys(t.selected).filter((function(t){return t.startsWith("blocks[".concat(e,"]"))})),i={};return n.forEach((function(e){return i[e]=t.selected[e]})),i}}},S=(i={},g(i,a.Uv.SAVE_ITEMS,(function(t,e){if(t.connector)if(t.selected[t.connector]&&t.selected[t.connector].length)t.selected[t.connector]=e;else{var n={};n[t.connector]=e,t.selected=Object.assign({},t.selected,n)}})),g(i,a.Uv.DESTROY_ITEMS,(function(t,e){t.selected[e.name]&&r.ZP["delete"](t.selected,e.name)})),g(i,a.Uv.DESTROY_ITEM,(function(t,e){t.selected[e.name]&&(t.selected[e.name].splice(e.index,1),0===t.selected[e.name].length&&r.ZP["delete"](t.selected,e.name),t.connector=null)})),g(i,a.Uv.REORDER_ITEMS,(function(t,e){var n={};n[e.name]=e.items,t.selected=Object.assign({},t.selected,n)})),g(i,a.Uv.UPDATE_BROWSER_MAX,(function(t,e){t.max=Math.max(0,e)})),g(i,a.Uv.UPDATE_BROWSER_CONNECTOR,(function(t,e){e&&""!==e&&(t.connector=e)})),g(i,a.Uv.UPDATE_BROWSER_TITLE,(function(t,e){e&&""!==e&&(t.title=e)})),g(i,a.Uv.UPDATE_BROWSER_NOTE,(function(t,e){t.note=e})),g(i,a.Uv.DESTROY_BROWSER_CONNECTOR,(function(t){t.connector=null})),g(i,a.Uv.UPDATE_BROWSER_ENDPOINT,(function(t,e){e&&""!==e&&(t.endpoint=e.value,t.endpointName=e.label||"")})),g(i,a.Uv.DESTROY_BROWSER_ENDPOINT,(function(t){t.endpoint="",t.endpointName=""})),g(i,a.Uv.UPDATE_BROWSER_ENDPOINTS,(function(t,e){!e&&!e.length>0||(t.endpoints=e,t.endpoint=e[0].value,t.endpointName=e[0].label)})),g(i,a.Uv.DESTROY_BROWSER_ENDPOINTS,(function(t){t.endpoints=[]})),g(i,a.Uv.ADD_BROWSERS,(function(t,e){var n=e.browsers;t.selected=Object.assign({},t.selected,n)})),i),k=g({},o.ZP.DUPLICATE_BLOCK,(function(t,e){return v(l().mark((function n(){var i,r,o,s,c,d,f;return l().wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=t.commit,r=t.getters,o=e.block,s=e.id,c=b({},r.browsersByBlockId(o.id)),d=Object.keys(c),f={},d.forEach((function(t){return f[t.replace(o.id,s)]=u(c[t])})),i(a.Uv.ADD_BROWSERS,{browsers:f});case 7:case"end":return n.stop()}}),n)})))()}));e["Z"]={state:O,getters:E,mutations:S,actions:k}},366:function(t,e,n){"use strict";n.d(e,{Z:function(){return S}});var i,r,o=n(3145),a=n(1607),s=n(9669),l=n.n(s),u=n(3827),c=n(3835),d="DATATABLE",f={get:function(t,e){l().get(window["TWILL"].CMS_URLS.index,{params:t}).then((function(t){if(t.data.replaceUrl){var n=t.request.responseURL;(0,c.lO)(n)}if(e&&"function"===typeof e){var i={data:t.data.tableData?t.data.tableData:[],nav:t.data.tableMainFilters?t.data.tableMainFilters:[],maxPage:t.data.maxPage?t.data.maxPage:1};e(i)}}),(function(t){var e={message:"Get request error.",value:t};(0,u.I)(d,e)}))},togglePublished:function(t,e,n){l().put(window["TWILL"].CMS_URLS.publish,{id:t.id,active:t.published}).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Publish request error.",value:t};(0,u.I)(d,e),n&&"function"===typeof n&&n(t.response)}))},toggleFeatured:function(t,e){l().put(window["TWILL"].CMS_URLS.feature,{id:t.id,active:t.featured}).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Feature request error.",value:t};(0,u.I)(d,e)}))},delete:function(t,e){l()["delete"](t.delete).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Delete request error.",value:t};(0,u.I)(d,e)}))},restore:function(t,e){l().put(window["TWILL"].CMS_URLS.restore,{id:t.id}).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Restore request error.",value:t};(0,u.I)(d,e)}))},destroy:function(t,e){l().put(window["TWILL"].CMS_URLS.forceDelete,{id:t.id}).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Destroy request error.",value:t};(0,u.I)(d,e)}))},duplicate:function(t,e){l().put(t.duplicate).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Duplicate request error.",value:t};(0,u.I)(d,e)}))},reorder:function(t,e){l().post(window["TWILL"].CMS_URLS.reorder,{ids:t}).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Reorder request error.",value:t};(0,u.I)(d,e)}))},bulkPublish:function(t,e){l().post(window["TWILL"].CMS_URLS.bulkPublish,{ids:t.ids,publish:t.toPublish}).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Bulk publish request error.",value:t};(0,u.I)(d,e)}))},bulkFeature:function(t,e){l().post(window["TWILL"].CMS_URLS.bulkFeature,{ids:t.ids,feature:t.toFeature}).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Bulk feature request error.",value:t};(0,u.I)(d,e)}))},bulkDelete:function(t,e){l().post(window["TWILL"].CMS_URLS.bulkDelete,{ids:t}).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Bulk delete request error.",value:t};(0,u.I)(d,e)}))},bulkRestore:function(t,e){l().post(window["TWILL"].CMS_URLS.bulkRestore,{ids:t}).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Bulk restore request error.",value:t};(0,u.I)(d,e)}))},bulkDestroy:function(t,e){l().post(window["TWILL"].CMS_URLS.bulkForceDelete,{ids:t}).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Bulk destroy request error.",value:t};(0,u.I)(d,e)}))}},p=n(4622);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function m(t,e,n){return e=b(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t){var e=y(t,"string");return"symbol"===h(e)?e:String(e)}function y(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==h(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var v=function t(e,n,i){e.forEach((function(e){e.id===n&&i(e),e.children&&t(e.children,n,i)}))},g=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id","children"],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=JSON.parse(JSON.stringify(e));return r.forEach((function(e){for(var r in e)n.includes(r)||delete e[r],r===i&&(e[r]=t(e[r]))})),r},_={baseUrl:window["TWILL"].STORE.datatable.baseUrl||"",data:window["TWILL"].STORE.datatable.data||[],columns:window["TWILL"].STORE.datatable.columns||[],filter:window["TWILL"].STORE.datatable.filter||{},filtersNav:window["TWILL"].STORE.datatable.navigation||[],page:Number(window["TWILL"].STORE.datatable.page||1),maxPage:Number(window["TWILL"].STORE.datatable.maxPage||1),defaultMaxPage:Number(window["TWILL"].STORE.datatable.defaultMaxPage||1),offset:Number(window["TWILL"].STORE.datatable.offset||60),defaultOffset:Number(window["TWILL"].STORE.datatable.defaultOffset||60),sortKey:window["TWILL"].STORE.datatable.sortKey||"",sortDir:window["TWILL"].STORE.datatable.sortDir||"asc",bulk:[],localStorageKey:window["TWILL"].STORE.datatable.localStorageKey||window.location.pathname,loading:!1,updateTracker:0},w={dataIds:function(t){return t.data.map((function(t){return t.id}))},hideableColumns:function(t){return t.columns.filter((function(t){return t.optional}))},visibleColumns:function(t){return t.columns.filter((function(t){return t.visible}))},visibleColumnsNames:function(t){var e=[];return t.columns.length&&t.columns.forEach((function(t){t.visible&&e.push(t.name)})),e}},O=(i={},m(i,p.yY.UPDATE_DATATABLE_DATA,(function(t,e){t.bulk=[],t.data=e})),m(i,p.yY.UPDATE_DATATABLE_BULK,(function(t,e){t.bulk.indexOf(e)>-1?t.bulk=t.bulk.filter((function(t){return t!==e})):t.bulk.push(e)})),m(i,p.yY.REPLACE_DATATABLE_BULK,(function(t,e){t.bulk=e})),m(i,p.yY.ADD_DATATABLE_COLUMN,(function(t,e){t.columns.splice(e.index,0,e.data)})),m(i,p.yY.REMOVE_DATATABLE_COLUMN,(function(t,e){t.columns.forEach((function(n,i){n.name===e&&t.columns.splice(i,1)}))})),m(i,p.yY.UPDATE_DATATABLE_FILTER,(function(t,e){t.filter=Object.assign({},t.filter,e)})),m(i,p.yY.CLEAR_DATATABLE_FILTER,(function(t){t.filter=Object.assign({},{search:"",status:t.filter.status})})),m(i,p.yY.UPDATE_DATATABLE_FILTER_STATUS,(function(t,e){t.filter.status=e})),m(i,p.yY.UPDATE_DATATABLE_OFFSET,(function(t,e){t.offset=e,(0,a.po)(t.localStorageKey+"_page-offset",t.offset)})),m(i,p.yY.UPDATE_DATATABLE_PAGE,(function(t,e){t.page=e})),m(i,p.yY.UPDATE_DATATABLE_MAXPAGE,(function(t,e){t.page>e&&(t.page=e),t.maxPage=e})),m(i,p.yY.UPDATE_DATATABLE_VISIBLITY,(function(t,e){(0,a.po)(t.localStorageKey+"_columns-visible",JSON.stringify(e)),t.columns.forEach((function(t){for(var n=0;n<e.length;n++){if(e[n]===t.name){t.visible=!0;break}t.visible=!1}}))})),m(i,p.yY.UPDATE_DATATABLE_SORT,(function(t,e){var n="asc";t.sortKey===e.name?t.sortDir=t.sortDir===n?"desc":n:t.sortDir=n,t.sortKey=e.name})),m(i,p.yY.UPDATE_DATATABLE_NAV,(function(t,e){e.forEach((function(e){t.filtersNav.forEach((function(t){t.name===e.name&&(t.number=e.number)}))}))})),m(i,p.yY.PUBLISH_DATATABLE,(function(t,e){var n=e.id,i=e.value;function r(e){e>=0&&(t.data[e].published="toggle"===i?!t.data[e].published:i)}function o(e){return t.data.findIndex((function(t,n){return t.id===e}))}if(Array.isArray(n))n.forEach((function(t){var e=o(t);r(e)})),t.bulk=[];else{var a=o(n);r(a)}})),m(i,p.yY.FEATURE_DATATABLE,(function(t,e){var n=e.id,i=e.value;function r(e){e>=0&&(t.data[e].featured="toggle"===i?!t.data[e].featured:i)}function o(e){return t.data.findIndex((function(t,n){return t.id===e}))}if(Array.isArray(n))n.forEach((function(t){var e=o(t);r(e)})),t.bulk=[];else{var a=o(n);r(a)}})),m(i,p.yY.UPDATE_DATATABLE_LOADING,(function(t,e){t.loading=!t.loading})),m(i,p.yY.UPDATE_DATATABLE_NESTED,(function(t,e){v(t.data,e.parentId,(function(t){t.children=e.val}))})),m(i,p.yY.UPDATE_DATATABLE_TRACKER,(function(t,e){t.updateTracker=e?t.updateTracker+1:0})),i),E=(r={},m(r,o.ZP.GET_DATATABLE,(function(t){var e=t.commit,n=t.state,i=t.getters;if(!n.loading){e(p.yY.UPDATE_DATATABLE_LOADING,!0);var r={sortKey:n.sortKey,sortDir:n.sortDir,page:n.page,offset:n.offset,columns:i.visibleColumnsNames,filter:n.filter};f.get(r,(function(t){e(p.yY.UPDATE_DATATABLE_DATA,t.data),e(p.yY.UPDATE_DATATABLE_MAXPAGE,t.maxPage),e(p.yY.UPDATE_DATATABLE_NAV,t.nav),e(p.yY.UPDATE_DATATABLE_LOADING,!1)}))}})),m(r,o.ZP.SET_DATATABLE_NESTED,(function(t){var e=t.commit,n=t.state,i=(t.dispatch,g(n.data));f.reorder(i,(function(t){e(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant})}))})),m(r,o.ZP.SET_DATATABLE,(function(t){var e=t.commit,n=t.state,i=(t.dispatch,n.data.map((function(t){return t.id})));f.reorder(i,(function(t){e(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant})}))})),m(r,o.ZP.TOGGLE_PUBLISH,(function(t,e){var n=t.commit,i=(t.state,t.dispatch);f.togglePublished(e,(function(t){n(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant}),i(o.ZP.GET_DATATABLE)}),(function(t){n(p.qq.SET_NOTIF,{message:t.data.error.message,variant:"error"})}))})),m(r,o.ZP.DELETE_ROW,(function(t,e){var n=t.commit,i=(t.state,t.dispatch);f["delete"](e,(function(t){n(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant}),i(o.ZP.GET_DATATABLE)}))})),m(r,o.ZP.DUPLICATE_ROW,(function(t,e){var n=t.commit;t.state,t.dispatch;f.duplicate(e,(function(t){n(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant}),t.data.hasOwnProperty("redirect")&&window.location.replace(t.data.redirect)}))})),m(r,o.ZP.RESTORE_ROW,(function(t,e){var n=t.commit,i=(t.state,t.dispatch);f.restore(e,(function(t){n(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant}),i(o.ZP.GET_DATATABLE)}))})),m(r,o.ZP.DESTROY_ROW,(function(t,e){var n=t.commit,i=(t.state,t.dispatch);f.destroy(e,(function(t){n(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant}),i(o.ZP.GET_DATATABLE)}))})),m(r,o.ZP.BULK_PUBLISH,(function(t,e){var n=t.commit,i=t.state,r=t.dispatch;f.bulkPublish({ids:i.bulk.join(),toPublish:e.toPublish},(function(t){n(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant}),r(o.ZP.GET_DATATABLE)}))})),m(r,o.ZP.TOGGLE_FEATURE,(function(t,e){var n=t.commit;t.state;f.toggleFeatured(e,(function(t){n(p.yY.FEATURE_DATATABLE,{id:e.id,value:"toggle"}),n(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant})}))})),m(r,o.ZP.BULK_FEATURE,(function(t,e){var n=t.commit,i=t.state;f.bulkFeature({ids:i.bulk.join(),toFeature:e.toFeature},(function(t){n(p.yY.FEATURE_DATATABLE,{id:i.bulk,value:!0}),n(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant})}))})),m(r,o.ZP.BULK_DELETE,(function(t){var e=t.commit,n=t.state,i=t.dispatch;f.bulkDelete(n.bulk.join(),(function(t){e(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant}),i(o.ZP.GET_DATATABLE)}))})),m(r,o.ZP.BULK_RESTORE,(function(t){var e=t.commit,n=t.state,i=t.dispatch;f.bulkRestore(n.bulk.join(),(function(t){e(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant}),i(o.ZP.GET_DATATABLE)}))})),m(r,o.ZP.BULK_DESTROY,(function(t){var e=t.commit,n=t.state,i=t.dispatch;f.bulkDestroy(n.bulk.join(),(function(t){e(p.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant}),i(o.ZP.GET_DATATABLE)}))})),r),S={state:_,getters:w,actions:E,mutations:O}},890:function(t,e,n){"use strict";n.d(e,{Z:function(){return I}});var i,r,o=n(361),a=n.n(o),s=n(3145),l=n(9065),u=n(9669),c=n.n(u),d=n(3827),f="FORM",p={get:function(t,e,n){c().get(t).then((function(t){e&&"function"===typeof e&&e(t)}),(function(t){var e={message:"Get request error.",value:t};(0,d.I)(f,e),n&&"function"===typeof n&&n(t)}))},post:function(t,e,n,i){c().post(t,e).then((function(t){n&&"function"===typeof n&&n(t)}),(function(t){var e={message:"Post request error.",value:t};(0,d.I)(f,e),i&&"function"===typeof i&&i(t)}))},put:function(t,e,n,i){c().put(t,e).then((function(t){n&&"function"===typeof n&&n(t)}),(function(t){var e={message:"Save request error.",value:t};(0,d.I)(f,e),i&&"function"===typeof i&&i(t)}))}},h=n(4622);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */b=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(A){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new P(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=u;var d={};function f(){}function p(){}function h(){}var y={};l(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==e&&n.call(g,o)&&(y=g);var _=h.prototype=f.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var l=c(t[i],t,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==m(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return x()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function S(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=c(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=h,i(_,"constructor",{value:h,configurable:!0}),i(h,"constructor",{value:p,configurable:!0}),p.displayName=l(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},w(O.prototype),l(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new O(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(_),l(_,s,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function y(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,r)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){y(o,i,r,a,s,"next",t)}function s(t){y(o,i,r,a,s,"throw",t)}a(void 0)}))}}function g(t,e,n){return e=_(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=w(t,"string");return"symbol"===m(e)?e:String(e)}function w(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function O(t){return T(t)||k(t)||S(t)||E()}function E(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(t,e){if(t){if("string"===typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(t,e):void 0}}function k(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function T(t){if(Array.isArray(t))return P(t)}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var C=function(t,e){return t.findIndex((function(t){return t.name===e.name}))},x={loading:!1,type:"save",baseUrl:window["TWILL"].STORE.form.baseUrl||"",fields:window["TWILL"].STORE.form.fields||[],modalFields:[],saveUrl:window["TWILL"].STORE.form.saveUrl||"",previewUrl:window["TWILL"].STORE.form.previewUrl||"",restoreUrl:window["TWILL"].STORE.form.restoreUrl||"",blockPreviewUrl:window["TWILL"].STORE.form.blockPreviewUrl||"",errors:{},isCustom:window["TWILL"].STORE.form.isCustom||!1,reloadOnSuccess:window["TWILL"].STORE.form.reloadOnSuccess||!1,isSubmitPrevented:!1},A={fieldsByName:function(t){return function(e){return t.fields.filter((function(t){return t.name===e}))}},fieldValueByName:function(t,e){return function(t){return e.fieldsByName(t).length?e.fieldsByName(t)[0].value:""}},modalFieldsByName:function(t){return function(e){return t.modalFields.filter((function(t){return t.name===e}))}},modalFieldValueByName:function(t,e){return function(t){return e.modalFieldsByName(t).length?e.modalFieldsByName(t)[0].value:""}},fieldsByBlockId:function(t){return function(e){return t.fields.filter((function(t){return t.name.startsWith("blocks[".concat(e,"]"))}))}}},D=(i={},g(i,h.Yc.UPDATE_FORM_PERMALINK,(function(t,e){e&&""!==e&&(t.permalink=e)})),g(i,h.Yc.PREVENT_SUBMIT,(function(t){t.isSubmitPrevented=!0})),g(i,h.Yc.ALLOW_SUBMIT,(function(t){t.isSubmitPrevented=!1})),g(i,h.Yc.EMPTY_FORM_FIELDS,(function(t,e){t.fields=[]})),g(i,h.Yc.ADD_FORM_FIELDS,(function(t,e){t.fields=[].concat(O(t.fields),O(e))})),g(i,h.Yc.REPLACE_FORM_FIELDS,(function(t,e){t.fields=e})),g(i,h.Yc.UPDATE_FORM_FIELD,(function(t,e){var n=e.locale?{}:null,i=C(t.fields,e);-1!==i&&(e.locale&&(n=t.fields[i].value||{}),t.fields.splice(i,1)),e.locale?n[e.locale]=e.value:n=e.value,t.fields.push({name:e.name,value:n})})),g(i,h.Yc.REMOVE_FORM_FIELD,(function(t,e){t.fields.forEach((function(n,i){n.name===e&&t.fields.splice(i,1)}))})),g(i,h.Yc.DUPLICATE_BLOCK_FORM_FIELDS,(function(t,e){var n=e.fields,i=e.oldId,r=e.newId,o=[];n.forEach((function(t){o.push({name:t.name.replace(i,r),value:a()(t.value)})})),t.fields=[].concat(O(t.fields),o)})),g(i,h.Yc.EMPTY_MODAL_FIELDS,(function(t,e){t.modalFields=[]})),g(i,h.Yc.REPLACE_MODAL_FIELDS,(function(t,e){t.modalFields=e})),g(i,h.Yc.UPDATE_MODAL_FIELD,(function(t,e){var n=e.locale?{}:null,i=C(t.modalFields,e);-1!==i&&(e.locale&&(n=t.modalFields[i].value),t.modalFields.splice(i,1)),e.locale?n[e.locale]=e.value:n=e.value,t.modalFields.push({name:e.name,value:n})})),g(i,h.Yc.REMOVE_MODAL_FIELD,(function(t,e){t.modalFields.forEach((function(n,i){n.name===e&&t.modalFields.splice(i,1)}))})),g(i,h.Yc.UPDATE_FORM_LOADING,(function(t,e){t.loading=e||!t.loading})),g(i,h.Yc.SET_FORM_ERRORS,(function(t,e){t.errors=e})),g(i,h.Yc.CLEAR_FORM_ERRORS,(function(t){t.errors=[]})),g(i,h.Yc.UPDATE_FORM_SAVE_TYPE,(function(t,e){t.type=e})),i),L=(r={},g(r,s.ZP.HANDLE_ERRORS,(function(t,e){var n=t.commit,i=(t.state,t.getters,t.rootState),r=i.repeaters.repeaters;Object.keys(e).forEach((function(t){var n=t.split(".");if(n.length>=4){var i=n[0],o=n[1],a=n[2],s=n[3];if("repeaters"===i){var l=r[o][a].id,u="blocks[".concat(l,"][").concat(s,"]");e[u]=e[t]}}})),n(h.Yc.SET_FORM_ERRORS,e)})),g(r,s.ZP.REPLACE_FORM,(function(t,e){var n=t.commit,i=(t.state,t.getters,t.rootState,t.dispatch);return new Promise((function(t,r){n(h.Yc.CLEAR_FORM_ERRORS),n(h.qq.CLEAR_NOTIF,"error"),p.get(e,(function(e){n(h.Yc.UPDATE_FORM_LOADING,!1);var i=e.data;i.hasOwnProperty("languages")&&(n(h.ad.REPLACE_LANGUAGES,i.languages),delete i.languages),i.hasOwnProperty("revisions")&&(n(h.UZ.UPDATE_REV_ALL,i.revisions),delete i.revisions),n(h.Yc.REPLACE_FORM_FIELDS,i.fields),t()}),(function(t){n(h.Yc.UPDATE_FORM_LOADING,!1),i(s.ZP.HANDLE_ERRORS,t.response.data),r(t)}))}))})),g(r,s.ZP.UPDATE_FORM_IN_LISTING,(function(t,e){var n=t.commit,i=(t.state,t.getters,t.rootState);return new Promise((function(t,r){n(h.Yc.CLEAR_FORM_ERRORS),n(h.qq.CLEAR_NOTIF,"error");var o=Object.assign((0,l.s4)(i),{languages:i.language.all});p[e.method](e.endpoint,o,(function(i){n(h.Yc.UPDATE_FORM_LOADING,!1),i.data.hasOwnProperty("redirect")&&e.redirect&&window.location.replace(i.data.redirect),n(h.qq.SET_NOTIF,{message:i.data.message,variant:i.data.variant}),t()}),(function(t){n(h.Yc.UPDATE_FORM_LOADING,!1),n(h.Yc.SET_FORM_ERRORS,t.response.data),n(h.qq.SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"}),r(t)}))}))})),g(r,s.ZP.CREATE_FORM_IN_MODAL,(function(t,e){var n=t.commit,i=(t.state,t.getters,t.rootState);return new Promise((function(t,r){n(h.Yc.CLEAR_FORM_ERRORS),n(h.qq.CLEAR_NOTIF,"error");var o=Object.assign((0,l.b6)(i),{languages:i.language.all});p[e.method](e.endpoint,o,(function(i){n(h.Yc.UPDATE_FORM_LOADING,!1),n(h.N0.UPDATE_OPTIONS,{name:e.name,options:i.data}),t()}),(function(t){n(h.Yc.UPDATE_FORM_LOADING,!1),n(h.Yc.SET_FORM_ERRORS,t.response.data),n(h.qq.SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"}),r(t)}))}))})),g(r,s.ZP.SAVE_FORM,(function(t,e){var n=t.commit,i=t.state,r=(t.getters,t.rootState),o=t.dispatch;n(h.Yc.CLEAR_FORM_ERRORS),n(h.qq.CLEAR_NOTIF,"error"),n(h.Yc.UPDATE_FORM_SAVE_TYPE,e);var a=(0,l.zi)(r),u=r.publication.createWithoutModal?"post":"put";p[u](i.saveUrl,a,(function(t){n(h.Yc.UPDATE_FORM_LOADING,!1),t.data.hasOwnProperty("redirect")&&window.location.replace(t.data.redirect),i.reloadOnSuccess&&window.location.reload(),n(h.qq.SET_NOTIF,{message:t.data.message,variant:t.data.variant}),n(h.V1.UPDATE_PUBLISH_SUBMIT),t.data.hasOwnProperty("revisions")&&n(h.UZ.UPDATE_REV_ALL,t.data.revisions)}),(function(t){n(h.Yc.UPDATE_FORM_LOADING,!1),t.response.data.hasOwnProperty("exception")?n(h.qq.SET_NOTIF,{message:"Your submission could not be processed.",variant:"error"}):(o(s.ZP.HANDLE_ERRORS,t.response.data),n(h.qq.SET_NOTIF,{message:"Your submission could not be validated, please fix and retry",variant:"error"}))}))})),g(r,s.ZP.DUPLICATE_BLOCK,(function(t,e){return v(b().mark((function n(){var i,r,o,a,s;return b().wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=t.commit,r=t.getters,o=e.block,a=e.id,s=r.fieldsByBlockId(o.id),i(h.Yc.DUPLICATE_BLOCK_FORM_FIELDS,{fields:s,oldId:o.id,newId:a});case 4:case"end":return n.stop()}}),n)})))()})),r),I={state:x,getters:A,mutations:D,actions:L}},6625:function(t,e,n){"use strict";var i,r=n(4622);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e,n){return e=s(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e=l(t,"string");return"symbol"===o(e)?e:String(e)}function l(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var u={all:window["TWILL"].STORE.languages.all||[],initialAll:window["TWILL"].STORE.languages.all||[],active:window["TWILL"].STORE.languages.active||window["TWILL"].STORE.languages.all[0]||{}},c={publishedLanguages:function(t){return t.all.filter((function(t){return t.published}))}},d=(i={},a(i,r.ad.SWITCH_LANG,(function(t,e){var n=e.oldValue;function i(t){return t.value===n.value}var r=t.all.findIndex(i),o=r<t.all.length-1?r+1:0;t.active=t.all[o]})),a(i,r.ad.UPDATE_LANG,(function(t,e){function n(t){return t.value===e}var i=t.all.findIndex(n);t.active=t.all[i]})),a(i,r.ad.PUBLISH_LANG,(function(t,e){t.all.forEach((function(t){t.published=!!e.includes(t.value)}))})),a(i,r.ad.PUBLISH_SINGLE_LANG,(function(t,e){function n(t){return t.value===e}var i=t.all.findIndex(n);t.all[i].published=!t.all[i].published})),a(i,r.ad.REPLACE_LANGUAGES,(function(t,e){t.all=e})),a(i,r.ad.RESET_LANGUAGES,(function(t){t.all=t.initialAll})),i);e["Z"]={state:u,getters:c,mutations:d}},7763:function(t,e,n){"use strict";n.d(e,{Dh:function(){return r},Ex:function(){return a},NM:function(){return i},uO:function(){return o}});var i="saveSelectedItems",r="destroyAllItems",o="destroySelectedItem",a="reorderSelectedItems",s="updateBrowserMax",l="updateBrowserTitle",u="updateBrowserNote",c="updateBrowserConnector",d="destroyBrowserConnector",f="updateBrowserEndpoint",p="updateBrowserEndpoints",h="destroyBrowserEndpoint",m="destroyBrowserEndpoints",b="addBrowsers";e["ZP"]={SAVE_ITEMS:i,DESTROY_ITEMS:r,DESTROY_ITEM:o,REORDER_ITEMS:a,UPDATE_BROWSER_MAX:s,UPDATE_BROWSER_TITLE:l,UPDATE_BROWSER_NOTE:u,UPDATE_BROWSER_CONNECTOR:c,DESTROY_BROWSER_CONNECTOR:d,UPDATE_BROWSER_ENDPOINT:f,DESTROY_BROWSER_ENDPOINT:h,UPDATE_BROWSER_ENDPOINTS:p,DESTROY_BROWSER_ENDPOINTS:m,ADD_BROWSERS:b}},9628:function(t,e,n){"use strict";n.d(e,{Fz:function(){return l},I4:function(){return E},Vi:function(){return c},Z2:function(){return p},nX:function(){return u},o$:function(){return o},wQ:function(){return s},yS:function(){return a}});var i="preventSubmit",r="allowSubmit",o="updateFormPermalink",a="updateFormField",s="removeFormField",l="addFormBlock",u="deleteFormBlock",c="duplicateFormBlock",d="duplicateBlockFormFields",f="duplicateBlockRepeaters",p="reorderFormBlocks",h="updateFormLoading",m="setFormErrors",b="clearFormErrors",y="updateFormSaveType",v="replaceFormField",g="addFormField",_="emptyFormField",w="addRepeaterFromSelection",O="emptyModalField",E="updateModalField",S="removeModalField",k="replaceModalField";e["ZP"]={PREVENT_SUBMIT:i,ALLOW_SUBMIT:r,UPDATE_FORM_PERMALINK:o,UPDATE_FORM_FIELD:a,REMOVE_FORM_FIELD:s,ADD_FORM_BLOCK:l,DELETE_FORM_BLOCK:u,DUPLICATE_FORM_BLOCK:c,DUPLICATE_BLOCK_FORM_FIELDS:d,ADD_REPEATERS:f,REORDER_FORM_BLOCKS:p,UPDATE_FORM_LOADING:h,SET_FORM_ERRORS:m,CLEAR_FORM_ERRORS:b,UPDATE_FORM_SAVE_TYPE:y,REPLACE_FORM_FIELDS:v,ADD_FORM_FIELDS:g,EMPTY_FORM_FIELDS:_,EMPTY_MODAL_FIELDS:O,UPDATE_MODAL_FIELD:E,REMOVE_MODAL_FIELD:S,REPLACE_MODAL_FIELDS:k,ADD_REPEATER_FROM_SELECTION:w}},4622:function(t,e,n){"use strict";n.d(e,{N0:function(){return _t},RG:function(){return m},Uv:function(){return a.ZP},DK:function(){return I},yY:function(){return mt},Yc:function(){return o.ZP},ad:function(){return b.ZP},CV:function(){return i.ZP},DF:function(){return O},qq:function(){return r.ZP},Lp:function(){return yt},c6:function(){return g},V1:function(){return z},UZ:function(){return F}});var i=n(9193),r=n(484),o=n(9628),a=n(7763),s="addBlock",l="moveBlock",u="deleteBlock",c="duplicateBlock",d="reorderBlocks",f="activateBlock",p="addBlockPreview",h="updateBlockPreviewLoading",m={ADD_BLOCK:s,MOVE_BLOCK:l,DELETE_BLOCK:u,DUPLICATE_BLOCK:c,REORDER_BLOCKS:d,ACTIVATE_BLOCK:f,ADD_BLOCK_PREVIEW:p,UPDATE_PREVIEW_LOADING:h},b=n(4576),y=[o.yS,o.wQ,o.Fz,o.nX,o.Vi,o.Z2,b.sR,i.B5,i.tB,i.oY,i.lU,i.Lo,i.A5,a.NM,a.Dh,a.uO,a.Ex],v=[b.sR],g={REFRESH_BLOCK_PREVIEW:y,REFRESH_BLOCK_PREVIEW_ALL:v},_="updateModalAction",w="updateModalMode",O={UPDATE_MODAL_ACTION:_,UPDATE_MODAL_MODE:w},E="addToBucket",S="deleteFromBucket",k="toggleFeaturedInBucket",T="reorderBucketList",P="updateBucketsDataSource",C="updateBucketsData",x="updateBucketsFilter",A="updateBucketsDataOffset",D="updateBucketsDataPage",L="updateBucketsMaxPage",I={ADD_TO_BUCKET:E,DELETE_FROM_BUCKET:S,TOGGLE_FEATURED_IN_BUCKET:k,REORDER_BUCKET_LIST:T,UPDATE_BUCKETS_DATASOURCE:P,UPDATE_BUCKETS_DATA:C,UPDATE_BUCKETS_FILTER:x,UPDATE_BUCKETS_DATA_OFFSET:A,UPDATE_BUCKETS_DATA_PAGE:D,UPDATE_BUCKETS_MAX_PAGE:L},M="loadingRevision",j="updateRevision",N="updateRevisionContent",R="updatePreviewContent",B="updateAllRevision",F={LOADING_REV:M,UPDATE_REV:j,UPDATE_REV_CONTENT:N,UPDATE_REV_CURRENT_CONTENT:R,UPDATE_REV_ALL:B},$="updatePublishStartDate",U="updatePublishEndDate",V="updatePublishState",Z="updatePublishSubmit",q="updatePublishVisibility",W="updateReviewProcess",H="updateSaveType",Y="updateHasUnsavedChanges",z={UPDATE_PUBLISH_START_DATE:$,UPDATE_PUBLISH_END_DATE:U,UPDATE_PUBLISH_STATE:V,UPDATE_PUBLISH_VISIBILITY:q,UPDATE_REVIEW_PROCESS:W,UPDATE_PUBLISH_SUBMIT:Z,UPDATE_SAVE_TYPE:H,UPDATE_HAS_UNSAVED_CHANGES:Y},K="updateDatableData",G="updateDatableBulk",X="replaceDatableBulk",Q="addDatableColumn",J="removeDatableColumn",tt="updateDatableOffset",et="updateDatablePage",nt="updateDatableMaxPage",it="updateDatableNavigation",rt="updateDatableVisibility",ot="updateDatableSort",at="publishDatatable",st="featureDatatable",lt="updateDatableFilter",ut="updateDatableFilterStatus",ct="clearDatableFilter",dt="updateDatableMessage",ft="updateDatableLoading",pt="updateDatatableNestedDatas",ht="updateDatableTracker",mt={UPDATE_DATATABLE_DATA:K,UPDATE_DATATABLE_BULK:G,REPLACE_DATATABLE_BULK:X,ADD_DATATABLE_COLUMN:Q,REMOVE_DATATABLE_COLUMN:J,UPDATE_DATATABLE_OFFSET:tt,UPDATE_DATATABLE_PAGE:et,UPDATE_DATATABLE_MAXPAGE:nt,UPDATE_DATATABLE_NAV:it,UPDATE_DATATABLE_VISIBLITY:rt,UPDATE_DATATABLE_SORT:ot,PUBLISH_DATATABLE:at,FEATURE_DATATABLE:st,UPDATE_DATATABLE_FILTER:lt,UPDATE_DATATABLE_FILTER_STATUS:ut,CLEAR_DATATABLE_FILTER:ct,UPDATE_DATATABLE_MESSAGE:dt,UPDATE_DATATABLE_LOADING:ft,UPDATE_DATATABLE_NESTED:pt,UPDATE_DATATABLE_TRACKER:ht},bt="updateParent",yt={UPDATE_PARENT:bt},vt=(n(1003),"emptyAttributes"),gt="updateAttributes",_t={EMPTY_OPTIONS:vt,UPDATE_OPTIONS:gt}},4576:function(t,e,n){"use strict";n.d(e,{sR:function(){return i}});var i="switchLanguage",r="updateLanguage",o="updatePublishedLanguage",a="publishLanguage",s="replaceLanguages",l="resetLanguages";e["ZP"]={SWITCH_LANG:i,UPDATE_LANG:r,PUBLISH_LANG:o,PUBLISH_SINGLE_LANG:a,REPLACE_LANGUAGES:s,RESET_LANGUAGES:l}},9193:function(t,e,n){"use strict";n.d(e,{A5:function(){return u},B5:function(){return w},Lo:function(){return h},lU:function(){return l},oY:function(){return a},tB:function(){return O}});var i="updateMediaTypeTotal",r="incrementMediaTypeTotal",o="decrementMediaTypeTotal",a="saveSelectedMedias",s="updateMedias",l="destroySelectedMedias",u="reorderSelectedMedias",c="progressUpload",d="progressUploadMedia",f="doneUploadMedia",p="errorUploadMedia",h="destroyMediasInSelected",m="updateMediaMax",b="updateMediaFilesizeMax",y="updateMediaWidthMin",v="updateMediaHeightMin",g="updateMediaType",_="resetMediaType",w="setMediaCrop",O="setMediaMetadatas",E="updateMediaConnector",S="updateMediaMode",k="destroyMediaConnector",T="updateReplaceIndex",P="addMedias";e["ZP"]={UPDATE_MEDIA_TYPE_TOTAL:i,INCREMENT_MEDIA_TYPE_TOTAL:r,DECREMENT_MEDIA_TYPE_TOTAL:o,SAVE_MEDIAS:a,DESTROY_MEDIAS:l,REORDER_MEDIAS:u,PROGRESS_UPLOAD:c,PROGRESS_UPLOAD_MEDIA:d,DONE_UPLOAD_MEDIA:f,ERROR_UPLOAD_MEDIA:p,DESTROY_SPECIFIC_MEDIA:h,UPDATE_MEDIA_MAX:m,UPDATE_MEDIA_FILESIZE_MAX:b,UPDATE_MEDIA_WIDTH_MIN:y,UPDATE_MEDIA_HEIGHT_MIN:v,UPDATE_MEDIA_TYPE:g,RESET_MEDIA_TYPE:_,SET_MEDIA_CROP:w,SET_MEDIA_METADATAS:O,UPDATE_MEDIA_CONNECTOR:E,UPDATE_MEDIA_MODE:S,DESTROY_MEDIA_CONNECTOR:k,UPDATE_REPLACE_INDEX:T,UPDATE_MEDIAS:s,ADD_MEDIAS:P}},484:function(t,e,n){"use strict";var i="setNotification",r="clearNotification";e["ZP"]={SET_NOTIF:i,CLEAR_NOTIF:r}},1003:function(t,e,n){"use strict";n.d(e,{d:function(){return s}});var i=n(7763),r=n(9628),o=n(4576),a=n(9193),s=[r.o$,r.yS,r.wQ,r.Fz,r.nX,r.Vi,r.Z2,r.I4,o.sR,a.B5,a.tB,a.oY,a.lU,a.Lo,a.A5,i.NM,i.Dh,i.uO,i.Ex]},3827:function(t,e,n){"use strict";function i(){var t,e,n,i,r,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"",value:null},l="";a&&"string"===typeof a&&(l="".concat("TWILL"," - [").concat(a,"]: "));var u,c=l+s.message,d=null!==(t=null!==(e=null===s||void 0===s||null===(n=s.value)||void 0===n||null===(i=n.response)||void 0===i?void 0:i.status)&&void 0!==e?e:null===s||void 0===s||null===(r=s.response)||void 0===r?void 0:r.status)&&void 0!==t?t:null;(console.error(c),null!==s&&void 0!==s&&s.value&&null!==(o=s.value)&&void 0!==o&&o.response)&&console.error(null===(u=s.value.response)||void 0===u?void 0:u.data);401===d||419===d?window["TWILL"].vm.notif({message:'Your session has expired, please <a href="'+document.location+'" target="_blank">login in another tab</a>. You can then continue working here.',variant:"warning"}):403===d&&window["TWILL"].vm.notif({message:"You don't have permission to perform this action.",variant:"warning"})}n.d(e,{I:function(){return i}})},1633:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var i=n(5616),r=n.n(i),o={publishDateDisplayFormat:window["TWILL"].STORE.config.publishDateDisplayFormat},a={},s={},l={},u={state:o,getters:a,mutations:s,actions:l},c=n(4293);function d(t,e){var i=c.k1[(0,c.BH)()];return r()(t,e,{locale:void 0!==i&&i.hasOwnProperty("date-fns")?i["date-fns"]:n(7479)})}var f={slugify:function(t){var e={",":"-","/":"-",":":"-",";":"-",_:"-","©":"(c)","·":"-","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","ā":"a","ă":"a","ą":"a","ć":"c","č":"c","ď":"d","ē":"e","ę":"e","ě":"e","ğ":"g","ģ":"g","ī":"i","ı":"i","ķ":"k","ļ":"l","ł":"l","ń":"n","ņ":"n","ň":"n","ő":"o","œ":"oe","ŕ":"r","ř":"r","ś":"s","ş":"s","š":"s","ť":"t","ū":"u","ů":"u","ű":"u","ź":"z","ż":"z","ž":"z","ǘ":"u","ǵ":"g","ǹ":"n","ș":"s","ț":"t","ΐ":"i","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","є":"ye","і":"i","ї":"yi","ґ":"g","ḧ":"h","ḿ":"m","ṕ":"p","ẃ":"w","ẍ":"x","ә":"a","ғ":"g","қ":"q","ң":"n","ө":"o","ұ":"u"},n=new RegExp(Object.keys(e).join("|"),"g");return t.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(n,(function(t){return e[t]})).replace(/&/g,"-and-").replace(/[^\w-]+/g,"-").replace(/--+/g,"-").replace(/(^-+)|(-+$)/,"")},prettierUrl:function(t){return t.replace(/^\/\/|^.*?:(\/\/)?/,"")},uppercase:function(t){return t||0===t?t.toString().toUpperCase():""},lowercase:function(t){return t||0===t?t.toString().toLowerCase():""},capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""},formatDate:function(t){return t?d(t,"MMM, DD, YYYY, "+(0,c.rA)()):""},formatDateWithFormat:function(t,e){return t||(t=new Date),d(t,e)},formatDatatableDate:function(t){var e=u.state.publishDateDisplayFormat.length>0?u.state.publishDateDisplayFormat:"MMM DD, YYYY";return t||(t=new Date),d(t,e)},formatCalendarDate:function(t){var e="MMM, DD, YYYY, "+(0,c.rA)();return t||(t=new Date),d(t,e)}},p=f},8963:function(t,e,n){"use strict";function i(t,e,n){for(var i=0;i<t.length;i++)e.call(n,t[i],i)}n.d(e,{Z:function(){return i}})},5573:function(t,e,n){"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t){var e=null,n=!1,r=/[^\[\]]+|\[\]/g,o=null,a=[];function s(t){return!(!t||"object"!==i(t)||!("nodeType"in t)||1!==t.nodeType)}function l(t){if(t&&"object"===i(t))return Object.keys(t).filter((function(t){return!isNaN(parseInt(t,10))})).splice(-1)[0]}function u(t){var e=l(t);return"string"===typeof e?parseInt(e,10):0}function c(t){var e=l(t);return"string"===typeof e?parseInt(e,10)+1:0}function d(t){if("object"!==i(t)||null===t)return 0;var e,n=0;if("function"===typeof Object.keys)n=Object.keys(t).length;else for(e in t)t.hasOwnProperty(e)&&n++;return n}function f(t,e){if([].forEach)return[].forEach.call(t,e);var n;for(n=0;n<t.length;n++)e.call(t,t[n],n)}function p(t){return!!t&&(e=t,!!h()&&(!!b()&&x()))}function h(){switch(i(e)){case"string":o=document.getElementById(e);break;case"object":s(e)&&(o=e);break}return o}function m(){return!(!o.enctype||"multipart/form-data"!==o.enctype)}function b(){return a=o.querySelectorAll("input, textarea, select"),a.length}function y(t){return"INPUT"===t.nodeName&&"radio"===t.type}function v(t){return"INPUT"===t.nodeName&&"checkbox"===t.type}function g(t){return"INPUT"===t.nodeName&&"file"===t.type}function _(t){return"TEXTAREA"===t.nodeName}function w(t){return"SELECT"===t.nodeName&&"select-one"===t.type}function O(t){return"SELECT"===t.nodeName&&"select-multiple"===t.type}function E(t){return"BUTTON"===t.nodeName&&"submit"===t.type}function S(t){return t.checked}function k(t){return window.FileList&&t.files instanceof window.FileList}function T(t){if(y(t))return!!S(t)&&t.value;if(v(t))return!!S(t)&&t.value;if(g(t))return!!m()&&(k(t)&&t.files.length>0?t.files:!(!t.value||""===t.value)&&t.value);if(_(t))return!(!t.value||""===t.value)&&t.value;if(w(t))return t.value&&""!==t.value?t.value:!(!t.options||!t.options.length||""===t.options[0].value)&&t.options[0].value;if(O(t)){if(t.options&&t.options.length>0){var e=[];return f(t.options,(function(t){t.selected&&e.push(t.value)})),(n||!!e.length)&&e}return!1}return E(t)?t.value&&""!==t.value?t.value:!(!t.innerText||""===t.innerText)&&t.innerText:"undefined"!==typeof t.value&&((n||""!==t.value)&&t.value)}function P(t,e,n,i){var r=e[0];if(y(t))return!1!==n?(i[r]=n,n):void 0;if(v(t))return!1!==n?(i[r]||(i[r]=[]),i[r].push(n)):void 0;if(O(t)){if(!1===n)return;i[r]=n}return i[r]=n,n}function C(t,e,n,i){var r=e[0];return e.length>1?"[]"===r?(i[c(i)]={},C(t,e.splice(1,e.length),n,i[u(i)])):(i[r]&&d(i[r])>0||(i[r]={}),C(t,e.splice(1,e.length),n,i[r])):1===e.length?"[]"===r?(i[c(i)]=n,i):(P(t,e,n,i),i):void 0}function x(){var t,e,i,o=0,s={};for(o=0;o<a.length;o++)e=a[o],!e.name||""===e.name||e.disabled||y(e)&&!S(e)||(i=T(e),(!1!==i||n)&&(t=e.name.match(r),1===t.length&&P(e,t,i||"",s),t.length>1&&C(e,t,i||"",s)));var l=d(s);return l>0&&s}return p(t)}n.d(e,{Z:function(){return r}})},9065:function(t,e,n){"use strict";n.d(e,{BI:function(){return _},b6:function(){return k},oH:function(){return w},s4:function(){return S},zi:function(){return T}});var i=n(8367),r=n.n(i);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e=u(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){var e=c(t,"string");return"symbol"===o(e)?e:String(e)}function c(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function d(t){return m(t)||h(t)||p(t)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,e){if(t){if("string"===typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}function h(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function m(t){if(Array.isArray(t))return b(t)}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object.assign.apply(Object,[{}].concat(d(Object.keys(t).map((function(n){if(e){if(v(n,e.id))return l({},g(n,e.id),t[n])}else if(!n.startsWith("blocks["))return l({},n,t[n]);return null})).filter((function(t){return t})))))},v=function(t,e){return t.startsWith("blocks["+e+"]")},g=function(t,e){var n=t.replace("blocks["+e+"][","");return n.match(/]/gi).length>1?n.replace("]",""):n.slice(0,-1)},_=function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object.keys(n.repeaters.repeaters),o=Object.assign.apply(Object,[{}].concat(d(r.filter((function(t){return t.startsWith("blocks-"+e.id+"|")})).map((function(i){return l({},i.replace("blocks-"+e.id+"|",""),n.repeaters.repeaters[i].map((function(e){return t(e,n,!0)})))}))))),a=Object.keys(n.blocks.blocks),u=Object.assign.apply(Object,[{}].concat(d(a.filter((function(t){return t.startsWith("blocks-"+e.id)})).map((function(i){return l({},i.replace("blocks-"+e.id+"|",""),n.blocks.blocks[i].map((function(e){return t(e,n)})))})))));return{id:e.id,type:e.type,is_repeater:i,editor_name:e.name,content:n.form.fields.filter((function(t){return v(t.name,e.id)})).map((function(t){return{name:g(t.name,e.id),value:t.value}})).reduce((function(t,e){return t[e.name]=e.value,t}),{}),medias:y(n.mediaLibrary.selected,e),browsers:y(n.browser.selected,e),blocks:s(s({},o),u)}},w=function(t){return r()(t.content)&&r()(t.browsers)&&r()(t.medias)&&r()(t.blocks)},O=function(t){return Object.assign.apply(Object,[{}].concat(d(Object.keys(t.repeaters.repeaters).filter((function(t){return!t.startsWith("blocks-")})).map((function(e){return l({},e,t.repeaters.repeaters[e].map((function(e){var n,i=_(e,t),r=i.content;return delete i.content,delete i.type,r.id=e.id,r.repeater_target_id=null!==(n=e.repeater_target_id)&&void 0!==n?n:null,Object.assign(i,r)})))})))))},E=function(t){var e=s({},t.blocks.blocks);return Object.keys(e).filter((function(t){return!t.startsWith("blocks-")})).map((function(n){return e[n].map((function(e){return e.name=n,_(e,t)}))})).flat()},S=function(t){var e=t.form.fields.filter((function(t){return!t.name.startsWith("blocks[")&&!t.name.startsWith("mediaMeta[")})).reduce((function(t,e){return t[e.name]=e.value,t}),{});return e},k=function(t){var e=t.form.modalFields.filter((function(t){return!t.name.startsWith("blocks[")&&!t.name.startsWith("mediaMeta[")})).reduce((function(t,e){return t[e.name]=e.value,t}),{});return e},T=function(t){var e=S(t),n=Object.assign(e,{cmsSaveType:t.form.type,published:t.publication.published,public:"public"===t.publication.visibility,publish_start_date:t.publication.startDate,publish_end_date:t.publication.endDate,languages:t.language.all,parent_id:t.parents.active,medias:y(t.mediaLibrary.selected),browsers:y(t.browser.selected),blocks:E(t),repeaters:O(t)});return n}},3523:function(t,e){"use strict";e["Z"]={modal:"s--modal",overlay:"s--overlay",editor:"s--in-editor",search:"s--search"}},2847:function(t,e,n){"use strict";n.d(e,{ve:function(){return i}});var i=function(t,e,n){return new Promise((function(i,r){var o=document.getElementById(t),a=function t(){o.removeEventListener("load",t),i()};o?o.addEventListener("load",a):(o=document.createElement("script"),o.setAttribute("id",t),o.type=n,o.onload=a,o.onerror=r,document.getElementsByTagName("head")[0].appendChild(o),o.src=e)}))}},4293:function(t,e,n){"use strict";n.d(e,{BH:function(){return f},aq:function(){return p},k1:function(){return d},rA:function(){return h}});var i=n(2805),r=n(122),o=n(6679),a=n(9323),s=n(6924),l=n(8809),u=n(4539),c=n(799),d={en:{"date-fns":n(7479)},"zh-Hans":{"date-fns":n(3612),flatpickr:c.Mandarin},ru:{"date-fns":n(6754),flatpickr:l.Russian},fr:{"date-fns":n(3126),flatpickr:r.French},pl:{"date-fns":n(3618),flatpickr:a.Polish},de:{"date-fns":n(6119),flatpickr:i.German},nl:{"date-fns":n(390),flatpickr:o.Dutch},pt:{"date-fns":n(3086),flatpickr:s.Portuguese},tr:{"date-fns":n(1062),flatpickr:u.Turkish}};function f(){return window["TWILL"].twillLocalization.locale}function p(){return 2===new Intl.DateTimeFormat(f(),{hour:"numeric"}).formatToParts(new Date(2020,0,1,13)).find((function(t){return"hour"===t.type})).value.length}function h(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return p()||t?"HH:mm":"hh:mm A"}},3835:function(t,e,n){"use strict";n.d(e,{NA:function(){return u},lO:function(){return l}});var i="undefined"!==typeof window,r=(i&&function(){var t=window.navigator.userAgent;(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&window.history)}(),i&&window.performance&&window.performance.now?window.performance:Date),o=a();function a(){return r.now().toFixed(3)}function s(t,e){var n=window.history;try{e?n.replaceState({key:o},"",t):(o=a(),n.pushState({key:o},"",t))}catch(i){window.location[e?"replace":"assign"](t)}}function l(t){s(t,!0)}function u(){return location.protocol+"//"+location.host+location.pathname}},5068:function(t,e){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i=function(t){var e,i={el:document,offset:0,duration:250,easing:"linear"},r=Date.now(),o=0,a=!1,s={linear:function(t){return t},easeIn:function(t){return t*t*t},easeOut:function(t){return--t*t*t+1},easeInOut:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1}},l=window.requestAnimationFrame;for(var u in t)"undefined"!==typeof t[u]&&(i[u]=t[u]);function c(t,e){return t<e?t:e}function d(){if(l)try{cancelAnimationFrame(e)}catch(t){}else clearTimeout(e)}function f(){if(a&&0===o)document.documentElement.scrollTop=1,document.body.scrollTop=1,o=1,i.el=document.documentElement.scrollTop?document.documentElement:document.body,requestAnimationFrame(f);else{var t=Date.now(),e=c(1,(t-r)/i.duration),l=s[i.easing](e);i.el.scrollTop=l*(i.offset-o)+o,e<1?p():(d(),"function"===n(i.onComplete).toLowerCase()&&i.onComplete.call(this))}}function p(){e=l?requestAnimationFrame(f):setTimeout((function(){f()}),1e3/60)}i.el===document&&(a=!0,i.el=document.documentElement.scrollTop?document.documentElement:document.body),o=i.el.scrollTop,o!==i.offset&&p()};e["Z"]=i}}]);