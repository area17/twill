<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Creating a Block Editor – Twill</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" href="/twill/twill/favicon.ico">
    <link rel="apple-touch-icon" href="/twill/twill/favicon-192.png">
    <meta name="description" content="Twill — An open source CMS toolkit for Laravel">
    <meta name="theme-color" content="#000000">
    <meta property="og:url" content="https://twill.io/">
    <meta name="twitter:url" content="https://twill.io/">
    <meta property="og:image" content="/twill/social_share.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:image" content="/twill/social_share.png">
    <meta itemprop="image" content="/twill/social_share.png">
    <meta property="og:site_name" content="Twill">
    <meta property="og:author" content="https://www.facebook.com/twillcms/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@twillcms">
    <meta name="twitter:domain" content="twill.io">
    <meta name="twitter:creator" content="@twillcms">
    
    <link rel="preload" href="/twill/assets/css/0.styles.f9abf095.css" as="style"><link rel="preload" href="/twill/assets/js/app.46323506.js" as="script"><link rel="preload" href="/twill/assets/js/3.0144cc68.js" as="script"><link rel="preload" href="/twill/assets/js/40.8bb74971.js" as="script"><link rel="prefetch" href="/twill/assets/js/10.c29614a7.js"><link rel="prefetch" href="/twill/assets/js/11.7718663c.js"><link rel="prefetch" href="/twill/assets/js/12.28db8228.js"><link rel="prefetch" href="/twill/assets/js/13.abacf2d7.js"><link rel="prefetch" href="/twill/assets/js/14.9f6c643a.js"><link rel="prefetch" href="/twill/assets/js/15.8e103287.js"><link rel="prefetch" href="/twill/assets/js/16.dad09cdf.js"><link rel="prefetch" href="/twill/assets/js/17.a5e55424.js"><link rel="prefetch" href="/twill/assets/js/18.ce14d9e6.js"><link rel="prefetch" href="/twill/assets/js/19.ee266a25.js"><link rel="prefetch" href="/twill/assets/js/20.a4162e5f.js"><link rel="prefetch" href="/twill/assets/js/21.36e7da8f.js"><link rel="prefetch" href="/twill/assets/js/22.e61bce16.js"><link rel="prefetch" href="/twill/assets/js/23.f55b3af4.js"><link rel="prefetch" href="/twill/assets/js/24.4f5edd19.js"><link rel="prefetch" href="/twill/assets/js/25.8976f918.js"><link rel="prefetch" href="/twill/assets/js/26.a8cfba08.js"><link rel="prefetch" href="/twill/assets/js/27.11179d1f.js"><link rel="prefetch" href="/twill/assets/js/28.50790164.js"><link rel="prefetch" href="/twill/assets/js/29.5c4e0c8a.js"><link rel="prefetch" href="/twill/assets/js/30.88a194bf.js"><link rel="prefetch" href="/twill/assets/js/31.e3b52548.js"><link rel="prefetch" href="/twill/assets/js/32.239904f2.js"><link rel="prefetch" href="/twill/assets/js/33.a06db2e7.js"><link rel="prefetch" href="/twill/assets/js/34.60cb056e.js"><link rel="prefetch" href="/twill/assets/js/35.000b20a1.js"><link rel="prefetch" href="/twill/assets/js/36.33d3068b.js"><link rel="prefetch" href="/twill/assets/js/37.e139f94e.js"><link rel="prefetch" href="/twill/assets/js/38.e2e761e6.js"><link rel="prefetch" href="/twill/assets/js/39.a9e89a45.js"><link rel="prefetch" href="/twill/assets/js/4.e65a3eb7.js"><link rel="prefetch" href="/twill/assets/js/41.be3c64de.js"><link rel="prefetch" href="/twill/assets/js/42.d4c0d477.js"><link rel="prefetch" href="/twill/assets/js/43.31806d78.js"><link rel="prefetch" href="/twill/assets/js/44.8166095b.js"><link rel="prefetch" href="/twill/assets/js/45.37770475.js"><link rel="prefetch" href="/twill/assets/js/46.a8148a26.js"><link rel="prefetch" href="/twill/assets/js/47.6113bd04.js"><link rel="prefetch" href="/twill/assets/js/48.19ae18bc.js"><link rel="prefetch" href="/twill/assets/js/49.183b644a.js"><link rel="prefetch" href="/twill/assets/js/5.8a1763a1.js"><link rel="prefetch" href="/twill/assets/js/50.397185bc.js"><link rel="prefetch" href="/twill/assets/js/51.940d0788.js"><link rel="prefetch" href="/twill/assets/js/52.27b4cc7c.js"><link rel="prefetch" href="/twill/assets/js/53.5de90e88.js"><link rel="prefetch" href="/twill/assets/js/54.b57f8aaa.js"><link rel="prefetch" href="/twill/assets/js/55.5e66dd2b.js"><link rel="prefetch" href="/twill/assets/js/56.d7ecc683.js"><link rel="prefetch" href="/twill/assets/js/57.5261c48f.js"><link rel="prefetch" href="/twill/assets/js/58.df9bbf62.js"><link rel="prefetch" href="/twill/assets/js/59.5f71f02a.js"><link rel="prefetch" href="/twill/assets/js/6.4b2a5b0b.js"><link rel="prefetch" href="/twill/assets/js/60.9f0b5def.js"><link rel="prefetch" href="/twill/assets/js/61.fe553585.js"><link rel="prefetch" href="/twill/assets/js/62.c051d0e0.js"><link rel="prefetch" href="/twill/assets/js/63.d057b357.js"><link rel="prefetch" href="/twill/assets/js/64.7e997a13.js"><link rel="prefetch" href="/twill/assets/js/65.d89a03a3.js"><link rel="prefetch" href="/twill/assets/js/66.16268a42.js"><link rel="prefetch" href="/twill/assets/js/67.937e324c.js"><link rel="prefetch" href="/twill/assets/js/68.d8211056.js"><link rel="prefetch" href="/twill/assets/js/69.6142bb96.js"><link rel="prefetch" href="/twill/assets/js/7.25cc5079.js"><link rel="prefetch" href="/twill/assets/js/70.7bb708a3.js"><link rel="prefetch" href="/twill/assets/js/71.ff3c0594.js"><link rel="prefetch" href="/twill/assets/js/72.4f3ad89e.js"><link rel="prefetch" href="/twill/assets/js/73.80421ebd.js"><link rel="prefetch" href="/twill/assets/js/74.04a5ce52.js"><link rel="prefetch" href="/twill/assets/js/75.269b52f4.js"><link rel="prefetch" href="/twill/assets/js/76.1bbd0757.js"><link rel="prefetch" href="/twill/assets/js/77.1b42dd6e.js"><link rel="prefetch" href="/twill/assets/js/78.e9657820.js"><link rel="prefetch" href="/twill/assets/js/79.e793b76d.js"><link rel="prefetch" href="/twill/assets/js/8.ed42283c.js"><link rel="prefetch" href="/twill/assets/js/80.20d345c1.js"><link rel="prefetch" href="/twill/assets/js/81.332d0949.js"><link rel="prefetch" href="/twill/assets/js/82.78366de5.js"><link rel="prefetch" href="/twill/assets/js/83.ea98f011.js"><link rel="prefetch" href="/twill/assets/js/84.28e58c91.js"><link rel="prefetch" href="/twill/assets/js/85.4fbd1f5d.js"><link rel="prefetch" href="/twill/assets/js/86.3d32057b.js"><link rel="prefetch" href="/twill/assets/js/87.61f32b52.js"><link rel="prefetch" href="/twill/assets/js/88.956c219c.js"><link rel="prefetch" href="/twill/assets/js/89.c0a79383.js"><link rel="prefetch" href="/twill/assets/js/9.92b9e8d5.js"><link rel="prefetch" href="/twill/assets/js/90.aebb6893.js"><link rel="prefetch" href="/twill/assets/js/vendors~docsearch.893906f2.js">
    <link rel="stylesheet" href="/twill/assets/css/0.styles.f9abf095.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container twill-doc"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/twill/" class="home-link router-link-active"><!----> <span class="site-name">Twill</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/area17/twill" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/area17/twill" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Documentation</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/twill/preface/" class="sidebar-heading clickable"><span>Preface</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/twill/getting-started/" class="sidebar-heading clickable"><span>Getting Started</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/twill/crud-modules/" class="sidebar-heading clickable"><span>Modules</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/twill/form-fields/" class="sidebar-heading clickable"><span>Form Fields</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/twill/block-editor/" class="sidebar-heading clickable router-link-active open"><span>Block Editor</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/twill/block-editor/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/twill/block-editor/creating-a-block-editor.html" aria-current="page" class="active sidebar-link">Creating a Block Editor</a></li><li><a href="/twill/block-editor/adding-repeater-fields-to-a-block.html" class="sidebar-link">Adding Repeater Fields to a Block</a></li><li><a href="/twill/block-editor/adding-browser-fields-to-a-block.html" class="sidebar-link">Adding Browser Fields to a Block</a></li><li><a href="/twill/block-editor/rendering-blocks.html" class="sidebar-link">Rendering Blocks</a></li><li><a href="/twill/block-editor/previewing-blocks.html" class="sidebar-link">Previewing Blocks</a></li><li><a href="/twill/block-editor/block-classes.html" class="sidebar-link">Block classes</a></li><li><a href="/twill/block-editor/validating-blocks.html" class="sidebar-link">Validating block fields</a></li><li><a href="/twill/block-editor/adding-data-to-block-forms.html" class="sidebar-link">Adding data to block forms</a></li><li><a href="/twill/block-editor/development-workflow.html" class="sidebar-link">Development Workflow</a></li><li><a href="/twill/block-editor/default-configuration.html" class="sidebar-link">Default Configuration</a></li><li><a href="/twill/block-editor/legacy-configuration-2-2.html" class="sidebar-link">Legacy Configuration (&lt; 2.2)</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/twill/media-library/" class="sidebar-heading clickable"><span>Media Library</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/twill/guides/" class="sidebar-heading clickable"><span>Guides</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/twill/artisan-commands/" class="sidebar-link">Artisan Commands</a></li><li><a href="/twill/dashboard/" class="sidebar-link">Dashboard</a></li><li><a href="/twill/global-search/" class="sidebar-link">Global Search</a></li><li><a href="/twill/featuring-content/" class="sidebar-link">Featuring Content</a></li><li><a href="/twill/settings-sections/" class="sidebar-link">Settings Sections</a></li><li><a href="/twill/custom-cms-pages/" class="sidebar-link">Custom CMS Pages</a></li><li><a href="/twill/user-management/" class="sidebar-link">User Management</a></li><li><a href="/twill/oauth-login/" class="sidebar-link">OAuth Login</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/twill/packages/" class="sidebar-heading clickable"><span>Packages</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/twill/resources/" class="sidebar-link">Resources</a></li><li><a href="/twill/api-documentation/" class="sidebar-link">API Documentation</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="creating-a-block-editor"><a href="#creating-a-block-editor" class="header-anchor">#</a> Creating a Block Editor</h1> <h4 id="include-the-block-editor-in-your-module-s-form"><a href="#include-the-block-editor-in-your-module-s-form" class="header-anchor">#</a> Include the block editor in your module's form</h4> <p>In order to add a block editor to your module, add the <code>block_editor</code> field to your module form. e.g.:</p> <div class="language-php extra-class"><pre class="language-php"><code>@<span class="token keyword">extends</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'twill::layouts.form'</span><span class="token punctuation">)</span>

@<span class="token function">section</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'contentFields'</span><span class="token punctuation">)</span>
    @<span class="token function">formField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'description'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Description'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">...</span>
    @<span class="token function">formField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'block_editor'</span><span class="token punctuation">)</span>
@stop
</code></pre></div><p>By default, adding the <code>@formField('block_editor')</code> directive enables all available <em>blocks</em> for use in your module. To scope only certain <em>blocks</em> to be available in a given module, you can add a second parameter to the <code>@formField()</code> directive with the <em>blocks</em> key. e.g.:</p> <div class="language-php extra-class"><pre class="language-php"><code>@<span class="token function">formField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'block_editor'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'blocks'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'quote'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'image'</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="create-and-define-blocks"><a href="#create-and-define-blocks" class="header-anchor">#</a> Create and define blocks</h4> <p>Blocks and Repeaters are built on the same Block model and are created and defined in their respective folders. By default, Twill will look for Blade templates in <code>views/admin/blocks</code> for blocks and <code>views/admin/repeaters</code> for repeaters.</p> <p>Note: Prior to Twill version 2.2, Blocks (and Repeaters) needed to be defined in the configuration file – this is no longer necessary and not recommended. This change is backward compatible, so your existing configuration should work as it used to. Defining blocks in the configuration file will be deprecated in a future release (see the section below <a href="/twill/block-editor/legacy-configuration-2-2.html">Legacy configuration</a>.</p> <p>Blocks (and Repeaters) are exactly like a regular form, without any Blade layout or section. The templates take special annotations to add further customization. The title annotation is mandatory and Twill will throw an error if it is not defined.</p> <p>Available annotations:</p> <ul><li>Provide a title with <code>@twillPropTitle</code> or <code>@twillBlockTitle</code> or <code>@twillRepeaterTitle</code> (mandatory)</li> <li>Provide a dynamic title with <code>@twillPropTitleField</code> or <code>@twillBlockTitleField</code> or <code>@twillRepeaterTitleField</code></li> <li>Provide an icon with <code>@twillPropIcon</code> or <code>@twillBlockIcon</code> or <code>@twillRepeaterIcon</code></li> <li>Provide a group with <code>@twillPropGroup</code> or <code>@twillBlockGroup</code> or <code>@twillRepeaterGroup</code> (defaults to <code>app</code>)</li> <li>Provide a repeater trigger label with <code>@twillPropTrigger</code> or <code>@twillRepeaterTrigger</code></li> <li>Provide a repeater max items with <code>@twillPropMax</code> or <code>@twillRepeaterMax</code>, <code>@twillRepeaterMax</code> can also be defined from
the formField. See <a href="/twill/form-fields/repeater.html">Repeater form field</a></li> <li>Define a block or repeater as compiled with <code>@twillPropCompiled</code> or <code>@twillBlockCompiled</code> or <code>@twillRepeaterCompiled</code></li> <li>Define a block or repeater component with <code>@twillPropComponent</code> or <code>@twillBlockComponent</code> or <code>@twillRepeaterComponent</code></li></ul> <p>e.g.:</p> <p>filename: <code>views/admin/blocks/quote.blade.php</code></p> <div class="language-php extra-class"><pre class="language-php"><code>@<span class="token function">twillBlockTitle</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Quote'</span><span class="token punctuation">)</span>
@<span class="token function">twillBlockIcon</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'text'</span><span class="token punctuation">)</span>

@<span class="token function">formField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'quote'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'type'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'textarea'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Quote text'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'maxlength'</span> <span class="token operator">=&gt;</span> <span class="token number">250</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'rows'</span> <span class="token operator">=&gt;</span> <span class="token number">4</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>A more complex example would look like this:</p> <p>filename: <code>views/admin/blocks/media.blade.php</code></p> <div class="language-php extra-class"><pre class="language-php"><code>@<span class="token function">twillBlockTitle</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Media'</span><span class="token punctuation">)</span>
@<span class="token function">twillBlockIcon</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'image'</span><span class="token punctuation">)</span>

@<span class="token function">formField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'medias'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'image'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Images'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'withVideoUrl'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'max'</span> <span class="token operator">=&gt;</span> <span class="token number">20</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

@<span class="token function">formField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'files'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'video'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Video'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'note'</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Video will overwrite previously selected images'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'max'</span>   <span class="token operator">=&gt;</span> <span class="token number">1</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

@<span class="token function">formField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'caption'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Caption'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'maxlength'</span> <span class="token operator">=&gt;</span> <span class="token number">250</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'translated'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

@<span class="token function">formField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'select'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'effect'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Transition Effect'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'placeholder'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Select Transition Effect'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'default'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'cut'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'options'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'value'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'cut'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Cut'</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'value'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'fade'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Fade In/Out'</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

@<span class="token function">formField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'color'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'bg'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Background color'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'note'</span>  <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Default is light grey (#E6E6E6)'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

@<span class="token function">formField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'timing'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Timing'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'maxlength'</span> <span class="token operator">=&gt;</span> <span class="token number">250</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'note'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Timing in ms (default is 4000ms)'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>With that, the <em>block</em> is ready to be used on the form!</p> <h5 id="dynamic-block-titles"><a href="#dynamic-block-titles" class="header-anchor">#</a> Dynamic block titles</h5> <p>In Twill &gt;= 2.5, you can use the <code>@twillBlockTitleField</code> directive to include the value of a given field in the title area of the blocks. This directive also accepts a <code>hidePrefix</code> option to hide the generic block title:</p> <div class="language-php extra-class"><pre class="language-php"><code>@<span class="token function">twillBlockTitle</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Section'</span><span class="token punctuation">)</span>
@<span class="token function">twillBlockTitleField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'title'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'hidePrefix'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
@<span class="token function">twillBlockIcon</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'text'</span><span class="token punctuation">)</span>
@<span class="token function">twillBlockGroup</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'app'</span><span class="token punctuation">)</span>

@<span class="token function">formField</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'title'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Title'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'required'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token operator">...</span>
</code></pre></div><h5 id="create-a-block-from-an-existing-block-template"><a href="#create-a-block-from-an-existing-block-template" class="header-anchor">#</a> Create a block from an existing block template</h5> <p>Using <code>php artisan twill:make:block {name} {baseBlock} {icon}</code>, you can generate a new block based on a provided block as a base.</p> <p>This example would create <code>views/admin/blocks/exceptional-media.blade.php</code> from <code>views/admin/blocks/media.blade.php</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>$ php artisan twill:make:block ExceptionalMedia media image
</code></pre></div><h5 id="list-existing-blocks-and-repeaters"><a href="#list-existing-blocks-and-repeaters" class="header-anchor">#</a> List existing blocks and repeaters</h5> <p>Using <code>php artisan twill:list:blocks</code> will list all blocks and repeaters. There are a few options:</p> <ul><li><code>-s|--shorter</code> for a shorter table,</li> <li><code>-b|--blocks</code> for blocks only,</li> <li><code>-r|--repeaters</code> for repeaters only,</li> <li><code>-a|--app</code> for app blocks/repeaters only,</li> <li><code>-c|--custom</code> for app blocks/repeaters overriding Twill blocks/repeaters only,</li> <li><code>-t|--twill</code> for Twill blocks/repeaters only</li></ul> <h5 id="list-existing-icons"><a href="#list-existing-icons" class="header-anchor">#</a> List existing icons</h5> <p><code>php artisan twill:list:icons</code> will list all icons available.</p> <h5 id="using-custom-icons"><a href="#using-custom-icons" class="header-anchor">#</a> Using custom icons</h5> <p>If you want to use custom icons in a block, you have to define the source directory's path in <code>config/twill.php</code>. Add it under <code>block_editor.directories.source.icons</code> key:</p> <p>filename: <code>config/twill.php</code></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span>
    <span class="token string single-quoted-string">'block_editor'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'directories'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'source'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'icons'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                    <span class="token function">base_path</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'vendor/area17/twill/frontend/icons'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token function">resource_path</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'assets/admin/icons'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// or any other path of your choice</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>See also <a href="https://twill.io/docs/block-editor/default-configuration.html" target="_blank" rel="noopener noreferrer">Default Configuration<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>If the <code>resource_path('assets/admin/icons')</code> directory contains a <code>my-custom-icon.svg</code> file, you can use this icon in your block by using its basename: <code>@twillBlockIcon('my-custom-icon')</code>.</p> <h4 id="use-block-traits-in-your-model-and-repository"><a href="#use-block-traits-in-your-model-and-repository" class="header-anchor">#</a> Use Block traits in your Model and Repository</h4> <p>Now, to handle the block data you must integrate it with your module. <em>Use</em> the <em>Blocks</em> traits in the Model and Repository associated with your module.
If you generated that module from the CLI and did respond yes to the question asking you about using blocks, this should already be the case for you.</p> <p>In your model, use <code>HasBlocks</code>:</p> <p>filename: <code>app/Models/Article.php</code></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Models</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">A17<span class="token punctuation">\</span>Twill<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Behaviors<span class="token punctuation">\</span>HasBlocks</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">A17<span class="token punctuation">\</span>Twill<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Article</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HasBlocks</span><span class="token punctuation">;</span>

    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>In your repository, use <code>HandleBlocks</code>:</p> <p>filename: <code>app/Repositories/ArticleRepository.php</code></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Repositories</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">A17<span class="token punctuation">\</span>Twill<span class="token punctuation">\</span>Repositories<span class="token punctuation">\</span>Behaviors<span class="token punctuation">\</span>HandleBlocks</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">A17<span class="token punctuation">\</span>Twill<span class="token punctuation">\</span>Repositories<span class="token punctuation">\</span>ModuleRepository</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>Article</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ArticleRepository</span> <span class="token keyword">extends</span> <span class="token class-name">ModuleRepository</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HandleBlocks</span><span class="token punctuation">;</span>

    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</span></code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/area17/twill/edit/2.x/docs/src/block-editor/creating-a-block-editor.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/twill/block-editor/" class="prev router-link-active">
        Overview
      </a></span> <span class="next"><a href="/twill/block-editor/adding-repeater-fields-to-a-block.html">
        Adding Repeater Fields to a Block
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/twill/assets/js/app.46323506.js" defer></script><script src="/twill/assets/js/3.0144cc68.js" defer></script><script src="/twill/assets/js/40.8bb74971.js" defer></script>
  </body>
</html>
